{"mappings":"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,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACF,CACD,EAAG,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACD,CACF,CACD,EAAG,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACD,CACE,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACD,CACF,CACD,EAAG,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACD,CACE,wBACA,wBACA,wBACA,wBACA,wBACD,CACF,CACD,EAAG,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACD,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACF,CACD,EAAG,CAAC,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CAAC,CAC5D,EAAG,CACD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAU,CACvD,CAAC,UAAW,UAAW,UAAW,UAAW,U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","sources":["<anon>","node_modules/debug/src/browser.js","node_modules/process/browser.js","node_modules/debug/src/common.js","node_modules/ms/index.js","node_modules/lodash.merge/index.js","src/index.ts","src/Game.ts","node_modules/eventemitter3/index.js","node_modules/random-seedable/src/index.js","node_modules/random-seedable/src/xorshift64.js","node_modules/random-seedable/src/PRNG64.js","node_modules/random-seedable/src/PRNG.js","node_modules/random-seedable/src/constants.js","node_modules/random-seedable/src/lcg.js","node_modules/random-seedable/src/pcg.js","node_modules/random-seedable/src/mersenneTwister.js","node_modules/random-seedable/src/xorshift.js","node_modules/random-seedable/src/xorshift128.js","node_modules/random-seedable/src/xorshift128Plus.js","node_modules/random-seedable/src/xorwow.js","node_modules/wglt/dist/esm/index.mjs","node_modules/wglt/src/boxutils.ts","node_modules/wglt/src/color.ts","node_modules/wglt/src/palettes/colors.ts","node_modules/wglt/src/serialize.ts","node_modules/wglt/src/cell.ts","node_modules/wglt/src/chars.ts","node_modules/wglt/src/gui/message.ts","node_modules/wglt/src/utils.ts","node_modules/wglt/src/console.ts","node_modules/wglt/src/font.ts","node_modules/wglt/src/fov.ts","node_modules/wglt/src/point.ts","node_modules/wglt/src/rect.ts","node_modules/wglt/src/gui/dialogstate.ts","node_modules/wglt/src/gui/defaultdialogrenderer.ts","node_modules/wglt/src/gui.ts","node_modules/wglt/src/gui/dialog.ts","node_modules/wglt/src/input.ts","node_modules/wglt/src/keys.ts","node_modules/wglt/src/gui/messagedialog.ts","node_modules/wglt/src/gui/scrollablemessagedialog.ts","node_modules/wglt/src/gui/selectdialog.ts","node_modules/wglt/src/image.ts","node_modules/wglt/src/mouse.ts","node_modules/wglt/src/palettes/c64.ts","node_modules/wglt/src/palettes/colodore.ts","node_modules/wglt/src/palettes/pico8.ts","node_modules/wglt/src/path.ts","node_modules/wglt/src/rng.ts","node_modules/wglt/src/shaders.ts","node_modules/wglt/src/terminal.ts","src/AmorphousAreaGenerator.ts","node_modules/deepcopy/umd/deepcopy.js","node_modules/deepcopy/node_modules/type-detect/type-detect.js","node_modules/deepcopy/src/buffer.mjs","node_modules/deepcopy/src/detector.mjs","node_modules/deepcopy/src/collection.mjs","node_modules/deepcopy/src/global.mjs","node_modules/deepcopy/src/copy_map.mjs","node_modules/deepcopy/src/copier.mjs","node_modules/deepcopy/src/index.mjs","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","src/aagStuff.ts","src/formulae.ts","src/GameMap.ts","src/Grid.ts","src/components.ts","src/ecs.ts","node_modules/deep-object-diff/mjs/index.js","node_modules/deep-object-diff/mjs/diff.js","node_modules/deep-object-diff/mjs/utils.js","node_modules/deep-object-diff/mjs/added.js","node_modules/deep-object-diff/mjs/deleted.js","node_modules/deep-object-diff/mjs/updated.js","node_modules/deep-object-diff/mjs/detailed.js","node_modules/nanoid/non-secure/index.js","src/resources.ts","src/*.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-495bf83a2a6f4eca.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-c53706299255e57c.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-894f4469d45c26d0.js","src/parsers/MonsterCategoryParser.ts","node_modules/@lagdotcom/boring-parser/index.ts","node_modules/@lagdotcom/boring-parser/src/DocumentParser.ts","node_modules/@lagdotcom/boring-parser/src/ParseError.ts","node_modules/@lagdotcom/boring-parser/src/IntParser.ts","node_modules/@lagdotcom/boring-parser/src/utils.ts","node_modules/@lagdotcom/boring-parser/src/NumberParser.ts","node_modules/@lagdotcom/boring-parser/src/Parser.ts","node_modules/@lagdotcom/boring-parser/src/StringParser.ts","node_modules/@lagdotcom/boring-parser/src/TagParser.ts","src/parsers/AttackParser.ts","src/parsers/tools.ts","src/parsers/DropParser.ts","src/parsers/StatusParser.ts","src/parsers/MonsterParser.ts","src/parsers/AttsParser.ts","src/parsers/PaletteParser.ts","src/ResourceError.ts","src/systems/DrawScreen.ts","src/systems/PlayerFOV.ts","src/Tile.ts","src/systems/PlayerMove.ts"],"sourcesContent":["\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire4ff8\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire4ff8\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"cR93q\", function(module, exports) {\n/* eslint-env browser */ /**\n * This is the web browser implementation of `debug()`.\n */ \nvar $4TNnu = parcelRequire(\"4TNnu\");\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (()=>{\n    let warned = false;\n    return ()=>{\n        if (!warned) {\n            warned = true;\n            console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");\n        }\n    };\n})();\n/**\n * Colors.\n */ exports.colors = [\n    \"#0000CC\",\n    \"#0000FF\",\n    \"#0033CC\",\n    \"#0033FF\",\n    \"#0066CC\",\n    \"#0066FF\",\n    \"#0099CC\",\n    \"#0099FF\",\n    \"#00CC00\",\n    \"#00CC33\",\n    \"#00CC66\",\n    \"#00CC99\",\n    \"#00CCCC\",\n    \"#00CCFF\",\n    \"#3300CC\",\n    \"#3300FF\",\n    \"#3333CC\",\n    \"#3333FF\",\n    \"#3366CC\",\n    \"#3366FF\",\n    \"#3399CC\",\n    \"#3399FF\",\n    \"#33CC00\",\n    \"#33CC33\",\n    \"#33CC66\",\n    \"#33CC99\",\n    \"#33CCCC\",\n    \"#33CCFF\",\n    \"#6600CC\",\n    \"#6600FF\",\n    \"#6633CC\",\n    \"#6633FF\",\n    \"#66CC00\",\n    \"#66CC33\",\n    \"#9900CC\",\n    \"#9900FF\",\n    \"#9933CC\",\n    \"#9933FF\",\n    \"#99CC00\",\n    \"#99CC33\",\n    \"#CC0000\",\n    \"#CC0033\",\n    \"#CC0066\",\n    \"#CC0099\",\n    \"#CC00CC\",\n    \"#CC00FF\",\n    \"#CC3300\",\n    \"#CC3333\",\n    \"#CC3366\",\n    \"#CC3399\",\n    \"#CC33CC\",\n    \"#CC33FF\",\n    \"#CC6600\",\n    \"#CC6633\",\n    \"#CC9900\",\n    \"#CC9933\",\n    \"#CCCC00\",\n    \"#CCCC33\",\n    \"#FF0000\",\n    \"#FF0033\",\n    \"#FF0066\",\n    \"#FF0099\",\n    \"#FF00CC\",\n    \"#FF00FF\",\n    \"#FF3300\",\n    \"#FF3333\",\n    \"#FF3366\",\n    \"#FF3399\",\n    \"#FF33CC\",\n    \"#FF33FF\",\n    \"#FF6600\",\n    \"#FF6633\",\n    \"#FF9900\",\n    \"#FF9933\",\n    \"#FFCC00\",\n    \"#FFCC33\"\n];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */ // eslint-disable-next-line complexity\nfunction useColors() {\n    // NB: In an Electron preload script, document will be defined but not fully\n    // initialized. Since we know we're in Chrome, we'll just detect this case\n    // explicitly\n    if (typeof window !== \"undefined\" && window.process && (window.process.type === \"renderer\" || window.process.__nwjs)) return true;\n    // Internet Explorer and Edge do not support colors.\n    if (typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) return false;\n    // Is webkit? http://stackoverflow.com/a/16459606/376773\n    // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n    return typeof document !== \"undefined\" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n    typeof window !== \"undefined\" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n    typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */ function formatArgs(args) {\n    args[0] = (this.useColors ? \"%c\" : \"\") + this.namespace + (this.useColors ? \" %c\" : \" \") + args[0] + (this.useColors ? \"%c \" : \" \") + \"+\" + module.exports.humanize(this.diff);\n    if (!this.useColors) return;\n    const c = \"color: \" + this.color;\n    args.splice(1, 0, c, \"color: inherit\");\n    // The final \"%c\" is somewhat tricky, because there could be other\n    // arguments passed either before or after the %c, so we need to\n    // figure out the correct index to insert the CSS into\n    let index = 0;\n    let lastC = 0;\n    args[0].replace(/%[a-zA-Z%]/g, (match)=>{\n        if (match === \"%%\") return;\n        index++;\n        if (match === \"%c\") // We only are interested in the *last* %c\n        // (the user may have provided their own)\n        lastC = index;\n    });\n    args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */ exports.log = console.debug || console.log || (()=>{});\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */ function save(namespaces) {\n    try {\n        if (namespaces) exports.storage.setItem(\"debug\", namespaces);\n        else exports.storage.removeItem(\"debug\");\n    } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n    }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */ function load() {\n    let r;\n    try {\n        r = exports.storage.getItem(\"debug\");\n    } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n    }\n    // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n    if (!r && typeof $4TNnu !== \"undefined\" && \"env\" in $4TNnu) r = undefined;\n    return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */ function localstorage() {\n    try {\n        // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n        // The Browser also has localStorage in the global context.\n        return localStorage;\n    } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n    }\n}\n\nmodule.exports = (parcelRequire(\"dq0A1\"))(exports);\nconst { formatters } = module.exports;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */ formatters.j = function(v) {\n    try {\n        return JSON.stringify(v);\n    } catch (error) {\n        return \"[UnexpectedJSONParseError]: \" + error.message;\n    }\n};\n\n});\nparcelRegister(\"4TNnu\", function(module, exports) {\n// shim for using process in browser\nvar $391299e0893a3dfa$var$process = module.exports = {};\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nvar $391299e0893a3dfa$var$cachedSetTimeout;\nvar $391299e0893a3dfa$var$cachedClearTimeout;\nfunction $391299e0893a3dfa$var$defaultSetTimout() {\n    throw new Error(\"setTimeout has not been defined\");\n}\nfunction $391299e0893a3dfa$var$defaultClearTimeout() {\n    throw new Error(\"clearTimeout has not been defined\");\n}\n(function() {\n    try {\n        if (typeof setTimeout === \"function\") $391299e0893a3dfa$var$cachedSetTimeout = setTimeout;\n        else $391299e0893a3dfa$var$cachedSetTimeout = $391299e0893a3dfa$var$defaultSetTimout;\n    } catch (e) {\n        $391299e0893a3dfa$var$cachedSetTimeout = $391299e0893a3dfa$var$defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \"function\") $391299e0893a3dfa$var$cachedClearTimeout = clearTimeout;\n        else $391299e0893a3dfa$var$cachedClearTimeout = $391299e0893a3dfa$var$defaultClearTimeout;\n    } catch (e) {\n        $391299e0893a3dfa$var$cachedClearTimeout = $391299e0893a3dfa$var$defaultClearTimeout;\n    }\n})();\nfunction $391299e0893a3dfa$var$runTimeout(fun) {\n    if ($391299e0893a3dfa$var$cachedSetTimeout === setTimeout) //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n    // if setTimeout wasn't available but was latter defined\n    if (($391299e0893a3dfa$var$cachedSetTimeout === $391299e0893a3dfa$var$defaultSetTimout || !$391299e0893a3dfa$var$cachedSetTimeout) && setTimeout) {\n        $391299e0893a3dfa$var$cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $391299e0893a3dfa$var$cachedSetTimeout(fun, 0);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return $391299e0893a3dfa$var$cachedSetTimeout.call(null, fun, 0);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return $391299e0893a3dfa$var$cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction $391299e0893a3dfa$var$runClearTimeout(marker) {\n    if ($391299e0893a3dfa$var$cachedClearTimeout === clearTimeout) //normal enviroments in sane situations\n    return clearTimeout(marker);\n    // if clearTimeout wasn't available but was latter defined\n    if (($391299e0893a3dfa$var$cachedClearTimeout === $391299e0893a3dfa$var$defaultClearTimeout || !$391299e0893a3dfa$var$cachedClearTimeout) && clearTimeout) {\n        $391299e0893a3dfa$var$cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $391299e0893a3dfa$var$cachedClearTimeout(marker);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return $391299e0893a3dfa$var$cachedClearTimeout.call(null, marker);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return $391299e0893a3dfa$var$cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nvar $391299e0893a3dfa$var$queue = [];\nvar $391299e0893a3dfa$var$draining = false;\nvar $391299e0893a3dfa$var$currentQueue;\nvar $391299e0893a3dfa$var$queueIndex = -1;\nfunction $391299e0893a3dfa$var$cleanUpNextTick() {\n    if (!$391299e0893a3dfa$var$draining || !$391299e0893a3dfa$var$currentQueue) return;\n    $391299e0893a3dfa$var$draining = false;\n    if ($391299e0893a3dfa$var$currentQueue.length) $391299e0893a3dfa$var$queue = $391299e0893a3dfa$var$currentQueue.concat($391299e0893a3dfa$var$queue);\n    else $391299e0893a3dfa$var$queueIndex = -1;\n    if ($391299e0893a3dfa$var$queue.length) $391299e0893a3dfa$var$drainQueue();\n}\nfunction $391299e0893a3dfa$var$drainQueue() {\n    if ($391299e0893a3dfa$var$draining) return;\n    var timeout = $391299e0893a3dfa$var$runTimeout($391299e0893a3dfa$var$cleanUpNextTick);\n    $391299e0893a3dfa$var$draining = true;\n    var len = $391299e0893a3dfa$var$queue.length;\n    while(len){\n        $391299e0893a3dfa$var$currentQueue = $391299e0893a3dfa$var$queue;\n        $391299e0893a3dfa$var$queue = [];\n        while(++$391299e0893a3dfa$var$queueIndex < len)if ($391299e0893a3dfa$var$currentQueue) $391299e0893a3dfa$var$currentQueue[$391299e0893a3dfa$var$queueIndex].run();\n        $391299e0893a3dfa$var$queueIndex = -1;\n        len = $391299e0893a3dfa$var$queue.length;\n    }\n    $391299e0893a3dfa$var$currentQueue = null;\n    $391299e0893a3dfa$var$draining = false;\n    $391299e0893a3dfa$var$runClearTimeout(timeout);\n}\n$391299e0893a3dfa$var$process.nextTick = function(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) for(var i = 1; i < arguments.length; i++)args[i - 1] = arguments[i];\n    $391299e0893a3dfa$var$queue.push(new $391299e0893a3dfa$var$Item(fun, args));\n    if ($391299e0893a3dfa$var$queue.length === 1 && !$391299e0893a3dfa$var$draining) $391299e0893a3dfa$var$runTimeout($391299e0893a3dfa$var$drainQueue);\n};\n// v8 likes predictible objects\nfunction $391299e0893a3dfa$var$Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\n$391299e0893a3dfa$var$Item.prototype.run = function() {\n    this.fun.apply(null, this.array);\n};\n$391299e0893a3dfa$var$process.title = \"browser\";\n$391299e0893a3dfa$var$process.browser = true;\n$391299e0893a3dfa$var$process.env = {};\n$391299e0893a3dfa$var$process.argv = [];\n$391299e0893a3dfa$var$process.version = \"\"; // empty string to avoid regexp issues\n$391299e0893a3dfa$var$process.versions = {};\nfunction $391299e0893a3dfa$var$noop() {}\n$391299e0893a3dfa$var$process.on = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.addListener = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.once = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.off = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.removeListener = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.removeAllListeners = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.emit = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.prependListener = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.prependOnceListener = $391299e0893a3dfa$var$noop;\n$391299e0893a3dfa$var$process.listeners = function(name) {\n    return [];\n};\n$391299e0893a3dfa$var$process.binding = function(name) {\n    throw new Error(\"process.binding is not supported\");\n};\n$391299e0893a3dfa$var$process.cwd = function() {\n    return \"/\";\n};\n$391299e0893a3dfa$var$process.chdir = function(dir) {\n    throw new Error(\"process.chdir is not supported\");\n};\n$391299e0893a3dfa$var$process.umask = function() {\n    return 0;\n};\n\n});\n\nparcelRegister(\"dq0A1\", function(module, exports) {\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */ \nfunction $9c4e273f332ed0f4$var$setup(env) {\n    createDebug.debug = createDebug;\n    createDebug.default = createDebug;\n    createDebug.coerce = coerce;\n    createDebug.disable = disable;\n    createDebug.enable = enable;\n    createDebug.enabled = enabled;\n    createDebug.humanize = (parcelRequire(\"ihDXb\"));\n    createDebug.destroy = destroy;\n    Object.keys(env).forEach((key)=>{\n        createDebug[key] = env[key];\n    });\n    /**\n\t* The currently active debug mode names, and names to skip.\n\t*/ createDebug.names = [];\n    createDebug.skips = [];\n    /**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/ createDebug.formatters = {};\n    /**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/ function selectColor(namespace) {\n        let hash = 0;\n        for(let i = 0; i < namespace.length; i++){\n            hash = (hash << 5) - hash + namespace.charCodeAt(i);\n            hash |= 0; // Convert to 32bit integer\n        }\n        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n    }\n    createDebug.selectColor = selectColor;\n    /**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/ function createDebug(namespace) {\n        let prevTime;\n        let enableOverride = null;\n        let namespacesCache;\n        let enabledCache;\n        function debug(...args) {\n            // Disabled?\n            if (!debug.enabled) return;\n            const self = debug;\n            // Set `diff` timestamp\n            const curr = Number(new Date());\n            const ms = curr - (prevTime || curr);\n            self.diff = ms;\n            self.prev = prevTime;\n            self.curr = curr;\n            prevTime = curr;\n            args[0] = createDebug.coerce(args[0]);\n            if (typeof args[0] !== \"string\") // Anything else let's inspect with %O\n            args.unshift(\"%O\");\n            // Apply any `formatters` transformations\n            let index = 0;\n            args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format)=>{\n                // If we encounter an escaped % then don't increase the array index\n                if (match === \"%%\") return \"%\";\n                index++;\n                const formatter = createDebug.formatters[format];\n                if (typeof formatter === \"function\") {\n                    const val = args[index];\n                    match = formatter.call(self, val);\n                    // Now we need to remove `args[index]` since it's inlined in the `format`\n                    args.splice(index, 1);\n                    index--;\n                }\n                return match;\n            });\n            // Apply env-specific formatting (colors, etc.)\n            createDebug.formatArgs.call(self, args);\n            const logFn = self.log || createDebug.log;\n            logFn.apply(self, args);\n        }\n        debug.namespace = namespace;\n        debug.useColors = createDebug.useColors();\n        debug.color = createDebug.selectColor(namespace);\n        debug.extend = extend;\n        debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n        Object.defineProperty(debug, \"enabled\", {\n            enumerable: true,\n            configurable: false,\n            get: ()=>{\n                if (enableOverride !== null) return enableOverride;\n                if (namespacesCache !== createDebug.namespaces) {\n                    namespacesCache = createDebug.namespaces;\n                    enabledCache = createDebug.enabled(namespace);\n                }\n                return enabledCache;\n            },\n            set: (v)=>{\n                enableOverride = v;\n            }\n        });\n        // Env-specific initialization logic for debug instances\n        if (typeof createDebug.init === \"function\") createDebug.init(debug);\n        return debug;\n    }\n    function extend(namespace, delimiter) {\n        const newDebug = createDebug(this.namespace + (typeof delimiter === \"undefined\" ? \":\" : delimiter) + namespace);\n        newDebug.log = this.log;\n        return newDebug;\n    }\n    /**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/ function enable(namespaces) {\n        createDebug.save(namespaces);\n        createDebug.namespaces = namespaces;\n        createDebug.names = [];\n        createDebug.skips = [];\n        let i;\n        const split = (typeof namespaces === \"string\" ? namespaces : \"\").split(/[\\s,]+/);\n        const len = split.length;\n        for(i = 0; i < len; i++){\n            if (!split[i]) continue;\n            namespaces = split[i].replace(/\\*/g, \".*?\");\n            if (namespaces[0] === \"-\") createDebug.skips.push(new RegExp(\"^\" + namespaces.slice(1) + \"$\"));\n            else createDebug.names.push(new RegExp(\"^\" + namespaces + \"$\"));\n        }\n    }\n    /**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/ function disable() {\n        const namespaces = [\n            ...createDebug.names.map(toNamespace),\n            ...createDebug.skips.map(toNamespace).map((namespace)=>\"-\" + namespace)\n        ].join(\",\");\n        createDebug.enable(\"\");\n        return namespaces;\n    }\n    /**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/ function enabled(name) {\n        if (name[name.length - 1] === \"*\") return true;\n        let i;\n        let len;\n        for(i = 0, len = createDebug.skips.length; i < len; i++){\n            if (createDebug.skips[i].test(name)) return false;\n        }\n        for(i = 0, len = createDebug.names.length; i < len; i++){\n            if (createDebug.names[i].test(name)) return true;\n        }\n        return false;\n    }\n    /**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/ function toNamespace(regexp) {\n        return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, \"*\");\n    }\n    /**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/ function coerce(val) {\n        if (val instanceof Error) return val.stack || val.message;\n        return val;\n    }\n    /**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/ function destroy() {\n        console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");\n    }\n    createDebug.enable(createDebug.load());\n    return createDebug;\n}\nmodule.exports = $9c4e273f332ed0f4$var$setup;\n\n});\nparcelRegister(\"ihDXb\", function(module, exports) {\n/**\n * Helpers.\n */ var $d4f8ce75742e0993$var$s = 1000;\nvar $d4f8ce75742e0993$var$m = $d4f8ce75742e0993$var$s * 60;\nvar $d4f8ce75742e0993$var$h = $d4f8ce75742e0993$var$m * 60;\nvar $d4f8ce75742e0993$var$d = $d4f8ce75742e0993$var$h * 24;\nvar $d4f8ce75742e0993$var$w = $d4f8ce75742e0993$var$d * 7;\nvar $d4f8ce75742e0993$var$y = $d4f8ce75742e0993$var$d * 365.25;\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */ module.exports = function(val, options) {\n    options = options || {};\n    var type = typeof val;\n    if (type === \"string\" && val.length > 0) return $d4f8ce75742e0993$var$parse(val);\n    else if (type === \"number\" && isFinite(val)) return options.long ? $d4f8ce75742e0993$var$fmtLong(val) : $d4f8ce75742e0993$var$fmtShort(val);\n    throw new Error(\"val is not a non-empty string or a valid number. val=\" + JSON.stringify(val));\n};\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */ function $d4f8ce75742e0993$var$parse(str) {\n    str = String(str);\n    if (str.length > 100) return;\n    var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n    if (!match) return;\n    var n = parseFloat(match[1]);\n    var type = (match[2] || \"ms\").toLowerCase();\n    switch(type){\n        case \"years\":\n        case \"year\":\n        case \"yrs\":\n        case \"yr\":\n        case \"y\":\n            return n * $d4f8ce75742e0993$var$y;\n        case \"weeks\":\n        case \"week\":\n        case \"w\":\n            return n * $d4f8ce75742e0993$var$w;\n        case \"days\":\n        case \"day\":\n        case \"d\":\n            return n * $d4f8ce75742e0993$var$d;\n        case \"hours\":\n        case \"hour\":\n        case \"hrs\":\n        case \"hr\":\n        case \"h\":\n            return n * $d4f8ce75742e0993$var$h;\n        case \"minutes\":\n        case \"minute\":\n        case \"mins\":\n        case \"min\":\n        case \"m\":\n            return n * $d4f8ce75742e0993$var$m;\n        case \"seconds\":\n        case \"second\":\n        case \"secs\":\n        case \"sec\":\n        case \"s\":\n            return n * $d4f8ce75742e0993$var$s;\n        case \"milliseconds\":\n        case \"millisecond\":\n        case \"msecs\":\n        case \"msec\":\n        case \"ms\":\n            return n;\n        default:\n            return undefined;\n    }\n}\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */ function $d4f8ce75742e0993$var$fmtShort(ms) {\n    var msAbs = Math.abs(ms);\n    if (msAbs >= $d4f8ce75742e0993$var$d) return Math.round(ms / $d4f8ce75742e0993$var$d) + \"d\";\n    if (msAbs >= $d4f8ce75742e0993$var$h) return Math.round(ms / $d4f8ce75742e0993$var$h) + \"h\";\n    if (msAbs >= $d4f8ce75742e0993$var$m) return Math.round(ms / $d4f8ce75742e0993$var$m) + \"m\";\n    if (msAbs >= $d4f8ce75742e0993$var$s) return Math.round(ms / $d4f8ce75742e0993$var$s) + \"s\";\n    return ms + \"ms\";\n}\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */ function $d4f8ce75742e0993$var$fmtLong(ms) {\n    var msAbs = Math.abs(ms);\n    if (msAbs >= $d4f8ce75742e0993$var$d) return $d4f8ce75742e0993$var$plural(ms, msAbs, $d4f8ce75742e0993$var$d, \"day\");\n    if (msAbs >= $d4f8ce75742e0993$var$h) return $d4f8ce75742e0993$var$plural(ms, msAbs, $d4f8ce75742e0993$var$h, \"hour\");\n    if (msAbs >= $d4f8ce75742e0993$var$m) return $d4f8ce75742e0993$var$plural(ms, msAbs, $d4f8ce75742e0993$var$m, \"minute\");\n    if (msAbs >= $d4f8ce75742e0993$var$s) return $d4f8ce75742e0993$var$plural(ms, msAbs, $d4f8ce75742e0993$var$s, \"second\");\n    return ms + \" ms\";\n}\n/**\n * Pluralization helper.\n */ function $d4f8ce75742e0993$var$plural(ms, msAbs, n, name) {\n    var isPlural = msAbs >= n * 1.5;\n    return Math.round(ms / n) + \" \" + name + (isPlural ? \"s\" : \"\");\n}\n\n});\n\n\n\nparcelRegister(\"3DA3D\", function(module, exports) {\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */ /** Used as the size to enable large array optimizations. */ var LARGE_ARRAY_SIZE = 200;\n/** Used to stand-in for `undefined` hash values. */ var HASH_UNDEFINED = \"__lodash_hash_undefined__\";\n/** Used to detect hot functions by number of calls within a span of milliseconds. */ var HOT_COUNT = 800, HOT_SPAN = 16;\n/** Used as references for various `Number` constants. */ var MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */ var argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", asyncTag = \"[object AsyncFunction]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", genTag = \"[object GeneratorFunction]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", nullTag = \"[object Null]\", objectTag = \"[object Object]\", proxyTag = \"[object Proxy]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", undefinedTag = \"[object Undefined]\", weakMapTag = \"[object WeakMap]\";\nvar arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */ var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to detect host constructors (Safari). */ var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used to detect unsigned integer values. */ var reIsUint = /^(?:0|[1-9]\\d*)$/;\n/** Used to identify `toStringTag` values of typed arrays. */ var typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n/** Detect free variable `global` from Node.js. */ var freeGlobal = typeof $parcel$global == \"object\" && $parcel$global && $parcel$global.Object === Object && $parcel$global;\n/** Detect free variable `self`. */ var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n/** Used as a reference to the global object. */ var root = freeGlobal || freeSelf || Function(\"return this\")();\n/** Detect free variable `exports`. */ var freeExports = exports && !exports.nodeType && exports;\n/** Detect free variable `module`. */ var freeModule = freeExports && true && module && !module.nodeType && module;\n/** Detect the popular CommonJS extension `module.exports`. */ var moduleExports = freeModule && freeModule.exports === freeExports;\n/** Detect free variable `process` from Node.js. */ var freeProcess = moduleExports && freeGlobal.process;\n/** Used to access faster Node.js helpers. */ var nodeUtil = function() {\n    try {\n        // Use `util.types` for Node.js 10+.\n        var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n        if (types) return types;\n        // Legacy `process.binding('util')` for Node.js < 10.\n        return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n    } catch (e) {}\n}();\n/* Node.js helper references. */ var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */ function apply(func, thisArg, args) {\n    switch(args.length){\n        case 0:\n            return func.call(thisArg);\n        case 1:\n            return func.call(thisArg, args[0]);\n        case 2:\n            return func.call(thisArg, args[0], args[1]);\n        case 3:\n            return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n}\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */ function baseTimes(n, iteratee) {\n    var index = -1, result = Array(n);\n    while(++index < n)result[index] = iteratee(index);\n    return result;\n}\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */ function baseUnary(func) {\n    return function(value) {\n        return func(value);\n    };\n}\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */ function getValue(object, key) {\n    return object == null ? undefined : object[key];\n}\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */ function overArg(func, transform) {\n    return function(arg) {\n        return func(transform(arg));\n    };\n}\n/** Used for built-in method references. */ var arrayProto = Array.prototype, funcProto = Function.prototype, objectProto = Object.prototype;\n/** Used to detect overreaching core-js shims. */ var coreJsData = root[\"__core-js_shared__\"];\n/** Used to resolve the decompiled source of functions. */ var funcToString = funcProto.toString;\n/** Used to check objects for own properties. */ var hasOwnProperty = objectProto.hasOwnProperty;\n/** Used to detect methods masquerading as native. */ var maskSrcKey = function() {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || \"\");\n    return uid ? \"Symbol(src)_1.\" + uid : \"\";\n}();\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */ var nativeObjectToString = objectProto.toString;\n/** Used to infer the `Object` constructor. */ var objectCtorString = funcToString.call(Object);\n/** Used to detect if a method is native. */ var reIsNative = RegExp(\"^\" + funcToString.call(hasOwnProperty).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\");\n/** Built-in value references. */ var Buffer = moduleExports ? root.Buffer : undefined, Symbol = root.Symbol, Uint8Array = root.Uint8Array, allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined, getPrototype = overArg(Object.getPrototypeOf, Object), objectCreate = Object.create, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice, symToStringTag = Symbol ? Symbol.toStringTag : undefined;\nvar defineProperty = function() {\n    try {\n        var func = getNative(Object, \"defineProperty\");\n        func({}, \"\", {});\n        return func;\n    } catch (e) {}\n}();\n/* Built-in method references for those with the same name as other `lodash` methods. */ var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined, nativeMax = Math.max, nativeNow = Date.now;\n/* Built-in method references that are verified to be native. */ var Map = getNative(root, \"Map\"), nativeCreate = getNative(Object, \"create\");\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */ var baseCreate = function() {\n    function object() {}\n    return function(proto) {\n        if (!isObject(proto)) return {};\n        if (objectCreate) return objectCreate(proto);\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n    };\n}();\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */ function Hash(entries) {\n    var index = -1, length = entries == null ? 0 : entries.length;\n    this.clear();\n    while(++index < length){\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */ function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    this.size = 0;\n}\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */ function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n}\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */ function hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */ function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */ function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n}\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype[\"delete\"] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */ function ListCache(entries) {\n    var index = -1, length = entries == null ? 0 : entries.length;\n    this.clear();\n    while(++index < length){\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */ function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n}\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */ function listCacheDelete(key) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    if (index < 0) return false;\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) data.pop();\n    else splice.call(data, index, 1);\n    --this.size;\n    return true;\n}\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */ function listCacheGet(key) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n}\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */ function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n}\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */ function listCacheSet(key, value) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    if (index < 0) {\n        ++this.size;\n        data.push([\n            key,\n            value\n        ]);\n    } else data[index][1] = value;\n    return this;\n}\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype[\"delete\"] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */ function MapCache(entries) {\n    var index = -1, length = entries == null ? 0 : entries.length;\n    this.clear();\n    while(++index < length){\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */ function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n        \"hash\": new Hash,\n        \"map\": new (Map || ListCache),\n        \"string\": new Hash\n    };\n}\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */ function mapCacheDelete(key) {\n    var result = getMapData(this, key)[\"delete\"](key);\n    this.size -= result ? 1 : 0;\n    return result;\n}\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */ function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n}\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */ function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n}\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */ function mapCacheSet(key, value) {\n    var data = getMapData(this, key), size = data.size;\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n}\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype[\"delete\"] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */ function Stack(entries) {\n    var data = this.__data__ = new ListCache(entries);\n    this.size = data.size;\n}\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */ function stackClear() {\n    this.__data__ = new ListCache;\n    this.size = 0;\n}\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */ function stackDelete(key) {\n    var data = this.__data__, result = data[\"delete\"](key);\n    this.size = data.size;\n    return result;\n}\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */ function stackGet(key) {\n    return this.__data__.get(key);\n}\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */ function stackHas(key) {\n    return this.__data__.has(key);\n}\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */ function stackSet(key, value) {\n    var data = this.__data__;\n    if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n            pairs.push([\n                key,\n                value\n            ]);\n            this.size = ++data.size;\n            return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n    }\n    data.set(key, value);\n    this.size = data.size;\n    return this;\n}\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype[\"delete\"] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */ function arrayLikeKeys(value, inherited) {\n    var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n    for(var key in value)if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && // Safari 9 has enumerable `arguments.length` in strict mode.\n    (key == \"length\" || // Node.js 0.10 has enumerable non-index properties on buffers.\n    isBuff && (key == \"offset\" || key == \"parent\") || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n    isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || // Skip index properties.\n    isIndex(key, length)))) result.push(key);\n    return result;\n}\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */ function assignMergeValue(object, key, value) {\n    if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) baseAssignValue(object, key, value);\n}\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */ function assignValue(object, key, value) {\n    var objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) baseAssignValue(object, key, value);\n}\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */ function assocIndexOf(array, key) {\n    var length = array.length;\n    while(length--){\n        if (eq(array[length][0], key)) return length;\n    }\n    return -1;\n}\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */ function baseAssignValue(object, key, value) {\n    if (key == \"__proto__\" && defineProperty) defineProperty(object, key, {\n        \"configurable\": true,\n        \"enumerable\": true,\n        \"value\": value,\n        \"writable\": true\n    });\n    else object[key] = value;\n}\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */ var baseFor = createBaseFor();\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */ function baseGetTag(value) {\n    if (value == null) return value === undefined ? undefinedTag : nullTag;\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */ function baseIsArguments(value) {\n    return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */ function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) return false;\n    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n}\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */ function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */ function baseKeysIn(object) {\n    if (!isObject(object)) return nativeKeysIn(object);\n    var isProto = isPrototype(object), result = [];\n    for(var key in object)if (!(key == \"constructor\" && (isProto || !hasOwnProperty.call(object, key)))) result.push(key);\n    return result;\n}\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */ function baseMerge(object, source, srcIndex, customizer, stack) {\n    if (object === source) return;\n    baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        else {\n            var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + \"\", object, source, stack) : undefined;\n            if (newValue === undefined) newValue = srcValue;\n            assignMergeValue(object, key, newValue);\n        }\n    }, keysIn);\n}\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */ function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n    var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);\n    if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n    }\n    var newValue = customizer ? customizer(objValue, srcValue, key + \"\", object, source, stack) : undefined;\n    var isCommon = newValue === undefined;\n    if (isCommon) {\n        var isArr = isArray(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n            if (isArray(objValue)) newValue = objValue;\n            else if (isArrayLikeObject(objValue)) newValue = copyArray(objValue);\n            else if (isBuff) {\n                isCommon = false;\n                newValue = cloneBuffer(srcValue, true);\n            } else if (isTyped) {\n                isCommon = false;\n                newValue = cloneTypedArray(srcValue, true);\n            } else newValue = [];\n        } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n            newValue = objValue;\n            if (isArguments(objValue)) newValue = toPlainObject(objValue);\n            else if (!isObject(objValue) || isFunction(objValue)) newValue = initCloneObject(srcValue);\n        } else isCommon = false;\n    }\n    if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack[\"delete\"](srcValue);\n    }\n    assignMergeValue(object, key, newValue);\n}\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */ function baseRest(func, start) {\n    return setToString(overRest(func, start, identity), func + \"\");\n}\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */ var baseSetToString = !defineProperty ? identity : function(func, string) {\n    return defineProperty(func, \"toString\", {\n        \"configurable\": true,\n        \"enumerable\": false,\n        \"value\": constant(string),\n        \"writable\": true\n    });\n};\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */ function cloneBuffer(buffer, isDeep) {\n    if (isDeep) return buffer.slice();\n    var length = buffer.length, result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n    buffer.copy(result);\n    return result;\n}\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */ function cloneArrayBuffer(arrayBuffer) {\n    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    return result;\n}\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */ function cloneTypedArray(typedArray, isDeep) {\n    var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */ function copyArray(source, array) {\n    var index = -1, length = source.length;\n    array || (array = Array(length));\n    while(++index < length)array[index] = source[index];\n    return array;\n}\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */ function copyObject(source, props, object, customizer) {\n    var isNew = !object;\n    object || (object = {});\n    var index = -1, length = props.length;\n    while(++index < length){\n        var key = props[index];\n        var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n        if (newValue === undefined) newValue = source[key];\n        if (isNew) baseAssignValue(object, key, newValue);\n        else assignValue(object, key, newValue);\n    }\n    return object;\n}\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */ function createAssigner(assigner) {\n    return baseRest(function(object, sources) {\n        var index = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : undefined, guard = length > 2 ? sources[2] : undefined;\n        customizer = assigner.length > 3 && typeof customizer == \"function\" ? (length--, customizer) : undefined;\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n            customizer = length < 3 ? undefined : customizer;\n            length = 1;\n        }\n        object = Object(object);\n        while(++index < length){\n            var source = sources[index];\n            if (source) assigner(object, source, index, customizer);\n        }\n        return object;\n    });\n}\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */ function createBaseFor(fromRight) {\n    return function(object, iteratee, keysFunc) {\n        var index = -1, iterable = Object(object), props = keysFunc(object), length = props.length;\n        while(length--){\n            var key = props[fromRight ? length : ++index];\n            if (iteratee(iterable[key], key, iterable) === false) break;\n        }\n        return object;\n    };\n}\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */ function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == \"string\" ? \"string\" : \"hash\"] : data.map;\n}\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */ function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n}\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */ function getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n    try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n    } catch (e) {}\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n        if (isOwn) value[symToStringTag] = tag;\n        else delete value[symToStringTag];\n    }\n    return result;\n}\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */ function initCloneObject(object) {\n    return typeof object.constructor == \"function\" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n}\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */ function isIndex(value, length) {\n    var type = typeof value;\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */ function isIterateeCall(value, index, object) {\n    if (!isObject(object)) return false;\n    var type = typeof index;\n    if (type == \"number\" ? isArrayLike(object) && isIndex(index, object.length) : type == \"string\" && index in object) return eq(object[index], value);\n    return false;\n}\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */ function isKeyable(value) {\n    var type = typeof value;\n    return type == \"string\" || type == \"number\" || type == \"symbol\" || type == \"boolean\" ? value !== \"__proto__\" : value === null;\n}\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */ function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n}\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */ function isPrototype(value) {\n    var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto;\n    return value === proto;\n}\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */ function nativeKeysIn(object) {\n    var result = [];\n    if (object != null) for(var key in Object(object))result.push(key);\n    return result;\n}\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */ function objectToString(value) {\n    return nativeObjectToString.call(value);\n}\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */ function overRest(func, start, transform) {\n    start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n    return function() {\n        var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array(length);\n        while(++index < length)array[index] = args[start + index];\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while(++index < start)otherArgs[index] = args[index];\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n    };\n}\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */ function safeGet(object, key) {\n    if (key === \"constructor\" && typeof object[key] === \"function\") return;\n    if (key == \"__proto__\") return;\n    return object[key];\n}\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */ var setToString = shortOut(baseSetToString);\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */ function shortOut(func) {\n    var count = 0, lastCalled = 0;\n    return function() {\n        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n        if (remaining > 0) {\n            if (++count >= HOT_COUNT) return arguments[0];\n        } else count = 0;\n        return func.apply(undefined, arguments);\n    };\n}\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */ function toSource(func) {\n    if (func != null) {\n        try {\n            return funcToString.call(func);\n        } catch (e) {}\n        try {\n            return func + \"\";\n        } catch (e) {}\n    }\n    return \"\";\n}\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */ function eq(value, other) {\n    return value === other || value !== value && other !== other;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */ var isArguments = baseIsArguments(function() {\n    return arguments;\n}()) ? baseIsArguments : function(value) {\n    return isObjectLike(value) && hasOwnProperty.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n};\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */ var isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */ function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */ function isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */ var isBuffer = nativeIsBuffer || stubFalse;\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */ function isFunction(value) {\n    if (!isObject(value)) return false;\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n    var tag = baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */ function isLength(value) {\n    return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */ function isObject(value) {\n    var type = typeof value;\n    return value != null && (type == \"object\" || type == \"function\");\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */ function isObjectLike(value) {\n    return value != null && typeof value == \"object\";\n}\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */ function isPlainObject(value) {\n    if (!isObjectLike(value) || baseGetTag(value) != objectTag) return false;\n    var proto = getPrototype(value);\n    if (proto === null) return true;\n    var Ctor = hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n    return typeof Ctor == \"function\" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n}\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */ var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */ function toPlainObject(value) {\n    return copyObject(value, keysIn(value));\n}\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */ function keysIn(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */ var merge = createAssigner(function(object, source, srcIndex) {\n    baseMerge(object, source, srcIndex);\n});\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */ function constant(value) {\n    return function() {\n        return value;\n    };\n}\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */ function identity(value) {\n    return value;\n}\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */ function stubFalse() {\n    return false;\n}\nmodule.exports = merge;\n\n});\n\n\nvar $cR93q = parcelRequire(\"cR93q\");\nvar $4a9976ca6ebf6735$exports = {};\n\"use strict\";\nvar $4a9976ca6ebf6735$var$has = Object.prototype.hasOwnProperty, $4a9976ca6ebf6735$var$prefix = \"~\";\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */ function $4a9976ca6ebf6735$var$Events() {}\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n    $4a9976ca6ebf6735$var$Events.prototype = Object.create(null);\n    //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n    if (!new $4a9976ca6ebf6735$var$Events().__proto__) $4a9976ca6ebf6735$var$prefix = false;\n}\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */ function $4a9976ca6ebf6735$var$EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n}\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */ function $4a9976ca6ebf6735$var$addListener(emitter, event, fn, context, once) {\n    if (typeof fn !== \"function\") throw new TypeError(\"The listener must be a function\");\n    var listener = new $4a9976ca6ebf6735$var$EE(fn, context || emitter, once), evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event;\n    if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n    else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n    else emitter._events[evt] = [\n        emitter._events[evt],\n        listener\n    ];\n    return emitter;\n}\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */ function $4a9976ca6ebf6735$var$clearEvent(emitter, evt) {\n    if (--emitter._eventsCount === 0) emitter._events = new $4a9976ca6ebf6735$var$Events();\n    else delete emitter._events[evt];\n}\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */ function $4a9976ca6ebf6735$var$EventEmitter() {\n    this._events = new $4a9976ca6ebf6735$var$Events();\n    this._eventsCount = 0;\n}\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.eventNames = function eventNames() {\n    var names = [], events, name;\n    if (this._eventsCount === 0) return names;\n    for(name in events = this._events)if ($4a9976ca6ebf6735$var$has.call(events, name)) names.push($4a9976ca6ebf6735$var$prefix ? name.slice(1) : name);\n    if (Object.getOwnPropertySymbols) return names.concat(Object.getOwnPropertySymbols(events));\n    return names;\n};\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.listeners = function listeners(event) {\n    var evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event, handlers = this._events[evt];\n    if (!handlers) return [];\n    if (handlers.fn) return [\n        handlers.fn\n    ];\n    for(var i = 0, l = handlers.length, ee = new Array(l); i < l; i++)ee[i] = handlers[i].fn;\n    return ee;\n};\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.listenerCount = function listenerCount(event) {\n    var evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event, listeners = this._events[evt];\n    if (!listeners) return 0;\n    if (listeners.fn) return 1;\n    return listeners.length;\n};\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event;\n    if (!this._events[evt]) return false;\n    var listeners = this._events[evt], len = arguments.length, args, i;\n    if (listeners.fn) {\n        if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n        switch(len){\n            case 1:\n                return listeners.fn.call(listeners.context), true;\n            case 2:\n                return listeners.fn.call(listeners.context, a1), true;\n            case 3:\n                return listeners.fn.call(listeners.context, a1, a2), true;\n            case 4:\n                return listeners.fn.call(listeners.context, a1, a2, a3), true;\n            case 5:\n                return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n            case 6:\n                return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n        }\n        for(i = 1, args = new Array(len - 1); i < len; i++)args[i - 1] = arguments[i];\n        listeners.fn.apply(listeners.context, args);\n    } else {\n        var length = listeners.length, j;\n        for(i = 0; i < length; i++){\n            if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n            switch(len){\n                case 1:\n                    listeners[i].fn.call(listeners[i].context);\n                    break;\n                case 2:\n                    listeners[i].fn.call(listeners[i].context, a1);\n                    break;\n                case 3:\n                    listeners[i].fn.call(listeners[i].context, a1, a2);\n                    break;\n                case 4:\n                    listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n                    break;\n                default:\n                    if (!args) for(j = 1, args = new Array(len - 1); j < len; j++)args[j - 1] = arguments[j];\n                    listeners[i].fn.apply(listeners[i].context, args);\n            }\n        }\n    }\n    return true;\n};\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.on = function on(event, fn, context) {\n    return $4a9976ca6ebf6735$var$addListener(this, event, fn, context, false);\n};\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.once = function once(event, fn, context) {\n    return $4a9976ca6ebf6735$var$addListener(this, event, fn, context, true);\n};\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event;\n    if (!this._events[evt]) return this;\n    if (!fn) {\n        $4a9976ca6ebf6735$var$clearEvent(this, evt);\n        return this;\n    }\n    var listeners = this._events[evt];\n    if (listeners.fn) {\n        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) $4a9976ca6ebf6735$var$clearEvent(this, evt);\n    } else {\n        for(var i = 0, events = [], length = listeners.length; i < length; i++)if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) events.push(listeners[i]);\n        //\n        // Reset the array, or remove it completely if we have no more listeners.\n        //\n        if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n        else $4a9976ca6ebf6735$var$clearEvent(this, evt);\n    }\n    return this;\n};\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */ $4a9976ca6ebf6735$var$EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n    if (event) {\n        evt = $4a9976ca6ebf6735$var$prefix ? $4a9976ca6ebf6735$var$prefix + event : event;\n        if (this._events[evt]) $4a9976ca6ebf6735$var$clearEvent(this, evt);\n    } else {\n        this._events = new $4a9976ca6ebf6735$var$Events();\n        this._eventsCount = 0;\n    }\n    return this;\n};\n//\n// Alias methods names because people roll like that.\n//\n$4a9976ca6ebf6735$var$EventEmitter.prototype.off = $4a9976ca6ebf6735$var$EventEmitter.prototype.removeListener;\n$4a9976ca6ebf6735$var$EventEmitter.prototype.addListener = $4a9976ca6ebf6735$var$EventEmitter.prototype.on;\n//\n// Expose the prefix.\n//\n$4a9976ca6ebf6735$var$EventEmitter.prefixed = $4a9976ca6ebf6735$var$prefix;\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\n$4a9976ca6ebf6735$var$EventEmitter.EventEmitter = $4a9976ca6ebf6735$var$EventEmitter;\n$4a9976ca6ebf6735$exports = $4a9976ca6ebf6735$var$EventEmitter;\n\n\n/**\n * Superclass for all implemented generators.\n */ class $bf1e9ebc0cfb87e0$var$PRNG {\n    /**\n   * @constructor\n   * @param {number | bigint} max -> Max number that can be generated by this generator.\n   * @param {number | bigint} seed -> Initial seed.\n   */ constructor(max, seed){\n        /**\n     * @protected\n     * @readonly\n     * @type {number | bigint}\n     */ this.max = max;\n        /**\n     * @protected\n     * @type {number | bigint}\n     */ this._seed = seed;\n    }\n    /**\n   * Casts the given BigInt number to an unsigned big int with the given\n   * number of bits.\n   *\n   * @protected\n   * @param {bigint} number -> A string param.\n   * @param {number} bits -> An optional param (Closure syntax)\n   * @return {bigint} This is the result\n   */ cast(number, bits) {\n        return BigInt.asUintN(bits, number);\n    }\n    /**\n   * Checks that a given number is within the range.\n   *\n   * @protected\n   * @param {number} number -> A string param.\n   * @throws Error -> Number greater than max.\n   */ checkNum(number) {\n        if (number > this.max) throw new Error(`Number greater than ${this.max}`);\n    }\n    /**\n   * Resets the PRNG.\n   * To be implemented by sub-classes.\n   *\n   * @public\n   * @throws Error -> Method not implemented.\n   */ reset() {\n        if (this.constructor === $bf1e9ebc0cfb87e0$var$PRNG) throw new Error(\"Method not implemented\");\n    }\n    /**\n   * Private method for integer generation.\n   * To be implemented by sub-classes.\n   *\n   * @protected\n   * @return {bigint} Random integer.\n   */ _int() {\n        if (this.constructor === $bf1e9ebc0cfb87e0$var$PRNG) throw new Error(\"Method not implemented\");\n        return BigInt(0);\n    }\n    /**\n   * Generates a boolean with the formula random.float() >= 0.5\n   *\n   * @example\n   * random.bool();\n   *\n   * @example\n   * random.bool(); // true\n   *\n   * @public\n   * @returns {boolean} True/False.\n   */ bool() {\n        return this.float() >= 0.5;\n    }\n    /**\n   * Generates a random boolean with probability of it being true denoted by the pTrue parameter.\n   * For example, when pTrue=0.8, 80% of the numbers generated with this method will be true.\n   *\n   * @example\n   * random.coin(pTrue);\n   *\n   * @example\n   * random.coin(0.8); // true\n   *\n   * @public\n   * @param {number} pTrue -> Probability of generating a true value.\n   * @returns {boolean} True/False.\n   */ coin(pTrue = 0.5) {\n        return this.float() < pTrue;\n    }\n    /**\n   * Generates and returns the next number in the PRNGs sequence.\n   *\n   * @example\n   * random.int();\n   *\n   * @example\n   * random.int(); // 85424123\n   *\n   * @public\n   * @returns {number} Number less than 2 ** 32 for 32 bit generators.\n   */ int() {\n        return Number(this._int());\n    }\n    /**\n   * Generates and returns the next number in the PRNGs sequence and returns it as a Bigint.\n   *\n   * @example\n   * random.bigInt();\n   *\n   * @example\n   * random.bigInt(); // 85424123n\n   *\n   * @public\n   * @returns {bigint} Number less than 2 ** 32 for 32 bit generators represented as a BigInt class.\n   */ bigInt() {\n        return this._int();\n    }\n    /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float();\n   *\n   * @example\n   * random.float(); // 0.234242\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */ float() {\n        return this.int() * (1.0 / this.max);\n    }\n    /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float53();\n   *\n   * @example\n   * random.float53(); // 0.2342422341231\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */ float53() {\n        const a = this.int() >>> 5;\n        const b = this.int() >>> 6;\n        return (a * 67108864.0 + b) * (1.0 / 9007199254740992.0);\n    }\n    /**\n   * Generates a number within the given range.\n   *\n   * @example\n   * random.randRange(min, max);\n   *\n   * @example\n   * const lowerBound = 4;\n   * const upperBound = 2432;\n   * random.randRange(lowerBound, upperBound); // 36.\n   *\n   * @public\n   * @param {number} min -> Lower bound of the numbers to generate (inclusive).\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number} Number min <= Number <= max.\n   */ randRange(min, max) {\n        // Debiased Modulo method,\n        // https://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29\n        // https://peteroupc.github.io/randomnotes.html\n        // https://www.pcg-random.org/posts/bounded-rands.html\n        const range = max - min;\n        const t = this.max % range;\n        let r = this.int();\n        while(r < t)r = this.int();\n        return min + r % range;\n    }\n    /**\n   * Generates a number below the given maximum.\n   *\n   * @example\n   * random.randBelow(max);\n   *\n   * @example\n   * const upperBound = 2432;\n   * random.randBelow(upperBound);  // 285.\n   *\n   * @public\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number} Number <= max\n   */ randBelow(max) {\n        return this.randRange(0, max);\n    }\n    /**\n   * Picks a random element from the array.\n   *\n   * @example\n   * random.choice(array)\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * random.choice(arr); // 4\n   *\n   * @public\n   * @param {any[]} array -> Array of any type from which we randomly select one item.\n   * @returns {any} A single item from the array of type ?.\n   */ choice(array) {\n        return array[this.randBelow(array.length)];\n    }\n    /**\n   * Randomly shuffles the given array using the fisher-yates algorithm.\n   *\n   * @example\n   * random.shuffle(array, inPlace = false)\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * const shuffled = random.shuffle(arr, false);\n   * console.log(arr); // [1, 4, 2, 3]\n   * console.log(shuffled); // [4, 2, 3, 1]\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * const shuffled = random.shuffle(arr, true);\n   * console.log(arr); // [4, 2, 3, 1]\n   * console.log(shuffled); // [4, 2, 3, 1]\n   *\n   * @public\n   * @param {any[]} array -> Array of any type to be shuffled.\n   * @param {boolean} inPlace -> Shuffle the array (true) or shuffle a copy of array (false).\n   * @returns {any[]} Array shuffled (inPlace === false), shuffled copy of array (inPlace === true).\n   */ shuffle(array, inPlace = true) {\n        let toSort = array;\n        if (!inPlace) toSort = Array.from(toSort);\n        // https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle.\n        for(let i = toSort.length - 1; i > 0; i--){\n            const j = this.randRange(0, i);\n            const temp = toSort[i];\n            toSort[i] = toSort[j];\n            toSort[j] = temp;\n        }\n        return toSort;\n    }\n    /**\n   * Creates an array of the given size populated with the result of the mapFn.\n   *\n   * @protected\n   * @param {number} size -> Length of the array to create.\n   * @param {function(): boolean | number | bigint} mapFn -> Function which we use to fill array.\n   * @returns {boolean[] | number[] | bigint[]} Array created by repeated calls to the mapFn.\n   */ initArray(size, mapFn) {\n        return Array.from({\n            length: size\n        }, mapFn);\n    }\n    /**\n   * Generates an n size array populated with booleans.\n   *\n   * @example\n   * random.boolArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.boolArray(size);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @returns {boolean[]} Array[Boolean] of length size.\n   */ boolArray(size) {\n        return this.initArray(size, ()=>this.bool());\n    }\n    /**\n   * Generates an n size array of random booleans with probability of it being true\n   * denoted by the pTrue parameter. For example, when pTrue=0.8, 80% of the numbers\n   * in the generated array will be true.\n   *\n   * @example\n   * random.coinArray(size, pTrue);\n   *\n   * @example\n   * const size = 256;\n   * const pTrue = 0.8;\n   * random.coinArray(size, pTrue);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @param {number} pTrue -> Probability of generating a true value.\n   * @returns {boolean[]} Array[Boolean] of length size.\n   */ coinArray(size, pTrue = 0.5) {\n        return this.initArray(size, ()=>this.coin(pTrue));\n    }\n    /**\n   * Generates an n size array populated with integers.\n   *\n   * @example\n   * random.intArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.intArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] of length size.\n   */ intArray(size) {\n        return this.initArray(size, ()=>this.int());\n    }\n    /**\n   * Generates an n size array populated with Big Integers.\n   *\n   * @example\n   * random.bigIntArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.bigIntArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {bigint[]} Array[BigInt] of length size.\n   */ bigIntArray(size) {\n        return this.initArray(size, ()=>this.bigInt());\n    }\n    /**\n   * Generates an n size array populated within the given range.\n   *\n   * @example\n   * random.randRangeArray(size, min, max);\n   *\n   * @example\n   * const size = 256;\n   * const lowerBound = 4;\n   * const upperBound = 2432;\n   * random.randRangeArray(size, lowerBound, upperBound);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @param {number} min -> Lower bound of the numbers to generate (inclusive).\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number[]} Array[Number] of length size filled w/ min <= num <= max.\n   */ randRangeArray(size, min, max) {\n        return this.initArray(size, ()=>this.randRange(min, max));\n    }\n    /**\n   * Generates an n size array populated with floats.\n   *\n   * @example\n   * random.floatArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.floatArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] between 0.0 - 1.0 of length size.\n   */ floatArray(size) {\n        return this.initArray(size, ()=>this.float());\n    }\n    /**\n   * Generates an n size array populated with floats.\n   *\n   * @example\n   * random.float53Array(size);\n   *\n   * @example\n   * const size = 256;\n   * random.float53Array(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] between 0.0 - 1.0 of length size.\n   */ float53Array(size) {\n        return this.initArray(size, ()=>this.float53());\n    }\n}\nvar $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039 = $bf1e9ebc0cfb87e0$var$PRNG;\n\n\n/**\n * 64 bit modification of PRNG class.\n * @class\n * @extends {PRNG}\n * @param {number | bigint} max -> Max number that can be generated by this generator.\n * @param {number | bigint} seed -> Initial seed.\n */ class $006f3baa2011aebb$var$PRNG64 extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} max -> Max number that can be generated by this generator.\n   * @param {number | bigint} seed -> Initial seed.\n   */ constructor(max, seed){\n        super(max, seed);\n    }\n    /**\n   * Generates and returns the next number in the PRNGs sequence.\n   * As this is a 64 bit generator and javascript integers are limited to 53 bits,\n   * the generated BigInt result is right-shifted 11 bits; discarding the least significant bits.\n   *\n   * @example\n   * random.int();\n   *\n   * @example\n   * random.int(); // 85424123\n   *\n   * @public\n   * @returns {number} Number less than 2 ** 53 for 64 bit generators.\n   */ int() {\n        // Javascript only has 2 ** 53 integer positions, take 64 bit output and only take the upper 53 bits for use\n        // as our output Number in int mode.\n        return Number(this._int() >> 11n);\n    }\n    /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float();\n   *\n   * @example\n   * random.float(); // 0.234242\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */ float() {\n        return this.int() / this.max;\n    }\n    /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float53();\n   *\n   * @example\n   * random.float53(); // 0.2342422341231\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */ float53() {\n        return this.float();\n    }\n}\nvar $006f3baa2011aebb$export$2e2bcd8739ae039 = $006f3baa2011aebb$var$PRNG64;\n\n\n/** @type {number} */ const $9fd4e36c165f84be$export$8b4386a2824e686f = 2 ** 32;\nconst $9fd4e36c165f84be$export$d03c15e0b8ab33b9 = 2 ** 53;\nconst $9fd4e36c165f84be$export$12a487419e951454 = 2n ** 64n;\nvar /** @enum {number | bigint} */ $9fd4e36c165f84be$export$2e2bcd8739ae039 = {\n    MAX32: $9fd4e36c165f84be$export$8b4386a2824e686f,\n    MAX53: $9fd4e36c165f84be$export$d03c15e0b8ab33b9,\n    MAX64: $9fd4e36c165f84be$export$12a487419e951454\n};\n\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * This implementation has 64 bit output with 64 bits of internal state.\n *\n * @example\n * const random = new XORShift64(11234, 13, 7, 17);\n *\n * @class\n * @extends {PRNG64}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} a -> First bit shift parameter.\n * @param {number | bigint} b -> Second bit shift parameter.\n * @param {number | bigint} c -> Third bit shift parameter.\n */ class $11e2e995f355532d$var$XORShift64 extends (0, $006f3baa2011aebb$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} a -> First bit shift parameter.\n   * @param {number | bigint} b -> Second bit shift parameter.\n   * @param {number | bigint} c -> Third bit shift parameter.\n   */ constructor(seed = Date.now(), a = 13, b = 7, c = 17){\n        super((0, $9fd4e36c165f84be$export$d03c15e0b8ab33b9), BigInt(seed));\n        this.seed = seed;\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.a = this.cast(BigInt(a), 64);\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.b = this.cast(BigInt(b), 64);\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.c = this.cast(BigInt(c), 64);\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 64);\n        this.x = this._seed;\n    }\n    _int() {\n        let { x: x } = this;\n        x ^= x << this.a;\n        x = this.cast(x, 64);\n        x ^= x >> this.b;\n        x ^= x << this.c;\n        x = this.cast(x, 64);\n        this.x = x;\n        return x;\n    }\n}\nvar $11e2e995f355532d$export$2e2bcd8739ae039 = $11e2e995f355532d$var$XORShift64;\n\n\n\n/**\n * Linear Congruential Generator (LCG) is a simple generator originally devised in 1951,\n * if you need something quick with minimal memory usage and not the best quality randomness,\n * this is for you. 32 bits of output.\n *\n * @example\n * const random = new LCG(1234, 1664525, 1013904223, 4294967296);\n *\n * @class\n * @extends {PRNG}\n * @param {number} seed ->  Initial seed.\n * @param {number} a -> Multiplier parameter.\n * @param {number} c -> Increment parameter.\n * @param {number} m -> Modulus parameter.\n */ class $27af1974c96e21b6$var$LCG extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number} seed ->  Initial seed.\n   * @param {number} a -> Multiplier parameter.\n   * @param {number} c -> Increment parameter.\n   * @param {number} m -> Modulus parameter.\n   */ constructor(seed = Date.now(), a = 1664525, c = 1013904223, m = 4294967296){\n        super(m, seed);\n        [\n            seed,\n            a,\n            c,\n            m\n        ].forEach((num)=>this.checkNum(num));\n        this.seed = seed;\n        Object.assign(this, {\n            a: a,\n            c: c,\n            m: m\n        }); // Group assignment for brevity.\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = seed;\n        this.x = this._seed;\n    }\n    _int() {\n        this.x = (this.a * this.x + this.c) % this.m;\n        return BigInt(this.x);\n    }\n}\nvar $27af1974c96e21b6$export$2e2bcd8739ae039 = $27af1974c96e21b6$var$LCG;\n\n\n\n\n/**\r\n * Permuted Congruential Generator (PCG) is again, a relatively simple generator that improves on the qualites\r\n * of LCG by improving its randomness quality by increasing its state size and using only the most significant bits\r\n * to produce the output. 32 bits of output.\r\n *\r\n * @example\r\n * const random = new PCG(Date.now(), 6364136223846793005n, 1442695040888963407n);\r\n *\r\n * @class\r\n * @extends {PRNG}\r\n * @param {number | bigint} seed -> Initial seed.\r\n * @param {number | bigint} mul -> Multiplier parameter.\r\n * @param {number | bigint} inc -> Increment parameter.\r\n */ class $7d277a7b1d55d0f8$var$PCG extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    // constructor(seed = 0x4d595df4d0f33173n, mul = 6364136223846793005n, inc = 1442695040888963407n) {\n    /**\r\n   * @constructor\r\n   * @param {number | bigint} seed -> Initial seed.\r\n   * @param {number | bigint} mul -> Multiplier parameter.\r\n   * @param {number | bigint} inc -> Increment parameter.\r\n   */ constructor(seed = Date.now(), mul = 6364136223846793005n, inc = 1442695040888963407n){\n        super((0, $9fd4e36c165f84be$export$8b4386a2824e686f), BigInt(seed));\n        this.seed = seed;\n        /**\r\n     * @private\r\n     * @type {bigint}\r\n     */ this.mul = this.cast(BigInt(mul), 64);\n        /**\r\n     * @private\r\n     * @type {bigint}\r\n     */ this.inc = this.cast(BigInt(inc), 64);\n    }\n    /**\r\n   * Resets the generator to its original state.\r\n   */ reset() {\n        this.x = this.seed;\n    }\n    /**\r\n   * Seed getter.\r\n   *\r\n   * @public\r\n   * @returns {number | bigint} Retrieves seed.\r\n   */ get seed() {\n        return this._seed;\n    }\n    /**\r\n   * Converts seed into BigInt + sets.\r\n   *\r\n   * @param {number | bigint} seed -> New seed to set.\r\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 64);\n        this.x = this._seed;\n    }\n    /**\r\n   * 32 bit rotation op.\r\n   * @param {bigint} x -> x parameter of PCG algorithm.\r\n   * @param {bigint} r -> r parameter of PCG algorithm.\r\n   * @returns {bigint} Returns 32 bit result of rotation operation.\r\n   */ rotr32(x, r) {\n        return this.cast(x >> r | x << (-r & 31n), 32);\n    }\n    _int() {\n        let x = this.x;\n        let count = x >> 59n; // 59 = 64 - 5\n        this.x = x * this.mul + this.inc;\n        this.x = this.cast(this.x, 64);\n        x ^= x >> 18n; // 18 = (64 - 27) / 2\n        return this.rotr32(this.cast(x >> 27n, 32), count); // 27 = 32 - 5\n    }\n}\nvar $7d277a7b1d55d0f8$export$2e2bcd8739ae039 = $7d277a7b1d55d0f8$var$PCG;\n\n\n\n\n/** @type {bigint} */ const $07d1226f9ead52c9$var$MATRIX_A = 0x9908b0dfn; /* constant vector a */ \n/** @type {bigint} */ const $07d1226f9ead52c9$var$UPPER_MASK = 0x80000000n; /* most significant w-r bits */ \n/** @type {bigint} */ const $07d1226f9ead52c9$var$LOWER_MASK = 0x7fffffffn; /* least significant r bits */ \n// https://github.com/boo1ean/mersenne-twister/blob/master/src/mersenne-twister.js\n//   https://gist.github.com/banksean/300494\n//     https://upload.wikimedia.org/wikipedia/commons/b/b5/Mersenne_Twister_visualisation.svg\n// https://gitlab.com/rockerest/fast-mersenne-twister/-/blob/master/mersenne.js\n/**\n * Mersenne Twister is a widely used PRNG, most well known for being the Python and Excel\n * default with an extremely large state. 32 bits of output.\n *\n * @example\n * const random = new MersenneTwister(5489, 624, 397);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} n -> Degree of recurrence.\n * @param {number | bigint} m -> Middle word, offset used during recurrence.\n */ class $07d1226f9ead52c9$var$MersenneTwister extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} n -> Degree of recurrence.\n   * @param {number | bigint} m -> Middle word, offset used during recurrence.\n   */ constructor(seed = Date.now(), n = 624, m = 397){\n        super((0, $9fd4e36c165f84be$export$8b4386a2824e686f), BigInt(seed));\n        this.state = new Array(n);\n        this.N = n;\n        this.M = m;\n        this.initf = 0;\n        this.stateIndex = 0;\n        // Trigger seed setter after all variables initialised.\n        this.seed = seed;\n    }\n    /**\n   * Resets the generator to its original state.\n   *\n   * @public\n   */ reset() {\n        this.seed = this._seed;\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 32);\n        this.state[0] = this._seed & 0xffffffffn;\n        for(let j = 1; j < this.N; j++){\n            this.state[j] = 1812433253n * (this.state[j - 1] ^ this.state[j - 1] >> 30n) + BigInt(j);\n            /* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */ /* In the previous versions, MSBs of the seed affect   */ /* only MSBs of the array state[].                        */ /* 2002/01/09 modified by Makoto Matsumoto             */ this.state[j] &= 0xffffffffn; /* for >32 bit machines */ \n        }\n        this.initf = 1;\n    }\n    /**\n   * @private\n   * @param {bigint} u\n   * @param {bigint} v\n   * @returns {bigint}\n   */ mixBits(u, v) {\n        return u & $07d1226f9ead52c9$var$UPPER_MASK | v & $07d1226f9ead52c9$var$LOWER_MASK;\n    }\n    /**\n   * Computes the twist function.\n   * @private\n   * @param {bigint} u\n   * @param {bigint} v\n   * @returns {bigint}\n   */ twist(u, v) {\n        return this.mixBits(u, v) >> 1n ^ (v & 1n ? $07d1226f9ead52c9$var$MATRIX_A : 0n);\n    }\n    /**\n   * Computes the next state of the generator.\n   * @private\n   */ nextState() {\n        let j = 0;\n        for(; j < this.N - this.M; j++)this.state[j] = this.state[j + this.M] ^ this.twist(this.state[j], this.state[j + 1]);\n        for(; j < this.N - 1; j++)this.state[j] = this.state[j + (this.M - this.N)] ^ this.twist(this.state[j], this.state[j + 1]);\n        this.state[this.N - 1] = this.state[this.M - 1] ^ this.twist(this.state[this.N - 1], this.state[0]);\n        this.stateIndex = 0;\n        this.initf = 0;\n    }\n    _int() {\n        let y;\n        if (this.stateIndex >= this.N || this.initf) this.nextState();\n        y = this.state[this.stateIndex++];\n        /* Tempering */ y ^= y >> 11n;\n        y ^= y << 7n & 0x9d2c5680n;\n        y ^= y << 15n & 0xefc60000n;\n        y ^= y >> 18n;\n        return y;\n    }\n}\nvar $07d1226f9ead52c9$export$2e2bcd8739ae039 = $07d1226f9ead52c9$var$MersenneTwister;\n\n\n\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * This generator has 32 bit output with 32 bits of internal state.\n *\n * @example\n * const random = new XORShift(11234, 13, 17, 5);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} a -> First bit shift parameter.\n * @param {number | bigint} b -> Second bit shift parameter.\n * @param {number | bigint} c -> Third bit shift parameter.\n */ class $7e91755a7b505e5d$var$XORShift extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} a -> First bit shift parameter.\n   * @param {number | bigint} b -> Second bit shift parameter.\n   * @param {number | bigint} c -> Third bit shift parameter.\n   */ constructor(seed = Date.now(), a = 13, b = 17, c = 5){\n        super((0, $9fd4e36c165f84be$export$8b4386a2824e686f), BigInt(seed));\n        this.seed = seed;\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.a = this.cast(BigInt(a), 32);\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.b = this.cast(BigInt(b), 32);\n        /**\n     * @private\n     * @type {BigInt}\n     */ this.c = this.cast(BigInt(c), 32);\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 32);\n        this.x = this._seed;\n    }\n    _int() {\n        let { x: x } = this;\n        x ^= x << this.a;\n        // Recast to uint32. BigInt on a left shift will always shift and keep digits regardless\n        // of previous casting. Therefore re-cast is necessary to ensure code behaves the same w/r to _seed c behaviour.\n        x = this.cast(x, 32);\n        x ^= x >> this.b;\n        x ^= x << this.c;\n        x = this.cast(x, 32);\n        this.x = x;\n        return x;\n    }\n}\nvar $7e91755a7b505e5d$export$2e2bcd8739ae039 = $7e91755a7b505e5d$var$XORShift;\n\n\n\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality. This implementation\n * has 32 bit output with 128 bits of internal state.\n *\n * @example\n * const random = new XORShift128(Date.now(), 362436069, 521288629, 88675123);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> First bit shift parameter.\n * @param {number | bigint} z -> Second bit shift parameter.\n * @param {number | bigint} w -> Third bit shift parameter.\n */ class $6cca42fca85008c3$var$XORShift128 extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> First bit shift parameter.\n   * @param {number | bigint} z -> Second bit shift parameter.\n   * @param {number | bigint} w -> Third bit shift parameter.\n   */ constructor(seed = Date.now(), y = 362436069, z = 521288629, w = 88675123){\n        super((0, $9fd4e36c165f84be$export$8b4386a2824e686f), BigInt(seed));\n        this.seed = seed;\n        this.y = this.cast(BigInt(y), 32);\n        this.z = this.cast(BigInt(z), 32);\n        this.w = this.cast(BigInt(w), 32);\n        this.origParams = {\n            y: this.y,\n            z: this.z,\n            w: this.w\n        };\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n        Object.assign(this, this.origParams);\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 32);\n        this.reset();\n    }\n    _int() {\n        let { x: x, w: w } = this;\n        x ^= x << 11n;\n        x = this.cast(x, 32);\n        x ^= x >> 8n;\n        w ^= w >> 19n;\n        this.x = this.y;\n        this.y = this.z;\n        this.z = this.w;\n        this.w = w ^ x;\n        return this.w;\n    }\n}\nvar $6cca42fca85008c3$export$2e2bcd8739ae039 = $6cca42fca85008c3$var$XORShift128;\n\n\n\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * 64 bits of output with 128 internal state.\n *\n * @example\n * const random = new XORShift128Plus(Date.now(), 362436069);\n *\n * @class\n * @extends {PRNG64}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> Second seed.\n */ class $46eb62a23bb4beb4$var$XORShift128Plus extends (0, $006f3baa2011aebb$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> Second seed.\n   */ constructor(seed = Date.now(), y = 362436069){\n        super((0, $9fd4e36c165f84be$export$d03c15e0b8ab33b9), seed);\n        this.seed = seed;\n        this.y = this.cast(BigInt(y), 64);\n        this.origParams = {\n            y: this.y\n        };\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n        Object.assign(this, this.origParams);\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 64);\n        this.reset();\n    }\n    _int() {\n        let s1 = this.x;\n        const s0 = this.y;\n        const result = this.cast(s0 + s1, 64);\n        this.x = s0;\n        s1 ^= s1 << 23n; // a\n        s1 = this.cast(s1, 64);\n        this.y = s1 ^ s0 ^ s1 >> 18n ^ s0 >> 5n; // b, c\n        return result;\n    }\n}\nvar $46eb62a23bb4beb4$export$2e2bcd8739ae039 = $46eb62a23bb4beb4$var$XORShift128Plus;\n\n\n\n\n/**\n * XorWow is an improved version of XorShift and default generator of Nvidia CUDA. 32 bits of output.\n *\n * @example\n * const random = new XORWow(123456789, 362436069, 521288629, 88675123, 5783321, 6615241, 362437);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> First state initial value.\n * @param {number | bigint} z -> Second state initial value.\n * @param {number | bigint} w -> Third state initial value.\n * @param {number | bigint} v -> Fourth state initial value.\n * @param {number | bigint} d -> Fifth state initial value.\n * @param {number | bigint} weyl -> Additive counter.\n */ class $da4ad77d10b328d5$var$XORWow extends (0, $bf1e9ebc0cfb87e0$export$2e2bcd8739ae039) {\n    /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> First state initial value.\n   * @param {number | bigint} z -> Second state initial value.\n   * @param {number | bigint} w -> Third state initial value.\n   * @param {number | bigint} v -> Fourth state initial value.\n   * @param {number | bigint} d -> Fifth state initial value.\n   * @param {number | bigint} weyl -> Additive counter.\n   */ constructor(seed = Date.now(), y = 362436069, z = 521288629, w = 88675123, v = 5783321, d = 6615241, weyl = 362437){\n        super((0, $9fd4e36c165f84be$export$8b4386a2824e686f), BigInt(seed));\n        // Other PRNGs call the seed setter, we do not do this here as it would add too much complexity to the function.\n        this._seed = this.cast(this._seed, 32);\n        this.x = this._seed;\n        this.y = this.cast(BigInt(y), 32);\n        this.z = this.cast(BigInt(z), 32);\n        this.w = this.cast(BigInt(w), 32);\n        this.v = this.cast(BigInt(v), 32);\n        this.d = this.cast(BigInt(d), 32);\n        this.weyl = this.cast(BigInt(weyl), 32);\n        this.origParams = {\n            y: this.y,\n            z: this.z,\n            w: this.w,\n            v: this.v,\n            d: this.d\n        };\n    }\n    /**\n   * Resets the generator to its original state.\n   */ reset() {\n        this.x = this.seed;\n        Object.assign(this, this.origParams);\n    }\n    /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */ get seed() {\n        return this._seed;\n    }\n    /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */ set seed(seed) {\n        this._seed = this.cast(BigInt(seed), 32);\n        this.reset();\n    }\n    _int() {\n        let t = this.x;\n        let { v: v } = this;\n        t ^= t >> 2n;\n        t ^= t << 1n;\n        v ^= v << 4n;\n        this.x = this.y;\n        this.y = this.z;\n        this.z = this.w;\n        this.w = this.v;\n        this.v = this.cast(v ^ t, 32);\n        this.d += this.weyl;\n        return this.cast(this.d + this.v, 32);\n    }\n}\nvar $da4ad77d10b328d5$export$2e2bcd8739ae039 = $da4ad77d10b328d5$var$XORWow;\n\n\nconst $73e8f9d399204016$export$4385e60b38654f68 = new (0, $11e2e995f355532d$export$2e2bcd8739ae039)(Date.now());\nvar $73e8f9d399204016$export$2e2bcd8739ae039 = new (0, $11e2e995f355532d$export$2e2bcd8739ae039)(Date.now());\n\n\nvar $87432b44d227b409$var$Ae = Object.defineProperty;\nvar $87432b44d227b409$var$Ee = Object.getOwnPropertyDescriptor;\nvar $87432b44d227b409$var$R = (a, e, t, r)=>{\n    for(var i = r > 1 ? void 0 : r ? $87432b44d227b409$var$Ee(e, t) : e, o = a.length - 1, n; o >= 0; o--)(n = a[o]) && (i = (r ? n(e, t, i) : n(i)) || i);\n    return r && i && $87432b44d227b409$var$Ae(e, t, i), i;\n};\nvar $87432b44d227b409$var$k = [\n    [\n        1,\n        0,\n        1,\n        0\n    ],\n    [\n        1,\n        0,\n        1,\n        1\n    ],\n    [\n        1,\n        0,\n        1,\n        2\n    ],\n    [\n        2,\n        0,\n        2,\n        1\n    ],\n    [\n        0,\n        0,\n        2,\n        1\n    ],\n    [\n        0,\n        0,\n        1,\n        2\n    ],\n    [\n        2,\n        0,\n        2,\n        2\n    ],\n    [\n        2,\n        0,\n        2,\n        0\n    ],\n    [\n        0,\n        0,\n        2,\n        2\n    ],\n    [\n        2,\n        0,\n        0,\n        2\n    ],\n    [\n        2,\n        0,\n        0,\n        1\n    ],\n    [\n        1,\n        0,\n        0,\n        2\n    ],\n    [\n        0,\n        0,\n        1,\n        1\n    ],\n    [\n        1,\n        1,\n        0,\n        0\n    ],\n    [\n        1,\n        1,\n        0,\n        1\n    ],\n    [\n        0,\n        1,\n        1,\n        1\n    ],\n    [\n        1,\n        1,\n        1,\n        0\n    ],\n    [\n        0,\n        1,\n        0,\n        1\n    ],\n    [\n        1,\n        1,\n        1,\n        1\n    ],\n    [\n        1,\n        2,\n        1,\n        0\n    ],\n    [\n        2,\n        1,\n        2,\n        0\n    ],\n    [\n        2,\n        2,\n        0,\n        0\n    ],\n    [\n        0,\n        2,\n        2,\n        0\n    ],\n    [\n        2,\n        2,\n        0,\n        2\n    ],\n    [\n        0,\n        2,\n        2,\n        2\n    ],\n    [\n        2,\n        2,\n        2,\n        0\n    ],\n    [\n        0,\n        2,\n        0,\n        2\n    ],\n    [\n        2,\n        2,\n        2,\n        2\n    ],\n    [\n        1,\n        2,\n        0,\n        2\n    ],\n    [\n        2,\n        1,\n        0,\n        1\n    ],\n    [\n        0,\n        2,\n        1,\n        2\n    ],\n    [\n        0,\n        1,\n        2,\n        1\n    ],\n    [\n        2,\n        1,\n        0,\n        0\n    ],\n    [\n        1,\n        2,\n        0,\n        0\n    ],\n    [\n        0,\n        2,\n        1,\n        0\n    ],\n    [\n        0,\n        1,\n        2,\n        0\n    ],\n    [\n        2,\n        1,\n        2,\n        1\n    ],\n    [\n        1,\n        2,\n        1,\n        2\n    ],\n    [\n        1,\n        0,\n        0,\n        1\n    ],\n    [\n        0,\n        1,\n        1,\n        0\n    ]\n];\nfunction $87432b44d227b409$var$xe(a, e, t) {\n    let r = a.getCharCode(e, t);\n    return r !== void 0 && r >= 179 && r <= 218;\n}\nfunction $87432b44d227b409$var$I(a, e, t, r) {\n    if (e < 0 || t < 0 || e >= a.width || t >= a.height) return 0;\n    let i = a.getCharCode(e, t);\n    return i === void 0 || i < 179 || i > 218 ? 0 : $87432b44d227b409$var$k[i - 179][r];\n}\nfunction $87432b44d227b409$var$Te(a, e, t, r) {\n    for(let i = 0; i < $87432b44d227b409$var$k.length; i++){\n        let o = $87432b44d227b409$var$k[i];\n        if (o[0] === a && o[1] === e && o[2] === t && o[3] === r) return 179 + i;\n    }\n    return 0;\n}\nfunction $87432b44d227b409$export$fd6ebb7264bbe919(a) {\n    for(let e = 0; e < a.height; e++)for(let t = 0; t < a.width; t++)if ($87432b44d227b409$var$xe(a, t, e)) {\n        let r = $87432b44d227b409$var$I(a, t, e - 1, 2), i = $87432b44d227b409$var$I(a, t + 1, e, 3), o = $87432b44d227b409$var$I(a, t, e + 1, 0), n = $87432b44d227b409$var$I(a, t - 1, e, 1);\n        r > 0 && i === 0 && o === 0 && n === 0 ? o = r : r === 0 && i > 0 && o === 0 && n === 0 ? n = i : r === 0 && i === 0 && o > 0 && n === 0 ? r = o : r === 0 && i === 0 && o === 0 && n > 0 && (i = n), n > 0 && i > 0 && (n = i = Math.max(n, i)), r > 0 && o > 0 && (r = o = Math.max(r, o));\n        let s = $87432b44d227b409$var$Te(r, i, o, n);\n        if ((r || i || o || n) && !(s >= 179 && s <= 218)) throw new Error(\"invalid char code! (up=\" + r + \", right=\" + i + \", down=\" + o + \", left=\" + n + \")\");\n        a.drawChar(t, e, s);\n    }\n}\nfunction $87432b44d227b409$export$dd69e37c8d0f725a(a, e, t, r) {\n    return r === void 0 && (r = 255), (a << 24) + (e << 16) + (t << 8) + r;\n}\nfunction $87432b44d227b409$export$a5a2854ba0b1de48(a, e, t, r) {\n    let i = a * 6 | 0, o = a * 6 - i, n = t * (1 - e), s = t * (1 - o * e), l = t * (1 - (1 - o) * e), h, u, d;\n    switch(i % 6){\n        case 0:\n            h = t, u = l, d = n;\n            break;\n        case 1:\n            h = s, u = t, d = n;\n            break;\n        case 2:\n            h = n, u = t, d = l;\n            break;\n        case 3:\n            h = n, u = s, d = t;\n            break;\n        case 4:\n            h = l, u = n, d = t;\n            break;\n        case 5:\n            h = t, u = n, d = s;\n            break;\n        default:\n            h = 0, u = 0, d = 0;\n    }\n    return r === void 0 && (r = 1), $87432b44d227b409$export$dd69e37c8d0f725a(h * 255 | 0, u * 255 | 0, d * 255 | 0, r * 255 | 0);\n}\nvar $87432b44d227b409$export$c537fa0d021d010b = {\n    BLACK: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 0),\n    WHITE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 255, 255),\n    LIGHT_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(170, 170, 170),\n    DARK_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(85, 85, 85),\n    YELLOW: $87432b44d227b409$export$dd69e37c8d0f725a(255, 255, 85),\n    BROWN: $87432b44d227b409$export$dd69e37c8d0f725a(170, 85, 0),\n    LIGHT_RED: $87432b44d227b409$export$dd69e37c8d0f725a(255, 85, 85),\n    DARK_RED: $87432b44d227b409$export$dd69e37c8d0f725a(170, 0, 0),\n    LIGHT_GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(85, 255, 85),\n    DARK_GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 170, 0),\n    LIGHT_CYAN: $87432b44d227b409$export$dd69e37c8d0f725a(85, 255, 255),\n    DARK_CYAN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 170, 170),\n    LIGHT_BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(85, 85, 255),\n    DARK_BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 170),\n    LIGHT_MAGENTA: $87432b44d227b409$export$dd69e37c8d0f725a(255, 85, 255),\n    DARK_MAGENTA: $87432b44d227b409$export$dd69e37c8d0f725a(170, 0, 170),\n    ORANGE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 136, 0)\n};\nvar $87432b44d227b409$var$Y = new Map;\nfunction $87432b44d227b409$export$c1faf8344a396331(a) {\n    $87432b44d227b409$var$Y.set(a.name, a);\n}\nfunction $87432b44d227b409$export$dfdc1655ccc5b9cb(a) {\n    let e = [], t = new WeakMap, r = i(a);\n    return JSON.stringify({\n        instances: e,\n        root: r\n    });\n    function i(l) {\n        return Array.isArray(l) ? o(l) : l && typeof l == \"object\" ? n(l) : l;\n    }\n    function o(l) {\n        let h = [];\n        for(let u = 0; u < l.length; u++)h[u] = i(l[u]);\n        return h;\n    }\n    function n(l) {\n        if (l && l.constructor.name && l.constructor.name !== \"Object\") {\n            if (!$87432b44d227b409$var$Y.has(l.constructor.name)) throw new Error(`Class ${l.constructor.name} is not serializable.`);\n            if (t.has(l)) return {\n                $ref: t.get(l)\n            };\n            let h = e.length;\n            return e.push({\n                $type: l.constructor.name\n            }), t.set(l, h), e[h] = {\n                ...s(l),\n                $type: l.constructor.name\n            }, {\n                $ref: h\n            };\n        }\n        return s(l);\n    }\n    function s(l) {\n        let h = {};\n        for (let u of Object.keys(l))h[u] = i(l[u]);\n        return h;\n    }\n}\nfunction $87432b44d227b409$export$efcd34ab6248d3cd(a) {\n    let e = JSON.parse(a), t = e.instances;\n    for(let s = 0; s < t.length; s++){\n        let l = t[s], h = $87432b44d227b409$var$Y.get(l.$type);\n        delete l.$type, t[s] = Object.create(h.prototype, Object.getOwnPropertyDescriptors(l));\n    }\n    for(let s = 0; s < t.length; s++)n(t[s]);\n    return r(e.root);\n    function r(s) {\n        return Array.isArray(s) ? i(s) : s && typeof s == \"object\" ? o(s) : s;\n    }\n    function i(s) {\n        for(let l = 0; l < s.length; l++)s[l] = r(s[l]);\n        return s;\n    }\n    function o(s) {\n        return $87432b44d227b409$var$Re(s) ? t[s.$ref] : (n(s), s);\n    }\n    function n(s) {\n        for (let [l, h] of Object.entries(s))s[l] = r(h);\n    }\n}\nfunction $87432b44d227b409$var$Re(a) {\n    return !!(a && typeof a == \"object\" && \"$ref\" in a);\n}\nfunction $87432b44d227b409$var$Le(a) {\n    return typeof a == \"string\" && a.length > 0 ? a.charCodeAt(0) : a;\n}\nvar $87432b44d227b409$export$f6f0c3fe4ec306ea = class {\n    constructor(e, t, r, i = $87432b44d227b409$export$c537fa0d021d010b.WHITE, o = $87432b44d227b409$export$c537fa0d021d010b.BLACK){\n        this.x = e;\n        this.y = t;\n        r !== void 0 ? this.charCode = $87432b44d227b409$var$Le(r) : this.charCode = 32, this.fg = i, this.bg = o, this.dirty = !0, this.blocked = !1, this.blockedSight = !1, this.explored = !1, this.visible = !1, this.pathId = -1, this.g = 0, this.h = 0, this.prev = null;\n    }\n    setCharCode(e) {\n        this.charCode !== e && (this.charCode = e, this.dirty = !0);\n    }\n    setForeground(e) {\n        e != null && e !== this.fg && (this.fg = e, this.dirty = !0);\n    }\n    setBackground(e) {\n        e != null && e !== this.bg && (this.bg = e, this.dirty = !0);\n    }\n    setValue(e, t, r) {\n        return typeof e == \"string\" && (e = e.charCodeAt(0)), typeof e == \"number\" ? (this.setCharCode(e), t !== void 0 && this.setForeground(t), r !== void 0 && this.setBackground(r)) : this.drawCell(e), this.dirty;\n    }\n    drawCell(e, t) {\n        let r = e.bg & 255;\n        !t || e.charCode > 0 ? (this.setCharCode(e.charCode), this.setForeground(e.fg)) : r > 0 && r < 255 && this.setForeground(this.blendColors(this.fg, e.bg, t)), !t || r === 255 ? this.setBackground(e.bg) : r > 0 && this.setBackground(this.blendColors(this.bg, e.bg, t));\n    }\n    blendColors(e, t, r) {\n        let o = (255 - (t & 255)) / 255, n = 1 - o, s = e >> 24 & 255, l = e >> 16 & 255, h = e >> 8 & 255, u = t >> 24 & 255, d = t >> 16 & 255, b = t >> 8 & 255;\n        switch(r){\n            case \"blend\":\n                return $87432b44d227b409$export$dd69e37c8d0f725a(o * s + n * u | 0, o * l + n * d | 0, o * h + n * b | 0);\n            case \"add\":\n                return $87432b44d227b409$export$dd69e37c8d0f725a(this.clamp(s + n * u | 0), this.clamp(l + n * d | 0), this.clamp(h + n * b | 0));\n            default:\n                return t;\n        }\n    }\n    clamp(e) {\n        return Math.min(255, e);\n    }\n};\n$87432b44d227b409$export$f6f0c3fe4ec306ea = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$f6f0c3fe4ec306ea);\nvar $87432b44d227b409$export$97d194f5fd3fc7c4 = {\n    SMILEY: 1,\n    INVERSE_SMILEY: 2,\n    HEART: 3,\n    DIAMOND: 4,\n    CLUB: 5,\n    SPADE: 6,\n    BULLET: 7,\n    INVERSE_BULLET: 8,\n    LIGHT_SHADE: 176,\n    MEDIUM_SHADE: 177,\n    DARK_SHADE: 178,\n    BOX_SINGLE_VERTICAL: 179,\n    BOX_SINGLE_VERTICAL_AND_SINGLE_LEFT: 180,\n    BOX_DOUBLE_VERTICAL_AND_DOUBLE_LEFT: 185,\n    BOX_DOUBLE_VERTICAL: 186,\n    BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT: 187,\n    BOX_DOUBLE_UP_AND_DOUBLE_LEFT: 188,\n    BOX_SINGLE_DOWN_AND_SINGLE_LEFT: 191,\n    BOX_SINGLE_UP_AND_SINGLE_RIGHT: 192,\n    BOX_SINGLE_HORIZONTAL_AND_SINGLE_UP: 193,\n    BOX_SINGLE_HORIZONTAL_AND_SINGLE_DOWN: 194,\n    BOX_SINGLE_VERTICAL_AND_SINGLE_RIGHT: 195,\n    BOX_SINGLE_HORIZONTAL: 196,\n    BOX_SINGLE_VERTICAL_AND_SINGLE_HORIZONTAL: 197,\n    BOX_DOUBLE_UP_AND_DOUBLE_RIGHT: 200,\n    BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT: 201,\n    BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_UP: 202,\n    BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_DOWN: 203,\n    BOX_DOUBLE_VERTICAL_AND_DOUBLE_RIGHT: 204,\n    BOX_DOUBLE_HORIZONTAL: 205,\n    BOX_DOUBLE_VERTICAL_AND_DOUBLE_HORIZONTAL: 206,\n    BOX_SINGLE_UP_AND_SINGLE_LEFT: 217,\n    BOX_SINGLE_DOWN_AND_SINGLE_RIGHT: 218,\n    BLOCK_FULL: 219,\n    BLOCK_BOTTOM_HALF: 220,\n    BLOCK_LEFT_HALF: 221,\n    BLOCK_RIGHT_HALF: 222,\n    BLOCK_TOP_HALF: 223\n};\nvar $87432b44d227b409$export$71ac550529085c78 = {\n    LEFT: \"left\",\n    CENTER: \"center\",\n    RIGHT: \"right\"\n}, $87432b44d227b409$export$f69c19e57285b83a = class {\n    constructor(e, t, r, i, o){\n        this.text = e;\n        this.fg = t;\n        this.bg = r;\n        this.children = i;\n        this.align = o;\n    }\n    getWidth() {\n        let e = 0;\n        if (this.text) for (let t of this.text.split(`\n`))e = Math.max(e, t.length);\n        if (this.children) for (let t of this.children)e = Math.max(e, t.getWidth());\n        return e;\n    }\n    getHeight() {\n        let e = 0;\n        if (this.text && (e += this.text.split(`\n`).length), this.children) for (let t of this.children)e += t.getHeight();\n        return e;\n    }\n};\n$87432b44d227b409$export$f69c19e57285b83a = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$f69c19e57285b83a);\nfunction $87432b44d227b409$export$dca3d8ad656c34d2(a, e) {\n    let t = new RegExp(\"(\\\\S(.{0,\" + e + \"}\\\\S)?)\\\\s+\", \"g\");\n    return (a + \" \").replace(t, `$1\n`).trim().split(`\n`).map((r)=>r.trim());\n}\nfunction $87432b44d227b409$export$9a00dee1beb8f576(a) {\n    return a && a.charAt(0).toUpperCase() + a.slice(1);\n}\nvar $87432b44d227b409$export$8d5400d15923e166 = class {\n    constructor(e, t, r){\n        this.width = e;\n        this.height = t;\n        this.grid = [], this.originX = 0, this.originY = 0, this.minX = 0, this.maxX = 0, this.minY = 0, this.maxY = 0, this.radius = 0;\n        for(let i = 0; i < t; i++){\n            let o = [];\n            for(let n = 0; n < e; n++)o.push(new $87432b44d227b409$export$f6f0c3fe4ec306ea(n, i));\n            this.grid.push(o);\n        }\n        if (this.clear(), r) for(let i = 0; i < t; i++)for(let o = 0; o < e; o++)this.grid[i][o].blocked = this.grid[i][o].blockedSight = r(o, i);\n    }\n    clear() {\n        for(let e = 0; e < this.height; e++)for(let t = 0; t < this.width; t++)this.drawChar(t, e, 0);\n    }\n    getCell(e, t) {\n        if (!(e < 0 || t < 0 || e >= this.width || t >= this.height)) return this.grid[t][e];\n    }\n    getCharCode(e, t) {\n        if (!(e < 0 || t < 0 || e >= this.width || t >= this.height)) return this.grid[t][e].charCode;\n    }\n    drawChar(e, t, r, i, o) {\n        this.clip && !this.clip.contains({\n            x: e,\n            y: t\n        }) || e >= 0 && e < this.width && t >= 0 && t < this.height && this.grid[t | 0][e | 0].setValue(r, i, o);\n    }\n    drawString(e, t, r, i, o) {\n        let n = r.split(`\n`);\n        for(let s = 0; s < n.length; s++)this.drawStringLine(e, t + s, n[s], i, o);\n    }\n    drawStringLine(e, t, r, i, o) {\n        for(let n = 0; n < r.length; n++)this.drawChar(e + n, t, r.charCodeAt(n), i, o);\n    }\n    drawCenteredString(e, t, r, i, o) {\n        this.drawString(e - Math.floor(r.length / 2), t, r, i, o);\n    }\n    drawMessage(e, t, r, i) {\n        if (r.text) {\n            r.align === $87432b44d227b409$export$71ac550529085c78.RIGHT ? e += i - r.text.length : r.align === $87432b44d227b409$export$71ac550529085c78.CENTER && (e += i / 2 - r.text.length / 2);\n            let o = $87432b44d227b409$export$dca3d8ad656c34d2(r.text, i || this.width - e);\n            for (let n of o)this.drawStringLine(e, t, n, r.fg, r.bg), t++;\n        }\n        if (r.children) for (let o of r.children)t = this.drawMessage(e, t, o, i);\n        return t;\n    }\n    drawHLine(e, t, r, i, o, n) {\n        for(let s = e; s < e + r; s++)this.drawChar(s, t, i, o, n);\n    }\n    drawVLine(e, t, r, i, o, n) {\n        for(let s = t; s < t + r; s++)this.drawChar(e, s, i, o, n);\n    }\n    drawRect(e, t, r, i, o, n, s) {\n        this.drawHLine(e, t, r, o, n, s), this.drawHLine(e, t + i - 1, r, o, n, s), this.drawVLine(e, t, i, o, n, s), this.drawVLine(e + r - 1, t, i, o, n, s);\n    }\n    drawBox(e, t, r, i, o, n, s, l, h, u, d, b, p, E) {\n        this.drawHLine(e, t, r, o, p, E), this.drawHLine(e, t + i - 1, r, s, p, E), this.drawVLine(e, t, i, l, p, E), this.drawVLine(e + r - 1, t, i, n, p, E), this.drawChar(e, t, h, p, E), this.drawChar(e + r - 1, t, u, p, E), this.drawChar(e, t + i - 1, b, p, E), this.drawChar(e + r - 1, t + i - 1, d, p, E);\n    }\n    drawSingleBox(e, t, r, i, o, n) {\n        this.drawBox(e, t, r, i, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_HORIZONTAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_VERTICAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_HORIZONTAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_VERTICAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_DOWN_AND_SINGLE_RIGHT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_DOWN_AND_SINGLE_LEFT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_UP_AND_SINGLE_LEFT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_SINGLE_UP_AND_SINGLE_RIGHT, o, n);\n    }\n    drawDoubleBox(e, t, r, i, o, n) {\n        this.drawBox(e, t, r, i, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_HORIZONTAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_VERTICAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_HORIZONTAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_VERTICAL, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_UP_AND_DOUBLE_LEFT, $87432b44d227b409$export$97d194f5fd3fc7c4.BOX_DOUBLE_UP_AND_DOUBLE_RIGHT, o, n);\n    }\n    fillRect(e, t, r, i, o, n, s) {\n        for(let l = t; l < t + i; l++)this.drawHLine(e, l, r, o, n, s);\n    }\n    drawConsole(e, t, r, i, o, n, s, l) {\n        for(let h = 0; h < s; h++)for(let u = 0; u < n; u++){\n            let d = r.getCell(i + u, o + h);\n            d && this.drawCell(e + u, t + h, d, l);\n        }\n    }\n    drawCell(e, t, r, i) {\n        e >= 0 && e < this.width && t >= 0 && t < this.height && this.grid[t][e].drawCell(r, i);\n    }\n    setBlocked(e, t, r) {\n        e >= 0 && e < this.width && t >= 0 && t < this.height && (this.grid[t][e].blocked = r);\n    }\n    setBlockedSight(e, t, r) {\n        e >= 0 && e < this.width && t >= 0 && t < this.height && (this.grid[t][e].blockedSight = r);\n    }\n    isVisible(e, t) {\n        return e < this.minX || e > this.maxX || t < this.minY || t > this.maxY ? !1 : this.grid[t][e].visible;\n    }\n    isBlocked(e, t) {\n        return e < 0 || e > this.width || t < 0 || t > this.height ? !0 : this.grid[t][e].blocked;\n    }\n    isBlockedSight(e, t) {\n        return e < 0 || e > this.width || t < 0 || t > this.height ? !0 : this.grid[t][e].blockedSight;\n    }\n    computeOctantY(e, t) {\n        let r = [], i = [], o = 1, n = 0, s = 0, l = 0, h, u, d, b, p, E, C, x, A, v;\n        for(u = this.originY + t; u >= this.minY && u <= this.maxY; u += t, s = n, ++o)for(d = .5 / o, v = -1, b = Math.floor(l * o + .5), h = this.originX + b * e; b <= o && h >= this.minX && h <= this.maxX; h += e, ++b, v = A){\n            if (p = !0, E = !1, C = b / o, x = v, A = C + d, s > 0) {\n                if (!(this.grid[u - t][h].visible && !this.grid[u - t][h].blockedSight) && !(this.grid[u - t][h - e].visible && !this.grid[u - t][h - e].blockedSight)) p = !1;\n                else for(let _ = 0; _ < s && p; ++_)if (x <= i[_] && A >= r[_]) {\n                    if (this.grid[u][h].blockedSight) {\n                        if (x >= r[_] && A <= i[_]) {\n                            p = !1;\n                            break;\n                        } else r[_] = Math.min(r[_], x), i[_] = Math.max(i[_], A), E = !0;\n                    } else if (C > r[_] && C < i[_]) {\n                        p = !1;\n                        break;\n                    }\n                }\n            }\n            p && (this.grid[u][h].visible = !0, this.grid[u][h].blockedSight && (l >= x ? l = A : E || (r[n] = x, i[n++] = A)));\n        }\n    }\n    computeOctantX(e, t) {\n        let r = [], i = [], o = 1, n = 0, s = 0, l = 0, h, u, d, b, p, E, C, x, A, v;\n        for(h = this.originX + e; h >= this.minX && h <= this.maxX; h += e, s = n, ++o)for(d = .5 / o, v = -1, b = Math.floor(l * o + .5), u = this.originY + b * t; b <= o && u >= this.minY && u <= this.maxY; u += t, ++b, v = A){\n            if (p = !0, E = !1, C = b / o, x = v, A = C + d, s > 0) {\n                if (!(this.grid[u][h - e].visible && !this.grid[u][h - e].blockedSight) && !(this.grid[u - t][h - e].visible && !this.grid[u - t][h - e].blockedSight)) p = !1;\n                else for(let _ = 0; _ < s && p; ++_)if (x <= i[_] && A >= r[_]) {\n                    if (this.grid[u][h].blockedSight) {\n                        if (x >= r[_] && A <= i[_]) {\n                            p = !1;\n                            break;\n                        } else r[_] = Math.min(r[_], x), i[_] = Math.max(i[_], A), E = !0;\n                    } else if (C > r[_] && C < i[_]) {\n                        p = !1;\n                        break;\n                    }\n                }\n            }\n            p && (this.grid[u][h].visible = !0, this.grid[u][h].blockedSight && (l >= x ? l = A : E || (r[n] = x, i[n++] = A)));\n        }\n    }\n    computeFov(e, t, r, i, o) {\n        if (this.originX = e, this.originY = t, this.radius = r, i) this.minX = Math.min(this.minX, Math.max(0, e - r)), this.minY = Math.min(this.minY, Math.max(0, t - r)), this.maxX = Math.max(this.maxX, Math.min(this.width - 1, e + r)), this.maxY = Math.max(this.maxY, Math.min(this.height - 1, t + r));\n        else {\n            this.minX = Math.max(0, e - r), this.minY = Math.max(0, t - r), this.maxX = Math.min(this.width - 1, e + r), this.maxY = Math.min(this.height - 1, t + r);\n            for(let n = this.minY; n <= this.maxY; n++)for(let s = this.minX; s <= this.maxX; s++)this.grid[n][s].visible = !1;\n        }\n        this.grid[t][e].visible = !0, o === void 0 ? (this.computeOctantY(1, 1), this.computeOctantX(1, 1), this.computeOctantX(1, -1), this.computeOctantY(1, -1), this.computeOctantY(-1, -1), this.computeOctantX(-1, -1), this.computeOctantX(-1, 1), this.computeOctantY(-1, 1)) : (o & 1 && this.computeOctantY(1, 1), o & 2 && this.computeOctantX(1, 1), o & 4 && this.computeOctantX(1, -1), o & 8 && this.computeOctantY(1, -1), o & 16 && this.computeOctantY(-1, -1), o & 32 && this.computeOctantX(-1, -1), o & 64 && this.computeOctantX(-1, 1), o & 128 && this.computeOctantY(-1, 1));\n    }\n    updateExplored() {\n        for(let e = this.minY; e <= this.maxY; e++)for(let t = this.minX; t <= this.maxX; t++){\n            let r = this.grid[e][t];\n            r.explored = r.explored || r.visible;\n        }\n    }\n};\n$87432b44d227b409$export$8d5400d15923e166 = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$8d5400d15923e166);\nvar $87432b44d227b409$export$89abf52a030e56ee = class {\n    constructor(e, t, r){\n        this.url = e;\n        this.charWidth = t;\n        this.charHeight = r;\n    }\n}, $87432b44d227b409$var$Ce = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEUAAAD///+l2Z/dAAAEhklEQVRIx42Sv4oUQRDGC4UzadSwwMUD8QEKlbWD4Q58B/NGpTVocKO1wXHUzMAH0AcwMTYVGg5ag0IzEXaRjdZEZKNzkKbHqtnzHypY09M9+5uvqr7pbYCuC6ftaRhgONXs30eAh0O1rYDm4IS/eH0B8GxRW2vxo396yu/fb0ZFrW1zcOXlPU/XPwK8PGjbWhVwM4KnH61912oK4+zmmHJaQotyt1kvtC2Atdo24iohPDiG/v4eICJsY3Wy8Yvr0DSIBOdxgH6v8wsriWhc8s0AtaK/GzSl1jR0nSjQnwki6FQxNFKjgzO2a7BBqucH7dL4M9z96CIhT1Fs/AgKgcA6dKCxI29DaHNwRJ4EGAU1sU0OG9rmE4SIc3A4FChACqqhJRwpxkqh9wxag4DSmEJ5DtpFwAP4GUf6lmKcFFti1BYuQp4xN8kxM2kNhjdkTOiTUeAKGvhA1rLpMbYACQzCITlTDRMbLYoEa2JWPSMRFZIupcSzMVKcEUkX+sOG+ChNX2vD8ex6k7OFHL0P1655JuPd53WAD+yTv3UrCQiuHmYBbfIxpkImuvpBQBkVb5g4XHv3JkNireG8AO9zDhBZu2z2OMZ11S5/RIlyMefMNaZ4GsCz5xcjyM6hHYEjAYEfO8Ig1rklAe9sRIeYAdwyoIBq6YIzCAKiWoifA3m3o2AzWcdYKOdY47EIf8QABCuYgIUVmdVMEYEDA0Hmo/3D6KKJbh5mxhP3UsWIE97wnEygyizOfOLi2JOJW8CeOblW9IHeKZgv4zxuzDryOmb+4aQH+MXV6e0ywdUcxqCjBWl5GpbzZduOG1QEiGXP86T7EfiJfkMQ4OO4H0yqyNC2zlziWEN7Ywuc2fQ4p5BNkS5QYXP2h5NtRJh0vCKQidtVJmCGAwDSSQpYggSxiRIyzewsgCh4xxiTPDMh5aj//l7btqkr6rQyIOtLji4lVRQwXdzvus40Y53M33fh50GZwF4ExQeMlvuTggLzSi4ElKczUO7zVtpwdyMKdqZKOWb2nDblawPxPmuMwFEWBW+jlZR1eYtS442kiBGMWCi/h1/+GAR6NYOJWiqNJXFygFtrkx5C0O3IeFGs67HhEEhmBu/BUOT+0551pXxYIF+Elpi5AKRkLl5GUbCCZddyMv621ujEBPP4vSy2fotTx3U+d3WBiFOA6VSGSB49v/M7GBX9FPrDaT2c9qr4PCpwZ7qz813R94dVFIe19v33GlMZUghQFb8BrfE7QBmgBMbrn2B3enn/y3B5+DL8UBAdnejdYdBxeV9ejwoYNTgW0Ok/gA7UG2GAzanhL0DG7q4svynwF8UwDPu7u/vD0IudzSltMtVbP+J/gUbR29oJ7Fg9s6Uy+DnpiTCOYc4cXOeXMWfsusSw7FOg9x655nax6BlecwpOQQ68WBwp+H2LMQTuOq2RUigzh2Q/R3CWARJIJG199EwOTyKBlQMznshCRGeQ5gHABAQl6M4gLEdAzVaBWMCiANdsayDCHBA/hagKYfielrJIlipKKQIA9Nf3wBloTHT6BuAx15zRNa1nAAAAAElFTkSuQmCC\", $87432b44d227b409$export$7d7a232b6d2cc80c = new $87432b44d227b409$export$89abf52a030e56ee($87432b44d227b409$var$Ce, 8, 8);\nvar $87432b44d227b409$export$86873c80e15e3700 = {\n    OCTANT_SOUTH_SOUTHEAST: 1,\n    OCTANT_EAST_SOUTHEAST: 2,\n    OCTANT_EAST_NORTHTHEAST: 4,\n    OCTANT_NORTH_NORTHEAST: 8,\n    OCTANT_NORTH_NORTHWEST: 16,\n    OCTANT_WEST_NORTHEAST: 32,\n    OCTANT_WEST_SOUTHWEST: 64,\n    OCTANT_SOUTH_SOUTHWEST: 128\n}, $87432b44d227b409$export$84c15be858063cfc = {\n    QUADRANT_SOUTHEAST: 3,\n    QUADRANT_EAST: 6,\n    QUADRANT_NORTHEAST: 12,\n    QUADRANT_NORTH: 24,\n    QUADRANT_NORTHWEST: 48,\n    QUADRANT_WEST: 96,\n    QUADRANT_SOUTHWEST: 192,\n    QUADRANT_SOUTH: 129\n};\nfunction $87432b44d227b409$export$a550ce1a15452643(a, e) {\n    return a > 0 ? e > 0 ? $87432b44d227b409$export$84c15be858063cfc.QUADRANT_SOUTHEAST : e === 0 ? $87432b44d227b409$export$84c15be858063cfc.QUADRANT_EAST : $87432b44d227b409$export$84c15be858063cfc.QUADRANT_NORTHEAST : a < 0 ? e > 0 ? $87432b44d227b409$export$84c15be858063cfc.QUADRANT_SOUTHWEST : e === 0 ? $87432b44d227b409$export$84c15be858063cfc.QUADRANT_WEST : $87432b44d227b409$export$84c15be858063cfc.QUADRANT_NORTHWEST : e > 0 ? $87432b44d227b409$export$84c15be858063cfc.QUADRANT_SOUTH : $87432b44d227b409$export$84c15be858063cfc.QUADRANT_NORTH;\n}\nvar $87432b44d227b409$export$baf26146a414f24a = class {\n    constructor(e, t){\n        this.x = e;\n        this.y = t;\n    }\n};\n$87432b44d227b409$export$baf26146a414f24a = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$baf26146a414f24a);\nvar $87432b44d227b409$export$c79fc6492f3af13d = class {\n    constructor(e, t, r, i){\n        this.x = e;\n        this.y = t;\n        this.width = r;\n        this.height = i;\n    }\n    get left() {\n        return this.x;\n    }\n    get top() {\n        return this.y;\n    }\n    get x2() {\n        return this.x + this.width;\n    }\n    get y2() {\n        return this.y + this.height;\n    }\n    getCenter() {\n        return new $87432b44d227b409$export$baf26146a414f24a(this.x + this.width / 2 | 0, this.y + this.height / 2 | 0);\n    }\n    intersects(e) {\n        return this.x <= e.x2 && this.x2 >= e.x && this.y <= e.y2 && this.y2 >= e.y;\n    }\n    contains(e) {\n        return e.x >= this.x && e.x < this.x2 && e.y >= this.y && e.y < this.y2;\n    }\n};\n$87432b44d227b409$export$c79fc6492f3af13d = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$c79fc6492f3af13d);\nvar $87432b44d227b409$export$7eb25b1263d43612 = class {\n    constructor(e, t, r){\n        this.dialog = e;\n        this.rect = t;\n        this.contentsOffset = r;\n        this.open = !1;\n        this.count = 0;\n    }\n};\nvar $87432b44d227b409$export$21b6c8a35893e29c = class {\n    getState(e, t) {\n        let r = t.contentsRect.width + 4, i = t.contentsRect.height + 4, o = (e.width - r) / 2 | 0, n = (e.height - i) / 2 | 0;\n        return new $87432b44d227b409$export$7eb25b1263d43612(t, new $87432b44d227b409$export$c79fc6492f3af13d(o, n, r, i), new $87432b44d227b409$export$baf26146a414f24a(o + 2, n + 2));\n    }\n    draw(e, t) {\n        let r = t.dialog, { x: i, y: o, width: n, height: s } = t.rect;\n        e.fillRect(i, o, n, s, 0, $87432b44d227b409$export$c537fa0d021d010b.WHITE, $87432b44d227b409$export$c537fa0d021d010b.BLACK), e.drawSingleBox(i, o, n, s), e.drawCenteredString(i + n / 2 | 0, o, \" \" + r.title + \" \"), r.drawContents(e, t.contentsOffset);\n    }\n};\nvar $87432b44d227b409$export$983832d820c96993 = class {\n    constructor(e, t = new $87432b44d227b409$export$21b6c8a35893e29c, r = []){\n        this.terminal = e;\n        this.renderer = t;\n        this.dialogs = r;\n    }\n    add(e) {\n        this.dialogs.push(this.renderer.getState(this.terminal, e));\n    }\n    handleInput() {\n        if (this.dialogs.length === 0) return !1;\n        let e = this.dialogs.length - 1, t = this.dialogs[this.dialogs.length - 1];\n        return t.dialog.handleInput(this.terminal, t.contentsOffset) && this.dialogs.splice(e, 1), !0;\n    }\n    draw() {\n        for(let e = 0; e < this.dialogs.length; e++)this.renderer.draw(this.terminal, this.dialogs[e]);\n    }\n};\nvar $87432b44d227b409$export$3ddf2d174ce01153 = class {\n    constructor(e, t){\n        this.contentsRect = e;\n        this.title = t;\n    }\n};\nvar $87432b44d227b409$var$ye = 66.66666666666667, $87432b44d227b409$export$f5b8910cec6cf069 = class {\n    constructor(){\n        this.down = !1;\n        this.downTime = 0;\n        this.repeat = !1;\n        this.repeatTime = 0;\n        this.downCount = 0;\n        this.upCount = 100;\n    }\n    setDown(e) {\n        this.down !== e && (this.down = e, this.repeat = !1, this.downTime = this.repeatTime = performance.now());\n    }\n    update(e) {\n        this.repeat = !1, this.down ? (this.downCount++, this.upCount = 0, e - this.downTime >= 200 && e - this.repeatTime >= $87432b44d227b409$var$ye && (this.repeat = !0, this.repeatTime = e)) : (this.downCount = 0, this.upCount++);\n    }\n    isPressed() {\n        return this.downCount === 1 || this.repeat;\n    }\n    isClicked() {\n        return this.upCount === 1;\n    }\n}, $87432b44d227b409$export$7c78ffdf4777b950 = class {\n    constructor(){\n        this.inputs = new Map;\n    }\n    clear() {\n        this.inputs.clear();\n    }\n    get(e) {\n        let t = this.inputs.get(e);\n        return t || (t = new $87432b44d227b409$export$f5b8910cec6cf069, this.inputs.set(e, t)), t;\n    }\n    updateAll(e) {\n        this.inputs.forEach((t)=>t.update(e));\n    }\n};\nvar $87432b44d227b409$export$16e4d70cc375e707 = class {\n    constructor(e){\n        this.keys = new $87432b44d227b409$export$7c78ffdf4777b950;\n        e.addEventListener(\"keydown\", (t)=>this.setKey(t, !0)), e.addEventListener(\"keyup\", (t)=>this.setKey(t, !1));\n    }\n    clear() {\n        this.keys.clear();\n    }\n    getKey(e) {\n        return this.keys.get(e);\n    }\n    setKey(e, t) {\n        let r = e.code;\n        r !== $87432b44d227b409$export$4b0075e5ea5e1f26.VK_F11 && (e.stopPropagation(), e.preventDefault(), this.keys.get(r).setDown(t));\n    }\n    updateKeys(e) {\n        this.keys.updateAll(e);\n    }\n}, $87432b44d227b409$export$4b0075e5ea5e1f26 = {\n    VK_BACKSPACE: \"Backspace\",\n    VK_TAB: \"Tab\",\n    VK_ENTER: \"Enter\",\n    VK_SHIFT_LEFT: \"ShiftLeft\",\n    VK_SHIFT_RIGHT: \"ShiftRight\",\n    VK_CONTROL_LEFT: \"ControlLeft\",\n    VK_CONTROL_RIGHT: \"ControlRight\",\n    VK_ALT_LEFT: \"AltLeft\",\n    VK_ALT_RIGHT: \"AltRight\",\n    VK_PAUSE: \"Pause\",\n    VK_CAPS_LOCK: \"CapsLock\",\n    VK_ESCAPE: \"Escape\",\n    VK_SPACE: \"Space\",\n    VK_PAGE_UP: \"PageUp\",\n    VK_PAGE_DOWN: \"PageDown\",\n    VK_END: \"End\",\n    VK_HOME: \"Home\",\n    VK_LEFT: \"ArrowLeft\",\n    VK_UP: \"ArrowUp\",\n    VK_RIGHT: \"ArrowRight\",\n    VK_DOWN: \"ArrowDown\",\n    VK_INSERT: \"Insert\",\n    VK_DELETE: \"Delete\",\n    VK_0: \"Digit0\",\n    VK_1: \"Digit1\",\n    VK_2: \"Digit2\",\n    VK_3: \"Digit3\",\n    VK_4: \"Digit4\",\n    VK_5: \"Digit5\",\n    VK_6: \"Digit6\",\n    VK_7: \"Digit7\",\n    VK_8: \"Digit8\",\n    VK_9: \"Digit9\",\n    VK_SEMICOLON: \"Semicolon\",\n    VK_EQUALS: \"Equal\",\n    VK_A: \"KeyA\",\n    VK_B: \"KeyB\",\n    VK_C: \"KeyC\",\n    VK_D: \"KeyD\",\n    VK_E: \"KeyE\",\n    VK_F: \"KeyF\",\n    VK_G: \"KeyG\",\n    VK_H: \"KeyH\",\n    VK_I: \"KeyI\",\n    VK_J: \"KeyJ\",\n    VK_K: \"KeyK\",\n    VK_L: \"KeyL\",\n    VK_M: \"KeyM\",\n    VK_N: \"KeyN\",\n    VK_O: \"KeyO\",\n    VK_P: \"KeyP\",\n    VK_Q: \"KeyQ\",\n    VK_R: \"KeyR\",\n    VK_S: \"KeyS\",\n    VK_T: \"KeyT\",\n    VK_U: \"KeyU\",\n    VK_V: \"KeyV\",\n    VK_W: \"KeyW\",\n    VK_X: \"KeyX\",\n    VK_Y: \"KeyY\",\n    VK_Z: \"KeyZ\",\n    VK_CONTEXT_MENU: \"ContextMenu\",\n    VK_NUMPAD0: \"Numpad0\",\n    VK_NUMPAD1: \"Numpad1\",\n    VK_NUMPAD2: \"Numpad2\",\n    VK_NUMPAD3: \"Numpad3\",\n    VK_NUMPAD4: \"Numpad4\",\n    VK_NUMPAD5: \"Numpad5\",\n    VK_NUMPAD6: \"Numpad6\",\n    VK_NUMPAD7: \"Numpad7\",\n    VK_NUMPAD8: \"Numpad8\",\n    VK_NUMPAD9: \"Numpad9\",\n    VK_NUMPAD_ENTER: \"NumpadEnter\",\n    VK_MULTIPLY: \"NumpadMultiply\",\n    VK_ADD: \"NumpadAdd\",\n    VK_SEPARATOR: \"NumpadSeparator\",\n    VK_SUBTRACT: \"NumpadSubtract\",\n    VK_DECIMAL: \"NumpadDecimal\",\n    VK_DIVIDE: \"NumpadDivide\",\n    VK_F1: \"F1\",\n    VK_F2: \"F2\",\n    VK_F3: \"F3\",\n    VK_F4: \"F4\",\n    VK_F5: \"F5\",\n    VK_F6: \"F6\",\n    VK_F7: \"F7\",\n    VK_F8: \"F8\",\n    VK_F9: \"F9\",\n    VK_F10: \"F10\",\n    VK_F11: \"F11\",\n    VK_F12: \"F12\",\n    VK_F13: \"F13\",\n    VK_F14: \"F14\",\n    VK_F15: \"F15\",\n    VK_F16: \"F16\",\n    VK_F17: \"F17\",\n    VK_F18: \"F18\",\n    VK_F19: \"F19\",\n    VK_F20: \"F20\",\n    VK_F21: \"F21\",\n    VK_F22: \"F22\",\n    VK_F23: \"F23\",\n    VK_F24: \"F24\",\n    VK_NUM_LOCK: \"NumLock\",\n    VK_SCROLL_LOCK: \"ScrollLock\",\n    VK_COMMA: \"Comma\",\n    VK_PERIOD: \"Period\",\n    VK_SLASH: \"Slash\",\n    VK_BACKQUOTE: \"Backquote\",\n    VK_OPEN_BRACKET: \"BracketLeft\",\n    VK_BACK_SLASH: \"Backslash\",\n    VK_CLOSE_BRACKET: \"BracketRight\",\n    VK_QUOTE: \"Quote\",\n    VK_META: \"OSLeft\"\n};\nvar $87432b44d227b409$export$5e8a3ee5eb0ce78c = class extends $87432b44d227b409$export$3ddf2d174ce01153 {\n    constructor(t, r){\n        let i;\n        r instanceof $87432b44d227b409$export$f69c19e57285b83a ? i = new $87432b44d227b409$export$c79fc6492f3af13d(0, 0, r.getWidth(), r.getHeight()) : i = new $87432b44d227b409$export$c79fc6492f3af13d(0, 0, r.length, 1);\n        super(i, t);\n        this.message = r;\n    }\n    drawContents(t, r) {\n        this.message instanceof $87432b44d227b409$export$f69c19e57285b83a ? t.drawMessage(r.x, r.y, this.message, this.message.getWidth()) : t.drawString(r.x, r.y, this.message);\n    }\n    handleInput(t) {\n        return t.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_ESCAPE);\n    }\n};\nvar $87432b44d227b409$export$2a18f85dbf5452b6 = class extends $87432b44d227b409$export$3ddf2d174ce01153 {\n    constructor(t, r, i){\n        super(t, r);\n        this.message = i;\n        this.scrollY = 0;\n        this.messagesHeight = i.getHeight(), this.scrollMax = Math.max(1, this.messagesHeight - this.contentsRect.height), this.scrollbarHeight = this.contentsRect.height * this.contentsRect.height / (this.messagesHeight + 1);\n    }\n    drawContents(t, r) {\n        t.clip = this.contentsRect, t.drawMessage(r.x, r.y - this.scrollY, this.message, this.message.getWidth()), t.clip = void 0;\n        let i = this.scrollY / this.scrollMax * (this.contentsRect.height - this.scrollbarHeight);\n        t.drawVLine(this.contentsRect.x + this.contentsRect.width + 1, this.contentsRect.y + i, this.scrollbarHeight, $87432b44d227b409$export$97d194f5fd3fc7c4.MEDIUM_SHADE);\n    }\n    handleInput(t) {\n        let r = t.getMovementKey();\n        return r && (this.scrollY += r.y), t.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_PAGE_DOWN) && (this.scrollY += this.contentsRect.height), t.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_PAGE_UP) && (this.scrollY -= this.contentsRect.height), t.mouse.wheelDeltaY !== 0 && (this.scrollY += t.mouse.wheelDeltaY < 0 ? -5 : 5, t.mouse.wheelDeltaY = 0), this.scrollY = Math.max(0, Math.min(this.scrollMax, this.scrollY)), t.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_ESCAPE);\n    }\n};\nvar $87432b44d227b409$export$ac383859b8641449 = class extends $87432b44d227b409$export$3ddf2d174ce01153 {\n    constructor(e, t, r){\n        let i = e.length;\n        for(let s = 0; s < t.length; s++)i = Math.max(i, t[s].length + 4);\n        let o = t.length, n = new $87432b44d227b409$export$c79fc6492f3af13d(0, 0, i, o);\n        super(n, e), this.options = t, this.callback = r, this.hoverIndex = -1;\n    }\n    drawContents(e, t) {\n        for(let r = 0; r < this.options.length; r++){\n            let i = String.fromCharCode(65 + r) + \" - \" + this.options[r];\n            r === this.hoverIndex ? e.drawString(t.x, t.y + r, i, $87432b44d227b409$export$c537fa0d021d010b.BLACK, $87432b44d227b409$export$c537fa0d021d010b.WHITE) : e.drawString(t.x, t.y + r, i, $87432b44d227b409$export$c537fa0d021d010b.WHITE, $87432b44d227b409$export$c537fa0d021d010b.BLACK);\n        }\n    }\n    handleInput(e, t) {\n        let r = e.getMovementKey();\n        if (r && r.y !== 0 && (this.hoverIndex = (this.hoverIndex + this.options.length + r.y) % this.options.length), this.hoverIndex >= 0 && (e.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_ENTER) || e.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD_ENTER))) return this.callback(this.hoverIndex), !0;\n        if (e.mouse.x >= t.x && e.mouse.x < t.x + this.contentsRect.width && e.mouse.y >= t.y && e.mouse.y < t.y + this.contentsRect.height && (this.hoverIndex = e.mouse.y - t.y, e.mouse.buttons.get(0).isClicked())) return e.mouse.buttons.clear(), this.callback(this.hoverIndex), !0;\n        let i = 65;\n        for(let o = 0; o < this.options.length; o++)if (e.isKeyPressed(\"Key\" + String.fromCharCode(i + o))) return this.callback(o), !0;\n        return e.isKeyPressed($87432b44d227b409$export$4b0075e5ea5e1f26.VK_ESCAPE);\n    }\n    isMouseOverOption(e, t, r) {\n        return e.mouse.x >= t.x && e.mouse.x < t.x + this.contentsRect.width && e.mouse.y === t.y + r;\n    }\n};\nvar $87432b44d227b409$var$ae = [\n    {\n        charCode: $87432b44d227b409$export$97d194f5fd3fc7c4.BLOCK_TOP_HALF,\n        active: [\n            1,\n            1,\n            0,\n            0\n        ]\n    },\n    {\n        charCode: $87432b44d227b409$export$97d194f5fd3fc7c4.BLOCK_RIGHT_HALF,\n        active: [\n            0,\n            1,\n            0,\n            1\n        ]\n    }\n];\nfunction $87432b44d227b409$export$fe58198efe02b173(a, e) {\n    let t = new Image;\n    t.onload = ()=>{\n        let r = t.width, i = t.height, o = $87432b44d227b409$var$he(t), n = new $87432b44d227b409$export$8d5400d15923e166(r, i), s = 0;\n        for(let l = 0; l < i; l++)for(let h = 0; h < r; h++)n.getCell(h, l).setBackground($87432b44d227b409$export$dd69e37c8d0f725a(o[s++], o[s++], o[s++], o[s++]));\n        e(n);\n    }, t.src = a;\n}\nfunction $87432b44d227b409$export$182647fdc4bb0768(a, e) {\n    let t = new Image;\n    t.onload = ()=>{\n        let r = t.width, i = t.height, o = $87432b44d227b409$var$he(t), n = new $87432b44d227b409$export$8d5400d15923e166(r / 2, i / 2);\n        for(let s = 0; s < i; s += 2)for(let l = 0; l < r; l += 2)$87432b44d227b409$var$ve(n, o, l, s, r);\n        e(n);\n    }, t.src = a;\n}\nfunction $87432b44d227b409$var$he(a) {\n    let e = document.createElement(\"canvas\");\n    e.width = a.width, e.height = a.height;\n    let t = e.getContext(\"2d\");\n    return t.drawImage(a, 0, 0), t.getImageData(0, 0, a.width, a.height).data;\n}\nfunction $87432b44d227b409$var$ve(a, e, t, r, i) {\n    let o = 4 * (r * i + t), n = e[o], s = e[o + 1], l = e[o + 2], h = 4 * (r * i + t + 1), u = e[h], d = e[h + 1], b = e[h + 2], p = 4 * ((r + 1) * i + t), E = e[p], C = e[p + 1], x = e[p + 2], A = 4 * ((r + 1) * i + t + 1), v = e[A], _ = e[A + 1], pe = e[A + 2], ge = [\n        [\n            n,\n            s,\n            l\n        ],\n        [\n            u,\n            d,\n            b\n        ],\n        [\n            E,\n            C,\n            x\n        ],\n        [\n            v,\n            _,\n            pe\n        ]\n    ], q = Number.MAX_VALUE, J = 0, $ = null, ee = null;\n    for(let W = 0; W < $87432b44d227b409$var$ae.length; W++){\n        let te = $87432b44d227b409$var$ae[W], S = $87432b44d227b409$var$De(te.active, ge);\n        S.error < q && (q = S.error, J = te.charCode, $ = S.bg, ee = S.fg);\n    }\n    a.drawChar(t / 2, r / 2, J, $87432b44d227b409$var$le(ee), $87432b44d227b409$var$le($));\n}\nfunction $87432b44d227b409$var$De(a, e) {\n    let t = [\n        [\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0\n        ]\n    ], r = [\n        [\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0\n        ]\n    ], i = [\n        0,\n        0\n    ];\n    for(let n = 0; n < 4; n++){\n        for(let s = 0; s < 3; s++)t[a[n]][s] += e[n][s];\n        i[a[n]]++;\n    }\n    for(let n = 0; n < 2; n++)for(let s = 0; s < 3; s++)r[n][s] = t[n][s] / i[n];\n    let o = 0;\n    for(let n = 0; n < 4; n++){\n        let s = 0;\n        for(let l = 0; l < 3; l++){\n            let h = e[n][l] - r[a[n]][l];\n            s += h * h;\n        }\n        o += Math.sqrt(s);\n    }\n    return {\n        bg: r[0],\n        fg: r[1],\n        error: o\n    };\n}\nfunction $87432b44d227b409$var$le(a) {\n    return $87432b44d227b409$export$dd69e37c8d0f725a(a[0], a[1], a[2]);\n}\nvar $87432b44d227b409$export$7caecd373b84cec3 = class {\n    constructor(e){\n        this.buttons = new $87432b44d227b409$export$7c78ffdf4777b950;\n        this.el = e.canvas, this.width = e.width, this.height = e.height, this.prevX = 0, this.prevY = 0, this.x = 0, this.y = 0, this.dx = 0, this.dy = 0, this.wheelDeltaX = 0, this.wheelDeltaY = 0;\n        let t = this.el;\n        t.addEventListener(\"mousedown\", (r)=>this.handleEvent(r)), t.addEventListener(\"mouseup\", (r)=>this.handleEvent(r)), t.addEventListener(\"mousemove\", (r)=>this.handleEvent(r)), t.addEventListener(\"contextmenu\", (r)=>this.handleEvent(r)), t.addEventListener(\"touchstart\", (r)=>this.handleTouchEvent(r)), t.addEventListener(\"touchend\", (r)=>this.handleTouchEvent(r)), t.addEventListener(\"touchcancel\", (r)=>this.handleTouchEvent(r)), t.addEventListener(\"touchmove\", (r)=>this.handleTouchEvent(r)), t.addEventListener(\"wheel\", (r)=>this.handleWheelEvent(r));\n    }\n    handleTouchEvent(e) {\n        if (e.stopPropagation(), e.preventDefault(), e.touches.length > 0) {\n            let t = e.touches[0];\n            this.updatePosition(t.clientX, t.clientY), this.buttons.get(0).setDown(!0);\n        } else this.buttons.get(0).setDown(!1);\n    }\n    handleEvent(e) {\n        e.stopPropagation(), e.preventDefault(), this.updatePosition(e.clientX, e.clientY), e.type === \"mousedown\" && (this.buttons.get(e.button).setDown(!0), this.el.focus()), e.type === \"mouseup\" && this.buttons.get(e.button).setDown(!1);\n    }\n    handleWheelEvent(e) {\n        e.stopPropagation(), e.preventDefault(), this.wheelDeltaX = e.deltaX, this.wheelDeltaY = e.deltaY;\n    }\n    updatePosition(e, t) {\n        let r = this.el.getBoundingClientRect(), i = this.width / this.height, o = r.width / r.height;\n        if (o - i > .01) {\n            let n = i * r.height, s = r.width - n;\n            r = new $87432b44d227b409$export$c79fc6492f3af13d(Math.floor(s / 2), 0, n, r.height);\n        }\n        if (o - i < -0.01) {\n            let n = r.width / i, s = r.height - n;\n            r = new $87432b44d227b409$export$c79fc6492f3af13d(0, Math.floor(s / 2), r.width, n);\n        }\n        this.x = this.width * (e - r.left) / r.width | 0, this.y = this.height * (t - r.top) / r.height | 0;\n    }\n    update(e) {\n        this.dx = this.x - this.prevX, this.dy = this.y - this.prevY, this.prevX = this.x, this.prevY = this.y, this.buttons.updateAll(e);\n    }\n};\nvar $87432b44d227b409$export$7988edfe5c31095a = {\n    BLACK: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 0),\n    WHITE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 255, 255),\n    RED: $87432b44d227b409$export$dd69e37c8d0f725a(136, 0, 0),\n    CYAN: $87432b44d227b409$export$dd69e37c8d0f725a(170, 255, 238),\n    VIOLET: $87432b44d227b409$export$dd69e37c8d0f725a(204, 68, 204),\n    GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 204, 85),\n    BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 170),\n    YELLOW: $87432b44d227b409$export$dd69e37c8d0f725a(238, 238, 119),\n    ORANGE: $87432b44d227b409$export$dd69e37c8d0f725a(221, 136, 85),\n    BROWN: $87432b44d227b409$export$dd69e37c8d0f725a(102, 68, 0),\n    LIGHT_RED: $87432b44d227b409$export$dd69e37c8d0f725a(255, 119, 119),\n    DARK_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(51, 51, 51),\n    GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(119, 119, 119),\n    LIGHT_GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(170, 255, 102),\n    LIGHT_BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(0, 136, 255),\n    LIGHT_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(187, 187, 187)\n};\nvar $87432b44d227b409$export$7d0e3b6889a66c0a = {\n    BLACK: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 0),\n    WHITE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 255, 255),\n    RED: $87432b44d227b409$export$dd69e37c8d0f725a(136, 0, 0),\n    CYAN: $87432b44d227b409$export$dd69e37c8d0f725a(170, 255, 238),\n    VIOLET: $87432b44d227b409$export$dd69e37c8d0f725a(204, 68, 204),\n    GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 204, 85),\n    BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 170),\n    YELLOW: $87432b44d227b409$export$dd69e37c8d0f725a(238, 238, 119),\n    ORANGE: $87432b44d227b409$export$dd69e37c8d0f725a(221, 136, 85),\n    BROWN: $87432b44d227b409$export$dd69e37c8d0f725a(102, 68, 0),\n    LIGHT_RED: $87432b44d227b409$export$dd69e37c8d0f725a(255, 119, 119),\n    DARK_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(51, 51, 51),\n    GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(119, 119, 119),\n    LIGHT_GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(170, 255, 102),\n    LIGHT_BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(0, 136, 255),\n    LIGHT_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(187, 187, 187)\n};\nvar $87432b44d227b409$export$f4d96ee0b51f29ee = {\n    BLACK: $87432b44d227b409$export$dd69e37c8d0f725a(0, 0, 0),\n    DARK_BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(29, 43, 83),\n    DARK_PURPLE: $87432b44d227b409$export$dd69e37c8d0f725a(126, 37, 83),\n    DARK_GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 135, 81),\n    BROWN: $87432b44d227b409$export$dd69e37c8d0f725a(171, 82, 54),\n    DARK_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(95, 87, 79),\n    LIGHT_GRAY: $87432b44d227b409$export$dd69e37c8d0f725a(194, 195, 199),\n    WHITE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 241, 232),\n    RED: $87432b44d227b409$export$dd69e37c8d0f725a(255, 0, 77),\n    ORANGE: $87432b44d227b409$export$dd69e37c8d0f725a(255, 163, 0),\n    YELLOW: $87432b44d227b409$export$dd69e37c8d0f725a(255, 236, 39),\n    GREEN: $87432b44d227b409$export$dd69e37c8d0f725a(0, 228, 54),\n    BLUE: $87432b44d227b409$export$dd69e37c8d0f725a(41, 173, 255),\n    LAVENDER: $87432b44d227b409$export$dd69e37c8d0f725a(131, 118, 156),\n    PINK: $87432b44d227b409$export$dd69e37c8d0f725a(255, 119, 168),\n    LIGHT_PEACH: $87432b44d227b409$export$dd69e37c8d0f725a(255, 204, 170)\n};\nvar $87432b44d227b409$var$ue = [\n    -1,\n    0,\n    1,\n    -1,\n    1,\n    -1,\n    0,\n    1\n], $87432b44d227b409$var$Oe = [\n    -1,\n    -1,\n    -1,\n    0,\n    0,\n    1,\n    1,\n    1\n], $87432b44d227b409$var$we = [\n    1.4,\n    1,\n    1.4,\n    1,\n    1,\n    1.4,\n    1,\n    1.4\n], $87432b44d227b409$var$H = 0;\nfunction $87432b44d227b409$export$f78e9e5ad3e10ea0(a, e, t, r) {\n    $87432b44d227b409$var$H++;\n    let i = a.grid[e.y][e.x];\n    i.pathId = $87432b44d227b409$var$H, i.g = 0, i.h = Math.hypot(e.x - t.x, e.y - t.y), i.prev = null;\n    let o = new $87432b44d227b409$var$Z([\n        i\n    ]);\n    for(; o.size() > 0;){\n        let n = o.pop();\n        if (n.x === t.x && n.y === t.y) return $87432b44d227b409$var$Ke(n);\n        for(let s = 0; s < $87432b44d227b409$var$ue.length; s++){\n            let l = n.x + $87432b44d227b409$var$ue[s], h = n.y + $87432b44d227b409$var$Oe[s];\n            if (l >= 0 && l < a.width && h >= 0 && h < a.height) {\n                let u = a.grid[h][l];\n                if (u.blocked && u.explored && (l !== t.x || h !== t.y)) continue;\n                u.pathId !== $87432b44d227b409$var$H && (u.pathId = $87432b44d227b409$var$H, u.g = 1 / 0, u.h = Math.hypot(l - t.x, h - t.y), u.prev = null);\n                let d = n.g + $87432b44d227b409$var$we[s];\n                d < u.g && d <= r && (u.g = d, u.prev = n, o.insert(u));\n            }\n        }\n    }\n}\nfunction $87432b44d227b409$var$Ke(a) {\n    let e = [], t = a;\n    for(; t;)e.push(t), t = t.prev;\n    return e.reverse(), e;\n}\nvar $87432b44d227b409$var$Z = class {\n    constructor(e){\n        this.values = e;\n    }\n    insert(e) {\n        let t = this.values, r = 0, i = t.length, o = 0;\n        for(; r < i;){\n            let n = r + i >>> 1, s = t[n];\n            s.g + s.h > e.g + e.h ? (r = n + 1, o = r) : (i = n, o = i);\n        }\n        t.splice(o, 0, e);\n    }\n    pop() {\n        return this.values.pop();\n    }\n    size() {\n        return this.values.length;\n    }\n};\nvar $87432b44d227b409$export$7492a095b4ff4e68 = class {\n    constructor(e = 1){\n        this.m = 2147483648, this.a = 1103515245, this.c = 12345, this.state = e;\n    }\n    nextInt() {\n        return this.state = (this.a * this.state + this.c) % this.m, this.state;\n    }\n    nextFloat() {\n        return this.nextInt() / (this.m - 1);\n    }\n    nextRange(e, t) {\n        let r = t - e, i = this.nextInt() / this.m, o = e + (i * r | 0);\n        if (isNaN(o)) throw new Error(\"rand nan\");\n        return o;\n    }\n    chooseIndex(e) {\n        let t = e.reduce((o, n)=>o + n), r = this.nextRange(1, t + 1), i = 0;\n        for(let o = 0; o < e.length; o++)if (i += e[o], r <= i) return o;\n        return e.length - 1;\n    }\n    chooseKey(e) {\n        let t = Object.keys(e), r = t.map((i)=>e[i]);\n        return t[this.chooseIndex(r)];\n    }\n};\n$87432b44d227b409$export$7492a095b4ff4e68 = $87432b44d227b409$var$R([\n    $87432b44d227b409$export$c1faf8344a396331\n], $87432b44d227b409$export$7492a095b4ff4e68);\nvar $87432b44d227b409$var$ce = `#version 300 es\nprecision highp float;in vec2 a;in vec2 b;in vec3 c;in vec3 d;out vec2 e;out vec4 f;out vec4 g;void main(void){gl_Position=vec4(a.x,a.y,0,1);e=b/16.0;f=vec4(c.r,c.g,c.b,1);g=vec4(d.r,d.g,d.b,1);}`, $87432b44d227b409$var$de = `#version 300 es\nprecision highp float;in vec2 e;in vec4 f;in vec4 g;uniform sampler2D s;out vec4 o;void main(void){o=texture(s,e);if(o.r<0.1) {o=g;} else {o=f;}}`, $87432b44d227b409$var$me = `#version 300 es\nprecision highp float;\nin vec2 a_position;\nin vec2 a_texCoord;\nout vec2 v_texCoord;\nvoid main(void) {\n  gl_Position=vec4(a_position.x, a_position.y, 0.0, 1.0);\n  v_texCoord = a_texCoord;\n}`, $87432b44d227b409$var$fe = `#version 300 es\n#define PI 3.1415926535897932384626433832795\nprecision highp float;\nin vec2 v_texCoord;\nuniform sampler2D u_texture;\nuniform float u_blur;\nuniform float u_curvature;\nuniform float u_chroma;\nuniform float u_scanlineWidth;\nuniform float u_scanlineIntensity;\nuniform float u_vignette;\nout vec4 outputColor;\n\nvec2 curve(vec2 uv) {\n  uv = (uv - 0.5) * 2.0;\n  uv *= 1.1;\n  uv.x *= 1.0 + pow((abs(uv.y) * u_curvature), 2.0);\n  uv.y *= 1.0 + pow((abs(uv.x) * u_curvature), 2.0);\n  uv /= 1.1;\n  uv = (uv / 2.0) + 0.5;\n  return uv;\n}\n\nvoid main() {\n  vec2 iResolution = vec2(640.0, 360.0);\n  vec2 q = v_texCoord;\n  vec2 fragCoord = v_texCoord;\n  vec2 uv = q;\n  uv = curve(uv);\n\n  // Outside of range is black\n  if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {\n    outputColor = vec4(0.0, 0.0, 0.0, 1.0);\n    return;\n  }\n\n  vec4 col;\n\n  // Chromatic aberration\n  // col = texture(u_texture, uv.xy);\n  col.r = 0.7 * texture(u_texture, vec2(uv.x + 0.001 * u_chroma, uv.y + 0.001 * u_chroma)).r;\n  col.g = 0.7 * texture(u_texture, vec2(uv.x + 0.000 * u_chroma, uv.y - 0.002 * u_chroma)).g;\n  col.b = 0.7 * texture(u_texture, vec2(uv.x - 0.002 * u_chroma, uv.y + 0.000 * u_chroma)).b;\n  \n  // Blur\n  col += 0.05 * texture(u_texture, vec2(uv.x - 2.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x - 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x + 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.05 * texture(u_texture, vec2(uv.x + 2.0 * u_blur / iResolution.x, uv.y));\n\n  // Vignette\n  col *= pow(16.0 * uv.x * uv.y * (1.0 - uv.x) * (1.0 - uv.y), u_vignette);\n\n  // Scanlines\n  col *= clamp(1.0 + u_scanlineWidth * sin(uv.y * iResolution.y * 2.0 * PI), 1.0 - u_scanlineIntensity, 1.0);\n\n  outputColor = vec4(col.rgb, 1.0);\n}`;\nfunction $87432b44d227b409$var$K(a, e) {\n    return -1 + 2 * (a / e);\n}\nvar $87432b44d227b409$var$_e = {\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_K]: new $87432b44d227b409$export$baf26146a414f24a(0, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_UP]: new $87432b44d227b409$export$baf26146a414f24a(0, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD8]: new $87432b44d227b409$export$baf26146a414f24a(0, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_J]: new $87432b44d227b409$export$baf26146a414f24a(0, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_DOWN]: new $87432b44d227b409$export$baf26146a414f24a(0, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD2]: new $87432b44d227b409$export$baf26146a414f24a(0, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_H]: new $87432b44d227b409$export$baf26146a414f24a(-1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_LEFT]: new $87432b44d227b409$export$baf26146a414f24a(-1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD4]: new $87432b44d227b409$export$baf26146a414f24a(-1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_L]: new $87432b44d227b409$export$baf26146a414f24a(1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_RIGHT]: new $87432b44d227b409$export$baf26146a414f24a(1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD6]: new $87432b44d227b409$export$baf26146a414f24a(1, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_Y]: new $87432b44d227b409$export$baf26146a414f24a(-1, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD7]: new $87432b44d227b409$export$baf26146a414f24a(-1, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_U]: new $87432b44d227b409$export$baf26146a414f24a(1, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD9]: new $87432b44d227b409$export$baf26146a414f24a(1, -1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_B]: new $87432b44d227b409$export$baf26146a414f24a(-1, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD1]: new $87432b44d227b409$export$baf26146a414f24a(-1, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_N]: new $87432b44d227b409$export$baf26146a414f24a(1, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD3]: new $87432b44d227b409$export$baf26146a414f24a(1, 1),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_PERIOD]: new $87432b44d227b409$export$baf26146a414f24a(0, 0),\n    [$87432b44d227b409$export$4b0075e5ea5e1f26.VK_NUMPAD5]: new $87432b44d227b409$export$baf26146a414f24a(0, 0)\n}, $87432b44d227b409$var$Be = {\n    font: $87432b44d227b409$export$7d7a232b6d2cc80c,\n    movementKeys: $87432b44d227b409$var$_e\n}, $87432b44d227b409$export$8dd80f06eb58bfe1 = class extends $87432b44d227b409$export$8d5400d15923e166 {\n    constructor(e, t, r, i = $87432b44d227b409$var$Be){\n        super(t, r), this.canvas = e, this.font = i.font ?? $87432b44d227b409$export$7d7a232b6d2cc80c, this.crt = i.crt, this.maxFps = i.maxFps, this.pixelWidth = t * this.font.charWidth, this.pixelHeight = r * this.font.charHeight, this.pixelScale = i.crt?.scale ?? 1, e.width = this.pixelWidth * this.pixelScale, e.height = this.pixelHeight * this.pixelScale, e.style.imageRendering = \"pixelated\", e.style.outline = \"none\", e.tabIndex = 0, this.handleResize(), window.addEventListener(\"resize\", ()=>this.handleResize()), this.keys = new $87432b44d227b409$export$16e4d70cc375e707(e), this.mouse = new $87432b44d227b409$export$7caecd373b84cec3(this);\n        let o = e.getContext(\"webgl2\", {\n            antialias: !1\n        });\n        if (!o) throw new Error(\"Unable to initialize WebGL. Your browser may not support it.\");\n        let n = o.createProgram();\n        if (!n) throw new Error(\"Unable to initialize WebGL. Your browser may not support it.\");\n        this.gl = o, this.program = n, o.attachShader(n, this.buildShader(o.VERTEX_SHADER, $87432b44d227b409$var$ce)), o.attachShader(n, this.buildShader(o.FRAGMENT_SHADER, $87432b44d227b409$var$de)), o.linkProgram(n), o.useProgram(n), this.crtProgram = o.createProgram(), o.attachShader(this.crtProgram, this.buildShader(o.VERTEX_SHADER, $87432b44d227b409$var$me)), o.attachShader(this.crtProgram, this.buildShader(o.FRAGMENT_SHADER, $87432b44d227b409$var$fe)), o.linkProgram(this.crtProgram), o.useProgram(this.crtProgram), this.crtBlurLocation = o.getUniformLocation(this.crtProgram, \"u_blur\"), this.crtCurvatureLocation = o.getUniformLocation(this.crtProgram, \"u_curvature\"), this.crtChromaLocation = o.getUniformLocation(this.crtProgram, \"u_chroma\"), this.crtScanlineWidthLocation = o.getUniformLocation(this.crtProgram, \"u_scanlineWidth\"), this.crtScanlineIntensityLocation = o.getUniformLocation(this.crtProgram, \"u_scanlineIntensity\"), this.crtVignetteLocation = o.getUniformLocation(this.crtProgram, \"u_vignette\"), this.crtPositionLocation = o.getAttribLocation(this.crtProgram, \"a_position\"), this.crtPositionBuffer = o.createBuffer(), o.bindBuffer(o.ARRAY_BUFFER, this.crtPositionBuffer), o.bufferData(o.ARRAY_BUFFER, new Float32Array([\n            -1,\n            -1,\n            1,\n            -1,\n            -1,\n            1,\n            -1,\n            1,\n            1,\n            -1,\n            1,\n            1\n        ]), o.STATIC_DRAW), o.enableVertexAttribArray(this.crtPositionLocation), o.vertexAttribPointer(this.crtPositionLocation, 2, o.FLOAT, !1, 0, 0), this.crtTexCoordLocation = o.getAttribLocation(this.crtProgram, \"a_texCoord\"), this.crtTexCoordBuffer = o.createBuffer(), o.bindBuffer(o.ARRAY_BUFFER, this.crtTexCoordBuffer), o.bufferData(o.ARRAY_BUFFER, new Float32Array([\n            0,\n            0,\n            1,\n            0,\n            0,\n            1,\n            0,\n            1,\n            1,\n            0,\n            1,\n            1\n        ]), o.STATIC_DRAW), o.enableVertexAttribArray(this.crtTexCoordLocation), o.vertexAttribPointer(this.crtTexCoordLocation, 2, o.FLOAT, !1, 0, 0), this.positionAttribLocation = this.getAttribLocation(\"a\"), this.textureAttribLocation = this.getAttribLocation(\"b\"), this.fgColorAttribLocation = this.getAttribLocation(\"c\"), this.bgColorAttribLocation = this.getAttribLocation(\"d\");\n        let s = t * r;\n        this.positionsArray = new Float32Array(s * 12), this.indexArray = new Uint16Array(s * 6), this.textureArray = new Float32Array(s * 8), this.foregroundUint8Array = new Uint8Array(s * 16), this.foregroundDataView = new DataView(this.foregroundUint8Array.buffer), this.backgroundUint8Array = new Uint8Array(s * 16), this.backgroundDataView = new DataView(this.backgroundUint8Array.buffer), this.frameBufferTexture = o.createTexture(), o.bindTexture(o.TEXTURE_2D, this.frameBufferTexture), o.texImage2D(o.TEXTURE_2D, 0, o.RGBA, this.pixelWidth, this.pixelHeight, 0, o.RGBA, o.UNSIGNED_BYTE, null), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MIN_FILTER, o.NEAREST), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MAG_FILTER, o.NEAREST), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_S, o.CLAMP_TO_EDGE), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_T, o.CLAMP_TO_EDGE), this.frameBuffer = o.createFramebuffer(), o.bindFramebuffer(o.FRAMEBUFFER, this.frameBuffer), o.framebufferTexture2D(o.FRAMEBUFFER, o.COLOR_ATTACHMENT0, o.TEXTURE_2D, this.frameBufferTexture, 0);\n        let l = 0, h = 0, u = 0;\n        for(let d = 0; d < r; d++)for(let b = 0; b < t; b++)this.positionsArray[l++] = $87432b44d227b409$var$K(b, t), this.positionsArray[l++] = -$87432b44d227b409$var$K(d, r), this.positionsArray[l++] = $87432b44d227b409$var$K(b + 1, t), this.positionsArray[l++] = -$87432b44d227b409$var$K(d, r), this.positionsArray[l++] = $87432b44d227b409$var$K(b + 1, t), this.positionsArray[l++] = -$87432b44d227b409$var$K(d + 1, r), this.positionsArray[l++] = $87432b44d227b409$var$K(b, t), this.positionsArray[l++] = -$87432b44d227b409$var$K(d + 1, r), this.indexArray[h++] = u + 0, this.indexArray[h++] = u + 1, this.indexArray[h++] = u + 2, this.indexArray[h++] = u + 0, this.indexArray[h++] = u + 2, this.indexArray[h++] = u + 3, u += 4;\n        this.positionBuffer = o.createBuffer(), this.indexBuffer = o.createBuffer(), this.textureBuffer = o.createBuffer(), this.foregroundBuffer = o.createBuffer(), this.backgroundBuffer = o.createBuffer(), o.bindBuffer(o.ARRAY_BUFFER, this.positionBuffer), o.bufferData(o.ARRAY_BUFFER, this.positionsArray, o.STATIC_DRAW), o.bindBuffer(o.ELEMENT_ARRAY_BUFFER, this.indexBuffer), o.bufferData(o.ELEMENT_ARRAY_BUFFER, this.indexArray, o.STATIC_DRAW), this.texture = this.loadTexture(this.font.url), this.lastRenderTime = 0, this.renderDelta = 0, this.fps = 0, this.averageFps = 0, this.maxFps === void 0 ? this.requestAnimationFrame() : window.setInterval(()=>this.renderLoop(performance.now()), 1e3 / this.maxFps);\n    }\n    handleResize() {\n        let e = this.canvas.parentElement;\n        if (!e) return;\n        let t = e.offsetWidth / this.pixelWidth, r = e.offsetHeight / this.pixelHeight, i = Math.min(t, r), o = i * this.pixelWidth | 0, n = i * this.pixelHeight | 0;\n        this.canvas.style.width = o + \"px\", this.canvas.style.height = n + \"px\";\n    }\n    getAttribLocation(e) {\n        let t = this.gl.getAttribLocation(this.program, e);\n        return this.gl.enableVertexAttribArray(t), t;\n    }\n    flush() {\n        let e = 0, t = 0;\n        for(let r = 0; r < this.height; r++)for(let i = 0; i < this.width; i++){\n            let o = this.getCell(i, r);\n            if (!o.dirty) {\n                e += 8, t += 16;\n                continue;\n            }\n            let n = o.charCode % 16, s = o.charCode / 16 | 0;\n            this.textureArray[e++] = n, this.textureArray[e++] = s, this.textureArray[e++] = n + 1, this.textureArray[e++] = s, this.textureArray[e++] = n + 1, this.textureArray[e++] = s + 1, this.textureArray[e++] = n, this.textureArray[e++] = s + 1;\n            for(let l = 0; l < 4; l++)this.foregroundDataView.setUint32(t, o.fg, !1), this.backgroundDataView.setUint32(t, o.bg, !1), t += 4;\n            o.dirty = !1;\n        }\n    }\n    isKeyDown(e) {\n        return this.keys.getKey(e).down;\n    }\n    isKeyPressed(e) {\n        return this.keys.getKey(e).isPressed();\n    }\n    getKeyDownCount(e) {\n        return this.keys.getKey(e).downCount;\n    }\n    getMovementKey(e = $87432b44d227b409$var$_e) {\n        for (let [t, r] of Object.entries(e))if (this.isKeyPressed(t)) return r;\n    }\n    buildShader(e, t) {\n        let r = this.gl, i = r.createShader(e);\n        if (!i) throw new Error(\"An error occurred compiling the shader: \");\n        if (r.shaderSource(i, t), r.compileShader(i), !r.getShaderParameter(i, r.COMPILE_STATUS)) throw new Error(\"An error occurred compiling the shader: \" + r.getShaderInfoLog(i));\n        return i;\n    }\n    loadTexture(e) {\n        let t = this.gl, r = t.createTexture();\n        t.bindTexture(t.TEXTURE_2D, r);\n        let i = 0, o = t.RGBA, n = 1, s = 1, l = 0, h = t.RGBA, u = t.UNSIGNED_BYTE, d = new Uint8Array([\n            0,\n            0,\n            0,\n            255\n        ]);\n        t.texImage2D(t.TEXTURE_2D, i, o, n, s, l, h, u, d);\n        let b = new Image;\n        return b.onload = ()=>{\n            t.bindTexture(t.TEXTURE_2D, r), t.texImage2D(t.TEXTURE_2D, i, o, h, u, b), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST);\n        }, b.src = e, r;\n    }\n    render() {\n        let e = this.gl;\n        e.clearColor(0, 0, 0, 1), e.clearDepth(1), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), this.crt ? e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer) : e.bindFramebuffer(e.FRAMEBUFFER, null), e.viewport(0, 0, this.pixelWidth, this.pixelHeight);\n        {\n            let r = e.FLOAT, i = !1, o = 0, n = 0;\n            e.bindBuffer(e.ARRAY_BUFFER, this.positionBuffer), e.vertexAttribPointer(this.positionAttribLocation, 2, r, i, o, n);\n        }\n        {\n            let r = e.FLOAT, i = !1, o = 0, n = 0;\n            e.bindBuffer(e.ARRAY_BUFFER, this.textureBuffer), e.bufferData(e.ARRAY_BUFFER, this.textureArray, e.DYNAMIC_DRAW), e.vertexAttribPointer(this.textureAttribLocation, 2, r, i, o, n);\n        }\n        {\n            let r = e.UNSIGNED_BYTE, i = !0, o = 0, n = 0;\n            e.bindBuffer(e.ARRAY_BUFFER, this.foregroundBuffer), e.bufferData(e.ARRAY_BUFFER, this.foregroundUint8Array, e.DYNAMIC_DRAW), e.vertexAttribPointer(this.fgColorAttribLocation, 4, r, i, o, n);\n        }\n        {\n            let r = e.UNSIGNED_BYTE, i = !0, o = 0, n = 0;\n            e.bindBuffer(e.ARRAY_BUFFER, this.backgroundBuffer), e.bufferData(e.ARRAY_BUFFER, this.backgroundUint8Array, e.DYNAMIC_DRAW), e.vertexAttribPointer(this.bgColorAttribLocation, 4, r, i, o, n);\n        }\n        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.indexBuffer), e.useProgram(this.program), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, this.texture);\n        {\n            let t = this.width * this.height * 6, r = e.UNSIGNED_SHORT;\n            e.drawElements(e.TRIANGLES, t, r, 0);\n        }\n    }\n    renderCrt() {\n        let e = this.crt;\n        if (!e) return;\n        let t = this.gl;\n        t.bindFramebuffer(t.FRAMEBUFFER, null), t.viewport(0, 0, this.pixelWidth * this.pixelScale, this.pixelHeight * this.pixelScale), t.useProgram(this.crtProgram), t.uniform1f(this.crtBlurLocation, e.blur), t.uniform1f(this.crtCurvatureLocation, e.curvature), t.uniform1f(this.crtChromaLocation, e.chroma), t.uniform1f(this.crtVignetteLocation, e.vignette), t.uniform1f(this.crtScanlineWidthLocation, e.scanlineWidth), t.uniform1f(this.crtScanlineIntensityLocation, e.scanlineIntensity), t.bindBuffer(t.ARRAY_BUFFER, this.crtPositionBuffer), t.vertexAttribPointer(this.crtPositionLocation, 2, t.FLOAT, !1, 0, 0), t.bindBuffer(t.ARRAY_BUFFER, this.crtTexCoordBuffer), t.vertexAttribPointer(this.crtTexCoordLocation, 2, t.FLOAT, !1, 0, 0), t.activeTexture(t.TEXTURE0), t.bindTexture(t.TEXTURE_2D, this.frameBufferTexture), t.drawArrays(t.TRIANGLES, 0, 6);\n    }\n    requestAnimationFrame() {\n        window.requestAnimationFrame((e)=>this.renderLoop(e));\n    }\n    renderLoop(e) {\n        this.lastRenderTime === 0 ? (this.lastRenderTime = e, this.fps = 0) : (this.renderDelta = e - this.lastRenderTime, this.lastRenderTime = e, this.fps = 1e3 / this.renderDelta, this.averageFps = .95 * this.averageFps + .05 * this.fps), this.keys.updateKeys(e), this.mouse.update(e), this.update && this.update(), this.flush(), this.render(), this.crt && this.renderCrt(), this.maxFps === void 0 && this.requestAnimationFrame();\n    }\n};\n\n\n\nvar $cR93q = parcelRequire(\"cR93q\");\nvar $17e375e7636c3192$exports = {};\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */ /* eslint-disable no-proto */ var $d4ecdbf520e63dca$export$a143d493d941bafc;\nvar $d4ecdbf520e63dca$export$e4cf37d7f6fb9e0a;\nvar $d4ecdbf520e63dca$export$f99ded8fe4b79145;\nvar $d4ecdbf520e63dca$export$599f31c3813fae4d;\n\"use strict\";\nvar $034686670a8a195b$export$a48f0734ac7c2329;\nvar $034686670a8a195b$export$d622b2ad8d90c771;\nvar $034686670a8a195b$export$6100ba28696e12de;\n\"use strict\";\n$034686670a8a195b$export$a48f0734ac7c2329 = $034686670a8a195b$var$byteLength;\n$034686670a8a195b$export$d622b2ad8d90c771 = $034686670a8a195b$var$toByteArray;\n$034686670a8a195b$export$6100ba28696e12de = $034686670a8a195b$var$fromByteArray;\nvar $034686670a8a195b$var$lookup = [];\nvar $034686670a8a195b$var$revLookup = [];\nvar $034686670a8a195b$var$Arr = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array;\nvar $034686670a8a195b$var$code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfor(var $034686670a8a195b$var$i = 0, $034686670a8a195b$var$len = $034686670a8a195b$var$code.length; $034686670a8a195b$var$i < $034686670a8a195b$var$len; ++$034686670a8a195b$var$i){\n    $034686670a8a195b$var$lookup[$034686670a8a195b$var$i] = $034686670a8a195b$var$code[$034686670a8a195b$var$i];\n    $034686670a8a195b$var$revLookup[$034686670a8a195b$var$code.charCodeAt($034686670a8a195b$var$i)] = $034686670a8a195b$var$i;\n}\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n$034686670a8a195b$var$revLookup[\"-\".charCodeAt(0)] = 62;\n$034686670a8a195b$var$revLookup[\"_\".charCodeAt(0)] = 63;\nfunction $034686670a8a195b$var$getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    // Trim off extra bytes after placeholder bytes are found\n    // See: https://github.com/beatgammit/base64-js/issues/42\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\n// base64 is 4/3 + up to two characters of the original data\nfunction $034686670a8a195b$var$byteLength(b64) {\n    var lens = $034686670a8a195b$var$getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction $034686670a8a195b$var$_byteLength(b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction $034686670a8a195b$var$toByteArray(b64) {\n    var tmp;\n    var lens = $034686670a8a195b$var$getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new $034686670a8a195b$var$Arr($034686670a8a195b$var$_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    // if there are placeholders, only get up to the last complete 4 chars\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for(i = 0; i < len; i += 4){\n        tmp = $034686670a8a195b$var$revLookup[b64.charCodeAt(i)] << 18 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 1)] << 12 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 2)] << 6 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 0xFF;\n        arr[curByte++] = tmp >> 8 & 0xFF;\n        arr[curByte++] = tmp & 0xFF;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = $034686670a8a195b$var$revLookup[b64.charCodeAt(i)] << 2 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 0xFF;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = $034686670a8a195b$var$revLookup[b64.charCodeAt(i)] << 10 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 1)] << 4 | $034686670a8a195b$var$revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 0xFF;\n        arr[curByte++] = tmp & 0xFF;\n    }\n    return arr;\n}\nfunction $034686670a8a195b$var$tripletToBase64(num) {\n    return $034686670a8a195b$var$lookup[num >> 18 & 0x3F] + $034686670a8a195b$var$lookup[num >> 12 & 0x3F] + $034686670a8a195b$var$lookup[num >> 6 & 0x3F] + $034686670a8a195b$var$lookup[num & 0x3F];\n}\nfunction $034686670a8a195b$var$encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for(var i = start; i < end; i += 3){\n        tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n        output.push($034686670a8a195b$var$tripletToBase64(tmp));\n    }\n    return output.join(\"\");\n}\nfunction $034686670a8a195b$var$fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n    ;\n    var parts = [];\n    var maxChunkLength = 16383 // must be multiple of 3\n    ;\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for(var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength)parts.push($034686670a8a195b$var$encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push($034686670a8a195b$var$lookup[tmp >> 2] + $034686670a8a195b$var$lookup[tmp << 4 & 0x3F] + \"==\");\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push($034686670a8a195b$var$lookup[tmp >> 10] + $034686670a8a195b$var$lookup[tmp >> 4 & 0x3F] + $034686670a8a195b$var$lookup[tmp << 2 & 0x3F] + \"=\");\n    }\n    return parts.join(\"\");\n}\n\n\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ var $454af19f7384844b$export$aafa59e2e03f2942;\nvar $454af19f7384844b$export$68d8715fc104d294;\n$454af19f7384844b$export$aafa59e2e03f2942 = function(buffer, offset, isLE, mLen, nBytes) {\n    var e, m;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var nBits = -7;\n    var i = isLE ? nBytes - 1 : 0;\n    var d = isLE ? -1 : 1;\n    var s = buffer[offset + i];\n    i += d;\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n    for(; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n    for(; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n    if (e === 0) e = 1 - eBias;\n    else if (e === eMax) return m ? NaN : (s ? -1 : 1) * Infinity;\n    else {\n        m = m + Math.pow(2, mLen);\n        e = e - eBias;\n    }\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n$454af19f7384844b$export$68d8715fc104d294 = function(buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n    value = Math.abs(value);\n    if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n    } else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n            e--;\n            c *= 2;\n        }\n        if (e + eBias >= 1) value += rt / c;\n        else value += rt * Math.pow(2, 1 - eBias);\n        if (value * c >= 2) {\n            e++;\n            c /= 2;\n        }\n        if (e + eBias >= eMax) {\n            m = 0;\n            e = eMax;\n        } else if (e + eBias >= 1) {\n            m = (value * c - 1) * Math.pow(2, mLen);\n            e = e + eBias;\n        } else {\n            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n            e = 0;\n        }\n    }\n    for(; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n    e = e << mLen | m;\n    eLen += mLen;\n    for(; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n    buffer[offset + i - d] |= s * 128;\n};\n\n\nconst $d4ecdbf520e63dca$var$customInspectSymbol = typeof Symbol === \"function\" && typeof Symbol[\"for\"] === \"function\" // eslint-disable-line dot-notation\n ? Symbol[\"for\"](\"nodejs.util.inspect.custom\") // eslint-disable-line dot-notation\n : null;\n$d4ecdbf520e63dca$export$a143d493d941bafc = $d4ecdbf520e63dca$var$Buffer;\n$d4ecdbf520e63dca$export$e4cf37d7f6fb9e0a = $d4ecdbf520e63dca$var$SlowBuffer;\n$d4ecdbf520e63dca$export$f99ded8fe4b79145 = 50;\nconst $d4ecdbf520e63dca$var$K_MAX_LENGTH = 0x7fffffff;\n$d4ecdbf520e63dca$export$599f31c3813fae4d = $d4ecdbf520e63dca$var$K_MAX_LENGTH;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */ $d4ecdbf520e63dca$var$Buffer.TYPED_ARRAY_SUPPORT = $d4ecdbf520e63dca$var$typedArraySupport();\nif (!$d4ecdbf520e63dca$var$Buffer.TYPED_ARRAY_SUPPORT && typeof console !== \"undefined\" && typeof console.error === \"function\") console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");\nfunction $d4ecdbf520e63dca$var$typedArraySupport() {\n    // Can typed array instances can be augmented?\n    try {\n        const arr = new Uint8Array(1);\n        const proto = {\n            foo: function() {\n                return 42;\n            }\n        };\n        Object.setPrototypeOf(proto, Uint8Array.prototype);\n        Object.setPrototypeOf(arr, proto);\n        return arr.foo() === 42;\n    } catch (e) {\n        return false;\n    }\n}\nObject.defineProperty($d4ecdbf520e63dca$var$Buffer.prototype, \"parent\", {\n    enumerable: true,\n    get: function() {\n        if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(this)) return undefined;\n        return this.buffer;\n    }\n});\nObject.defineProperty($d4ecdbf520e63dca$var$Buffer.prototype, \"offset\", {\n    enumerable: true,\n    get: function() {\n        if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(this)) return undefined;\n        return this.byteOffset;\n    }\n});\nfunction $d4ecdbf520e63dca$var$createBuffer(length) {\n    if (length > $d4ecdbf520e63dca$var$K_MAX_LENGTH) throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"');\n    // Return an augmented `Uint8Array` instance\n    const buf = new Uint8Array(length);\n    Object.setPrototypeOf(buf, $d4ecdbf520e63dca$var$Buffer.prototype);\n    return buf;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */ function $d4ecdbf520e63dca$var$Buffer(arg, encodingOrOffset, length) {\n    // Common case.\n    if (typeof arg === \"number\") {\n        if (typeof encodingOrOffset === \"string\") throw new TypeError('The \"string\" argument must be of type string. Received type number');\n        return $d4ecdbf520e63dca$var$allocUnsafe(arg);\n    }\n    return $d4ecdbf520e63dca$var$from(arg, encodingOrOffset, length);\n}\n$d4ecdbf520e63dca$var$Buffer.poolSize = 8192 // not used by this implementation\n;\nfunction $d4ecdbf520e63dca$var$from(value, encodingOrOffset, length) {\n    if (typeof value === \"string\") return $d4ecdbf520e63dca$var$fromString(value, encodingOrOffset);\n    if (ArrayBuffer.isView(value)) return $d4ecdbf520e63dca$var$fromArrayView(value);\n    if (value == null) throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value);\n    if ($d4ecdbf520e63dca$var$isInstance(value, ArrayBuffer) || value && $d4ecdbf520e63dca$var$isInstance(value.buffer, ArrayBuffer)) return $d4ecdbf520e63dca$var$fromArrayBuffer(value, encodingOrOffset, length);\n    if (typeof SharedArrayBuffer !== \"undefined\" && ($d4ecdbf520e63dca$var$isInstance(value, SharedArrayBuffer) || value && $d4ecdbf520e63dca$var$isInstance(value.buffer, SharedArrayBuffer))) return $d4ecdbf520e63dca$var$fromArrayBuffer(value, encodingOrOffset, length);\n    if (typeof value === \"number\") throw new TypeError('The \"value\" argument must not be of type number. Received type number');\n    const valueOf = value.valueOf && value.valueOf();\n    if (valueOf != null && valueOf !== value) return $d4ecdbf520e63dca$var$Buffer.from(valueOf, encodingOrOffset, length);\n    const b = $d4ecdbf520e63dca$var$fromObject(value);\n    if (b) return b;\n    if (typeof Symbol !== \"undefined\" && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === \"function\") return $d4ecdbf520e63dca$var$Buffer.from(value[Symbol.toPrimitive](\"string\"), encodingOrOffset, length);\n    throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/ $d4ecdbf520e63dca$var$Buffer.from = function(value, encodingOrOffset, length) {\n    return $d4ecdbf520e63dca$var$from(value, encodingOrOffset, length);\n};\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf($d4ecdbf520e63dca$var$Buffer.prototype, Uint8Array.prototype);\nObject.setPrototypeOf($d4ecdbf520e63dca$var$Buffer, Uint8Array);\nfunction $d4ecdbf520e63dca$var$assertSize(size) {\n    if (typeof size !== \"number\") throw new TypeError('\"size\" argument must be of type number');\n    else if (size < 0) throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"');\n}\nfunction $d4ecdbf520e63dca$var$alloc(size, fill, encoding) {\n    $d4ecdbf520e63dca$var$assertSize(size);\n    if (size <= 0) return $d4ecdbf520e63dca$var$createBuffer(size);\n    if (fill !== undefined) // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === \"string\" ? $d4ecdbf520e63dca$var$createBuffer(size).fill(fill, encoding) : $d4ecdbf520e63dca$var$createBuffer(size).fill(fill);\n    return $d4ecdbf520e63dca$var$createBuffer(size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/ $d4ecdbf520e63dca$var$Buffer.alloc = function(size, fill, encoding) {\n    return $d4ecdbf520e63dca$var$alloc(size, fill, encoding);\n};\nfunction $d4ecdbf520e63dca$var$allocUnsafe(size) {\n    $d4ecdbf520e63dca$var$assertSize(size);\n    return $d4ecdbf520e63dca$var$createBuffer(size < 0 ? 0 : $d4ecdbf520e63dca$var$checked(size) | 0);\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */ $d4ecdbf520e63dca$var$Buffer.allocUnsafe = function(size) {\n    return $d4ecdbf520e63dca$var$allocUnsafe(size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */ $d4ecdbf520e63dca$var$Buffer.allocUnsafeSlow = function(size) {\n    return $d4ecdbf520e63dca$var$allocUnsafe(size);\n};\nfunction $d4ecdbf520e63dca$var$fromString(string, encoding) {\n    if (typeof encoding !== \"string\" || encoding === \"\") encoding = \"utf8\";\n    if (!$d4ecdbf520e63dca$var$Buffer.isEncoding(encoding)) throw new TypeError(\"Unknown encoding: \" + encoding);\n    const length = $d4ecdbf520e63dca$var$byteLength(string, encoding) | 0;\n    let buf = $d4ecdbf520e63dca$var$createBuffer(length);\n    const actual = buf.write(string, encoding);\n    if (actual !== length) // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual);\n    return buf;\n}\nfunction $d4ecdbf520e63dca$var$fromArrayLike(array) {\n    const length = array.length < 0 ? 0 : $d4ecdbf520e63dca$var$checked(array.length) | 0;\n    const buf = $d4ecdbf520e63dca$var$createBuffer(length);\n    for(let i = 0; i < length; i += 1)buf[i] = array[i] & 255;\n    return buf;\n}\nfunction $d4ecdbf520e63dca$var$fromArrayView(arrayView) {\n    if ($d4ecdbf520e63dca$var$isInstance(arrayView, Uint8Array)) {\n        const copy = new Uint8Array(arrayView);\n        return $d4ecdbf520e63dca$var$fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);\n    }\n    return $d4ecdbf520e63dca$var$fromArrayLike(arrayView);\n}\nfunction $d4ecdbf520e63dca$var$fromArrayBuffer(array, byteOffset, length) {\n    if (byteOffset < 0 || array.byteLength < byteOffset) throw new RangeError('\"offset\" is outside of buffer bounds');\n    if (array.byteLength < byteOffset + (length || 0)) throw new RangeError('\"length\" is outside of buffer bounds');\n    let buf;\n    if (byteOffset === undefined && length === undefined) buf = new Uint8Array(array);\n    else if (length === undefined) buf = new Uint8Array(array, byteOffset);\n    else buf = new Uint8Array(array, byteOffset, length);\n    // Return an augmented `Uint8Array` instance\n    Object.setPrototypeOf(buf, $d4ecdbf520e63dca$var$Buffer.prototype);\n    return buf;\n}\nfunction $d4ecdbf520e63dca$var$fromObject(obj) {\n    if ($d4ecdbf520e63dca$var$Buffer.isBuffer(obj)) {\n        const len = $d4ecdbf520e63dca$var$checked(obj.length) | 0;\n        const buf = $d4ecdbf520e63dca$var$createBuffer(len);\n        if (buf.length === 0) return buf;\n        obj.copy(buf, 0, 0, len);\n        return buf;\n    }\n    if (obj.length !== undefined) {\n        if (typeof obj.length !== \"number\" || $d4ecdbf520e63dca$var$numberIsNaN(obj.length)) return $d4ecdbf520e63dca$var$createBuffer(0);\n        return $d4ecdbf520e63dca$var$fromArrayLike(obj);\n    }\n    if (obj.type === \"Buffer\" && Array.isArray(obj.data)) return $d4ecdbf520e63dca$var$fromArrayLike(obj.data);\n}\nfunction $d4ecdbf520e63dca$var$checked(length) {\n    // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= $d4ecdbf520e63dca$var$K_MAX_LENGTH) throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + $d4ecdbf520e63dca$var$K_MAX_LENGTH.toString(16) + \" bytes\");\n    return length | 0;\n}\nfunction $d4ecdbf520e63dca$var$SlowBuffer(length) {\n    if (+length != length) length = 0;\n    return $d4ecdbf520e63dca$var$Buffer.alloc(+length);\n}\n$d4ecdbf520e63dca$var$Buffer.isBuffer = function isBuffer(b) {\n    return b != null && b._isBuffer === true && b !== $d4ecdbf520e63dca$var$Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n    ;\n};\n$d4ecdbf520e63dca$var$Buffer.compare = function compare(a, b) {\n    if ($d4ecdbf520e63dca$var$isInstance(a, Uint8Array)) a = $d4ecdbf520e63dca$var$Buffer.from(a, a.offset, a.byteLength);\n    if ($d4ecdbf520e63dca$var$isInstance(b, Uint8Array)) b = $d4ecdbf520e63dca$var$Buffer.from(b, b.offset, b.byteLength);\n    if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(a) || !$d4ecdbf520e63dca$var$Buffer.isBuffer(b)) throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');\n    if (a === b) return 0;\n    let x = a.length;\n    let y = b.length;\n    for(let i = 0, len = Math.min(x, y); i < len; ++i)if (a[i] !== b[i]) {\n        x = a[i];\n        y = b[i];\n        break;\n    }\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n};\n$d4ecdbf520e63dca$var$Buffer.isEncoding = function isEncoding(encoding) {\n    switch(String(encoding).toLowerCase()){\n        case \"hex\":\n        case \"utf8\":\n        case \"utf-8\":\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n        case \"base64\":\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n            return true;\n        default:\n            return false;\n    }\n};\n$d4ecdbf520e63dca$var$Buffer.concat = function concat(list, length) {\n    if (!Array.isArray(list)) throw new TypeError('\"list\" argument must be an Array of Buffers');\n    if (list.length === 0) return $d4ecdbf520e63dca$var$Buffer.alloc(0);\n    let i;\n    if (length === undefined) {\n        length = 0;\n        for(i = 0; i < list.length; ++i)length += list[i].length;\n    }\n    const buffer = $d4ecdbf520e63dca$var$Buffer.allocUnsafe(length);\n    let pos = 0;\n    for(i = 0; i < list.length; ++i){\n        let buf = list[i];\n        if ($d4ecdbf520e63dca$var$isInstance(buf, Uint8Array)) {\n            if (pos + buf.length > buffer.length) {\n                if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(buf)) buf = $d4ecdbf520e63dca$var$Buffer.from(buf);\n                buf.copy(buffer, pos);\n            } else Uint8Array.prototype.set.call(buffer, buf, pos);\n        } else if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(buf)) throw new TypeError('\"list\" argument must be an Array of Buffers');\n        else buf.copy(buffer, pos);\n        pos += buf.length;\n    }\n    return buffer;\n};\nfunction $d4ecdbf520e63dca$var$byteLength(string, encoding) {\n    if ($d4ecdbf520e63dca$var$Buffer.isBuffer(string)) return string.length;\n    if (ArrayBuffer.isView(string) || $d4ecdbf520e63dca$var$isInstance(string, ArrayBuffer)) return string.byteLength;\n    if (typeof string !== \"string\") throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof string);\n    const len = string.length;\n    const mustMatch = arguments.length > 2 && arguments[2] === true;\n    if (!mustMatch && len === 0) return 0;\n    // Use a for loop to avoid recursion\n    let loweredCase = false;\n    for(;;)switch(encoding){\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n            return len;\n        case \"utf8\":\n        case \"utf-8\":\n            return $d4ecdbf520e63dca$var$utf8ToBytes(string).length;\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n            return len * 2;\n        case \"hex\":\n            return len >>> 1;\n        case \"base64\":\n            return $d4ecdbf520e63dca$var$base64ToBytes(string).length;\n        default:\n            if (loweredCase) return mustMatch ? -1 : $d4ecdbf520e63dca$var$utf8ToBytes(string).length // assume utf8\n            ;\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n    }\n}\n$d4ecdbf520e63dca$var$Buffer.byteLength = $d4ecdbf520e63dca$var$byteLength;\nfunction $d4ecdbf520e63dca$var$slowToString(encoding, start, end) {\n    let loweredCase = false;\n    // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n    // property of a typed array.\n    // This behaves neither like String nor Uint8Array in that we set start/end\n    // to their upper/lower bounds if the value passed is out of range.\n    // undefined is handled specially as per ECMA-262 6th Edition,\n    // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n    if (start === undefined || start < 0) start = 0;\n    // Return early if start > this.length. Done here to prevent potential uint32\n    // coercion fail below.\n    if (start > this.length) return \"\";\n    if (end === undefined || end > this.length) end = this.length;\n    if (end <= 0) return \"\";\n    // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n    end >>>= 0;\n    start >>>= 0;\n    if (end <= start) return \"\";\n    if (!encoding) encoding = \"utf8\";\n    while(true)switch(encoding){\n        case \"hex\":\n            return $d4ecdbf520e63dca$var$hexSlice(this, start, end);\n        case \"utf8\":\n        case \"utf-8\":\n            return $d4ecdbf520e63dca$var$utf8Slice(this, start, end);\n        case \"ascii\":\n            return $d4ecdbf520e63dca$var$asciiSlice(this, start, end);\n        case \"latin1\":\n        case \"binary\":\n            return $d4ecdbf520e63dca$var$latin1Slice(this, start, end);\n        case \"base64\":\n            return $d4ecdbf520e63dca$var$base64Slice(this, start, end);\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n            return $d4ecdbf520e63dca$var$utf16leSlice(this, start, end);\n        default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (encoding + \"\").toLowerCase();\n            loweredCase = true;\n    }\n}\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\n$d4ecdbf520e63dca$var$Buffer.prototype._isBuffer = true;\nfunction $d4ecdbf520e63dca$var$swap(b, n, m) {\n    const i = b[n];\n    b[n] = b[m];\n    b[m] = i;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.swap16 = function swap16() {\n    const len = this.length;\n    if (len % 2 !== 0) throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n    for(let i = 0; i < len; i += 2)$d4ecdbf520e63dca$var$swap(this, i, i + 1);\n    return this;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.swap32 = function swap32() {\n    const len = this.length;\n    if (len % 4 !== 0) throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n    for(let i = 0; i < len; i += 4){\n        $d4ecdbf520e63dca$var$swap(this, i, i + 3);\n        $d4ecdbf520e63dca$var$swap(this, i + 1, i + 2);\n    }\n    return this;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.swap64 = function swap64() {\n    const len = this.length;\n    if (len % 8 !== 0) throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n    for(let i = 0; i < len; i += 8){\n        $d4ecdbf520e63dca$var$swap(this, i, i + 7);\n        $d4ecdbf520e63dca$var$swap(this, i + 1, i + 6);\n        $d4ecdbf520e63dca$var$swap(this, i + 2, i + 5);\n        $d4ecdbf520e63dca$var$swap(this, i + 3, i + 4);\n    }\n    return this;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.toString = function toString() {\n    const length = this.length;\n    if (length === 0) return \"\";\n    if (arguments.length === 0) return $d4ecdbf520e63dca$var$utf8Slice(this, 0, length);\n    return $d4ecdbf520e63dca$var$slowToString.apply(this, arguments);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.toLocaleString = $d4ecdbf520e63dca$var$Buffer.prototype.toString;\n$d4ecdbf520e63dca$var$Buffer.prototype.equals = function equals(b) {\n    if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(b)) throw new TypeError(\"Argument must be a Buffer\");\n    if (this === b) return true;\n    return $d4ecdbf520e63dca$var$Buffer.compare(this, b) === 0;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.inspect = function inspect() {\n    let str = \"\";\n    const max = $d4ecdbf520e63dca$export$f99ded8fe4b79145;\n    str = this.toString(\"hex\", 0, max).replace(/(.{2})/g, \"$1 \").trim();\n    if (this.length > max) str += \" ... \";\n    return \"<Buffer \" + str + \">\";\n};\nif ($d4ecdbf520e63dca$var$customInspectSymbol) $d4ecdbf520e63dca$var$Buffer.prototype[$d4ecdbf520e63dca$var$customInspectSymbol] = $d4ecdbf520e63dca$var$Buffer.prototype.inspect;\n$d4ecdbf520e63dca$var$Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n    if ($d4ecdbf520e63dca$var$isInstance(target, Uint8Array)) target = $d4ecdbf520e63dca$var$Buffer.from(target, target.offset, target.byteLength);\n    if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(target)) throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof target);\n    if (start === undefined) start = 0;\n    if (end === undefined) end = target ? target.length : 0;\n    if (thisStart === undefined) thisStart = 0;\n    if (thisEnd === undefined) thisEnd = this.length;\n    if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) throw new RangeError(\"out of range index\");\n    if (thisStart >= thisEnd && start >= end) return 0;\n    if (thisStart >= thisEnd) return -1;\n    if (start >= end) return 1;\n    start >>>= 0;\n    end >>>= 0;\n    thisStart >>>= 0;\n    thisEnd >>>= 0;\n    if (this === target) return 0;\n    let x = thisEnd - thisStart;\n    let y = end - start;\n    const len = Math.min(x, y);\n    const thisCopy = this.slice(thisStart, thisEnd);\n    const targetCopy = target.slice(start, end);\n    for(let i = 0; i < len; ++i)if (thisCopy[i] !== targetCopy[i]) {\n        x = thisCopy[i];\n        y = targetCopy[i];\n        break;\n    }\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n};\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction $d4ecdbf520e63dca$var$bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n    // Empty buffer means no match\n    if (buffer.length === 0) return -1;\n    // Normalize byteOffset\n    if (typeof byteOffset === \"string\") {\n        encoding = byteOffset;\n        byteOffset = 0;\n    } else if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff;\n    else if (byteOffset < -2147483648) byteOffset = -2147483648;\n    byteOffset = +byteOffset // Coerce to Number.\n    ;\n    if ($d4ecdbf520e63dca$var$numberIsNaN(byteOffset)) // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n    // Normalize byteOffset: negative offsets start from the end of the buffer\n    if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n    if (byteOffset >= buffer.length) {\n        if (dir) return -1;\n        else byteOffset = buffer.length - 1;\n    } else if (byteOffset < 0) {\n        if (dir) byteOffset = 0;\n        else return -1;\n    }\n    // Normalize val\n    if (typeof val === \"string\") val = $d4ecdbf520e63dca$var$Buffer.from(val, encoding);\n    // Finally, search either indexOf (if dir is true) or lastIndexOf\n    if ($d4ecdbf520e63dca$var$Buffer.isBuffer(val)) {\n        // Special case: looking for empty string/buffer always fails\n        if (val.length === 0) return -1;\n        return $d4ecdbf520e63dca$var$arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n    } else if (typeof val === \"number\") {\n        val = val & 0xFF // Search for a byte value [0-255]\n        ;\n        if (typeof Uint8Array.prototype.indexOf === \"function\") {\n            if (dir) return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n            else return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n        }\n        return $d4ecdbf520e63dca$var$arrayIndexOf(buffer, [\n            val\n        ], byteOffset, encoding, dir);\n    }\n    throw new TypeError(\"val must be string, number or Buffer\");\n}\nfunction $d4ecdbf520e63dca$var$arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n    let indexSize = 1;\n    let arrLength = arr.length;\n    let valLength = val.length;\n    if (encoding !== undefined) {\n        encoding = String(encoding).toLowerCase();\n        if (encoding === \"ucs2\" || encoding === \"ucs-2\" || encoding === \"utf16le\" || encoding === \"utf-16le\") {\n            if (arr.length < 2 || val.length < 2) return -1;\n            indexSize = 2;\n            arrLength /= 2;\n            valLength /= 2;\n            byteOffset /= 2;\n        }\n    }\n    function read(buf, i) {\n        if (indexSize === 1) return buf[i];\n        else return buf.readUInt16BE(i * indexSize);\n    }\n    let i;\n    if (dir) {\n        let foundIndex = -1;\n        for(i = byteOffset; i < arrLength; i++)if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n            if (foundIndex === -1) foundIndex = i;\n            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n        } else {\n            if (foundIndex !== -1) i -= i - foundIndex;\n            foundIndex = -1;\n        }\n    } else {\n        if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n        for(i = byteOffset; i >= 0; i--){\n            let found = true;\n            for(let j = 0; j < valLength; j++)if (read(arr, i + j) !== read(val, j)) {\n                found = false;\n                break;\n            }\n            if (found) return i;\n        }\n    }\n    return -1;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.includes = function includes(val, byteOffset, encoding) {\n    return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n    return $d4ecdbf520e63dca$var$bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n    return $d4ecdbf520e63dca$var$bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\nfunction $d4ecdbf520e63dca$var$hexWrite(buf, string, offset, length) {\n    offset = Number(offset) || 0;\n    const remaining = buf.length - offset;\n    if (!length) length = remaining;\n    else {\n        length = Number(length);\n        if (length > remaining) length = remaining;\n    }\n    const strLen = string.length;\n    if (length > strLen / 2) length = strLen / 2;\n    let i;\n    for(i = 0; i < length; ++i){\n        const parsed = parseInt(string.substr(i * 2, 2), 16);\n        if ($d4ecdbf520e63dca$var$numberIsNaN(parsed)) return i;\n        buf[offset + i] = parsed;\n    }\n    return i;\n}\nfunction $d4ecdbf520e63dca$var$utf8Write(buf, string, offset, length) {\n    return $d4ecdbf520e63dca$var$blitBuffer($d4ecdbf520e63dca$var$utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\nfunction $d4ecdbf520e63dca$var$asciiWrite(buf, string, offset, length) {\n    return $d4ecdbf520e63dca$var$blitBuffer($d4ecdbf520e63dca$var$asciiToBytes(string), buf, offset, length);\n}\nfunction $d4ecdbf520e63dca$var$base64Write(buf, string, offset, length) {\n    return $d4ecdbf520e63dca$var$blitBuffer($d4ecdbf520e63dca$var$base64ToBytes(string), buf, offset, length);\n}\nfunction $d4ecdbf520e63dca$var$ucs2Write(buf, string, offset, length) {\n    return $d4ecdbf520e63dca$var$blitBuffer($d4ecdbf520e63dca$var$utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.write = function write(string, offset, length, encoding) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n        encoding = \"utf8\";\n        length = this.length;\n        offset = 0;\n    // Buffer#write(string, encoding)\n    } else if (length === undefined && typeof offset === \"string\") {\n        encoding = offset;\n        length = this.length;\n        offset = 0;\n    // Buffer#write(string, offset[, length][, encoding])\n    } else if (isFinite(offset)) {\n        offset = offset >>> 0;\n        if (isFinite(length)) {\n            length = length >>> 0;\n            if (encoding === undefined) encoding = \"utf8\";\n        } else {\n            encoding = length;\n            length = undefined;\n        }\n    } else throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");\n    const remaining = this.length - offset;\n    if (length === undefined || length > remaining) length = remaining;\n    if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) throw new RangeError(\"Attempt to write outside buffer bounds\");\n    if (!encoding) encoding = \"utf8\";\n    let loweredCase = false;\n    for(;;)switch(encoding){\n        case \"hex\":\n            return $d4ecdbf520e63dca$var$hexWrite(this, string, offset, length);\n        case \"utf8\":\n        case \"utf-8\":\n            return $d4ecdbf520e63dca$var$utf8Write(this, string, offset, length);\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n            return $d4ecdbf520e63dca$var$asciiWrite(this, string, offset, length);\n        case \"base64\":\n            // Warning: maxLength not taken into account in base64Write\n            return $d4ecdbf520e63dca$var$base64Write(this, string, offset, length);\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n            return $d4ecdbf520e63dca$var$ucs2Write(this, string, offset, length);\n        default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n    }\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.toJSON = function toJSON() {\n    return {\n        type: \"Buffer\",\n        data: Array.prototype.slice.call(this._arr || this, 0)\n    };\n};\nfunction $d4ecdbf520e63dca$var$base64Slice(buf, start, end) {\n    if (start === 0 && end === buf.length) return $034686670a8a195b$export$6100ba28696e12de(buf);\n    else return $034686670a8a195b$export$6100ba28696e12de(buf.slice(start, end));\n}\nfunction $d4ecdbf520e63dca$var$utf8Slice(buf, start, end) {\n    end = Math.min(buf.length, end);\n    const res = [];\n    let i = start;\n    while(i < end){\n        const firstByte = buf[i];\n        let codePoint = null;\n        let bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n        if (i + bytesPerSequence <= end) {\n            let secondByte, thirdByte, fourthByte, tempCodePoint;\n            switch(bytesPerSequence){\n                case 1:\n                    if (firstByte < 0x80) codePoint = firstByte;\n                    break;\n                case 2:\n                    secondByte = buf[i + 1];\n                    if ((secondByte & 0xC0) === 0x80) {\n                        tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n                        if (tempCodePoint > 0x7F) codePoint = tempCodePoint;\n                    }\n                    break;\n                case 3:\n                    secondByte = buf[i + 1];\n                    thirdByte = buf[i + 2];\n                    if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n                        tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n                        if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) codePoint = tempCodePoint;\n                    }\n                    break;\n                case 4:\n                    secondByte = buf[i + 1];\n                    thirdByte = buf[i + 2];\n                    fourthByte = buf[i + 3];\n                    if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n                        tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n                        if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) codePoint = tempCodePoint;\n                    }\n            }\n        }\n        if (codePoint === null) {\n            // we did not generate a valid codePoint so insert a\n            // replacement char (U+FFFD) and advance only 1 byte\n            codePoint = 0xFFFD;\n            bytesPerSequence = 1;\n        } else if (codePoint > 0xFFFF) {\n            // encode to utf16 (surrogate pair dance)\n            codePoint -= 0x10000;\n            res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n            codePoint = 0xDC00 | codePoint & 0x3FF;\n        }\n        res.push(codePoint);\n        i += bytesPerSequence;\n    }\n    return $d4ecdbf520e63dca$var$decodeCodePointsArray(res);\n}\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst $d4ecdbf520e63dca$var$MAX_ARGUMENTS_LENGTH = 0x1000;\nfunction $d4ecdbf520e63dca$var$decodeCodePointsArray(codePoints) {\n    const len = codePoints.length;\n    if (len <= $d4ecdbf520e63dca$var$MAX_ARGUMENTS_LENGTH) return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n    ;\n    // Decode in chunks to avoid \"call stack size exceeded\".\n    let res = \"\";\n    let i = 0;\n    while(i < len)res += String.fromCharCode.apply(String, codePoints.slice(i, i += $d4ecdbf520e63dca$var$MAX_ARGUMENTS_LENGTH));\n    return res;\n}\nfunction $d4ecdbf520e63dca$var$asciiSlice(buf, start, end) {\n    let ret = \"\";\n    end = Math.min(buf.length, end);\n    for(let i = start; i < end; ++i)ret += String.fromCharCode(buf[i] & 0x7F);\n    return ret;\n}\nfunction $d4ecdbf520e63dca$var$latin1Slice(buf, start, end) {\n    let ret = \"\";\n    end = Math.min(buf.length, end);\n    for(let i = start; i < end; ++i)ret += String.fromCharCode(buf[i]);\n    return ret;\n}\nfunction $d4ecdbf520e63dca$var$hexSlice(buf, start, end) {\n    const len = buf.length;\n    if (!start || start < 0) start = 0;\n    if (!end || end < 0 || end > len) end = len;\n    let out = \"\";\n    for(let i = start; i < end; ++i)out += $d4ecdbf520e63dca$var$hexSliceLookupTable[buf[i]];\n    return out;\n}\nfunction $d4ecdbf520e63dca$var$utf16leSlice(buf, start, end) {\n    const bytes = buf.slice(start, end);\n    let res = \"\";\n    // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n    for(let i = 0; i < bytes.length - 1; i += 2)res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n    return res;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.slice = function slice(start, end) {\n    const len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n    if (start < 0) {\n        start += len;\n        if (start < 0) start = 0;\n    } else if (start > len) start = len;\n    if (end < 0) {\n        end += len;\n        if (end < 0) end = 0;\n    } else if (end > len) end = len;\n    if (end < start) end = start;\n    const newBuf = this.subarray(start, end);\n    // Return an augmented `Uint8Array` instance\n    Object.setPrototypeOf(newBuf, $d4ecdbf520e63dca$var$Buffer.prototype);\n    return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */ function $d4ecdbf520e63dca$var$checkOffset(offset, ext, length) {\n    if (offset % 1 !== 0 || offset < 0) throw new RangeError(\"offset is not uint\");\n    if (offset + ext > length) throw new RangeError(\"Trying to access beyond buffer length\");\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.readUintLE = $d4ecdbf520e63dca$var$Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, byteLength, this.length);\n    let val = this[offset];\n    let mul = 1;\n    let i = 0;\n    while(++i < byteLength && (mul *= 0x100))val += this[offset + i] * mul;\n    return val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUintBE = $d4ecdbf520e63dca$var$Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, byteLength, this.length);\n    let val = this[offset + --byteLength];\n    let mul = 1;\n    while(byteLength > 0 && (mul *= 0x100))val += this[offset + --byteLength] * mul;\n    return val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUint8 = $d4ecdbf520e63dca$var$Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 1, this.length);\n    return this[offset];\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUint16LE = $d4ecdbf520e63dca$var$Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 2, this.length);\n    return this[offset] | this[offset + 1] << 8;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUint16BE = $d4ecdbf520e63dca$var$Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 2, this.length);\n    return this[offset] << 8 | this[offset + 1];\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUint32LE = $d4ecdbf520e63dca$var$Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readUint32BE = $d4ecdbf520e63dca$var$Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readBigUInt64LE = $d4ecdbf520e63dca$var$defineBigIntMethod(function readBigUInt64LE(offset) {\n    offset = offset >>> 0;\n    $d4ecdbf520e63dca$var$validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n    if (first === undefined || last === undefined) $d4ecdbf520e63dca$var$boundsError(offset, this.length - 8);\n    const lo = first + this[++offset] * 256 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24;\n    const hi = this[++offset] + this[++offset] * 256 + this[++offset] * 2 ** 16 + last * 2 ** 24;\n    return BigInt(lo) + (BigInt(hi) << BigInt(32));\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.readBigUInt64BE = $d4ecdbf520e63dca$var$defineBigIntMethod(function readBigUInt64BE(offset) {\n    offset = offset >>> 0;\n    $d4ecdbf520e63dca$var$validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n    if (first === undefined || last === undefined) $d4ecdbf520e63dca$var$boundsError(offset, this.length - 8);\n    const hi = first * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 256 + this[++offset];\n    const lo = this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 256 + last;\n    return (BigInt(hi) << BigInt(32)) + BigInt(lo);\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, byteLength, this.length);\n    let val = this[offset];\n    let mul = 1;\n    let i = 0;\n    while(++i < byteLength && (mul *= 0x100))val += this[offset + i] * mul;\n    mul *= 0x80;\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n    return val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, byteLength, this.length);\n    let i = byteLength;\n    let mul = 1;\n    let val = this[offset + --i];\n    while(i > 0 && (mul *= 0x100))val += this[offset + --i] * mul;\n    mul *= 0x80;\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n    return val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 1, this.length);\n    if (!(this[offset] & 0x80)) return this[offset];\n    return (0xff - this[offset] + 1) * -1;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 2, this.length);\n    const val = this[offset] | this[offset + 1] << 8;\n    return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 2, this.length);\n    const val = this[offset + 1] | this[offset] << 8;\n    return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readBigInt64LE = $d4ecdbf520e63dca$var$defineBigIntMethod(function readBigInt64LE(offset) {\n    offset = offset >>> 0;\n    $d4ecdbf520e63dca$var$validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n    if (first === undefined || last === undefined) $d4ecdbf520e63dca$var$boundsError(offset, this.length - 8);\n    const val = this[offset + 4] + this[offset + 5] * 256 + this[offset + 6] * 2 ** 16 + (last << 24 // Overflow\n    );\n    return (BigInt(val) << BigInt(32)) + BigInt(first + this[++offset] * 256 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24);\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.readBigInt64BE = $d4ecdbf520e63dca$var$defineBigIntMethod(function readBigInt64BE(offset) {\n    offset = offset >>> 0;\n    $d4ecdbf520e63dca$var$validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n    if (first === undefined || last === undefined) $d4ecdbf520e63dca$var$boundsError(offset, this.length - 8);\n    const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 + this[++offset] * 256 + this[++offset];\n    return (BigInt(val) << BigInt(32)) + BigInt(this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 256 + last);\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return $454af19f7384844b$export$aafa59e2e03f2942(this, offset, true, 23, 4);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 4, this.length);\n    return $454af19f7384844b$export$aafa59e2e03f2942(this, offset, false, 23, 4);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 8, this.length);\n    return $454af19f7384844b$export$aafa59e2e03f2942(this, offset, true, 52, 8);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkOffset(offset, 8, this.length);\n    return $454af19f7384844b$export$aafa59e2e03f2942(this, offset, false, 52, 8);\n};\nfunction $d4ecdbf520e63dca$var$checkInt(buf, value, offset, ext, max, min) {\n    if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n    if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n    if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUintLE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        $d4ecdbf520e63dca$var$checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n    let mul = 1;\n    let i = 0;\n    this[offset] = value & 0xFF;\n    while(++i < byteLength && (mul *= 0x100))this[offset + i] = value / mul & 0xFF;\n    return offset + byteLength;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUintBE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        $d4ecdbf520e63dca$var$checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n    let i = byteLength - 1;\n    let mul = 1;\n    this[offset + i] = value & 0xFF;\n    while(--i >= 0 && (mul *= 0x100))this[offset + i] = value / mul & 0xFF;\n    return offset + byteLength;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUint8 = $d4ecdbf520e63dca$var$Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 1, 0xff, 0);\n    this[offset] = value & 0xff;\n    return offset + 1;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUint16LE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 2, 0xffff, 0);\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    return offset + 2;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUint16BE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 2, 0xffff, 0);\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n    return offset + 2;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUint32LE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 4, 0xffffffff, 0);\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n    return offset + 4;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeUint32BE = $d4ecdbf520e63dca$var$Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 4, 0xffffffff, 0);\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n    return offset + 4;\n};\nfunction $d4ecdbf520e63dca$var$wrtBigUInt64LE(buf, value, offset, min, max) {\n    $d4ecdbf520e63dca$var$checkIntBI(value, min, max, buf, offset, 7);\n    let lo = Number(value & BigInt(0xffffffff));\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    return offset;\n}\nfunction $d4ecdbf520e63dca$var$wrtBigUInt64BE(buf, value, offset, min, max) {\n    $d4ecdbf520e63dca$var$checkIntBI(value, min, max, buf, offset, 7);\n    let lo = Number(value & BigInt(0xffffffff));\n    buf[offset + 7] = lo;\n    lo = lo >> 8;\n    buf[offset + 6] = lo;\n    lo = lo >> 8;\n    buf[offset + 5] = lo;\n    lo = lo >> 8;\n    buf[offset + 4] = lo;\n    let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n    buf[offset + 3] = hi;\n    hi = hi >> 8;\n    buf[offset + 2] = hi;\n    hi = hi >> 8;\n    buf[offset + 1] = hi;\n    hi = hi >> 8;\n    buf[offset] = hi;\n    return offset + 8;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.writeBigUInt64LE = $d4ecdbf520e63dca$var$defineBigIntMethod(function writeBigUInt64LE(value, offset = 0) {\n    return $d4ecdbf520e63dca$var$wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.writeBigUInt64BE = $d4ecdbf520e63dca$var$defineBigIntMethod(function writeBigUInt64BE(value, offset = 0) {\n    return $d4ecdbf520e63dca$var$wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength - 1);\n        $d4ecdbf520e63dca$var$checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n    let i = 0;\n    let mul = 1;\n    let sub = 0;\n    this[offset] = value & 0xFF;\n    while(++i < byteLength && (mul *= 0x100)){\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) sub = 1;\n        this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n    }\n    return offset + byteLength;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength - 1);\n        $d4ecdbf520e63dca$var$checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n    let i = byteLength - 1;\n    let mul = 1;\n    let sub = 0;\n    this[offset + i] = value & 0xFF;\n    while(--i >= 0 && (mul *= 0x100)){\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) sub = 1;\n        this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n    }\n    return offset + byteLength;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 1, 0x7f, -128);\n    if (value < 0) value = 0xff + value + 1;\n    this[offset] = value & 0xff;\n    return offset + 1;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 2, 0x7fff, -32768);\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    return offset + 2;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 2, 0x7fff, -32768);\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n    return offset + 2;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 4, 0x7fffffff, -2147483648);\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n    return offset + 4;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkInt(this, value, offset, 4, 0x7fffffff, -2147483648);\n    if (value < 0) value = 0xffffffff + value + 1;\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n    return offset + 4;\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeBigInt64LE = $d4ecdbf520e63dca$var$defineBigIntMethod(function writeBigInt64LE(value, offset = 0) {\n    return $d4ecdbf520e63dca$var$wrtBigUInt64LE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n});\n$d4ecdbf520e63dca$var$Buffer.prototype.writeBigInt64BE = $d4ecdbf520e63dca$var$defineBigIntMethod(function writeBigInt64BE(value, offset = 0) {\n    return $d4ecdbf520e63dca$var$wrtBigUInt64BE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n});\nfunction $d4ecdbf520e63dca$var$checkIEEE754(buf, value, offset, ext, max, min) {\n    if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n    if (offset < 0) throw new RangeError(\"Index out of range\");\n}\nfunction $d4ecdbf520e63dca$var$writeFloat(buf, value, offset, littleEndian, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -340282346638528860000000000000000000000);\n    $454af19f7384844b$export$68d8715fc104d294(buf, value, offset, littleEndian, 23, 4);\n    return offset + 4;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n    return $d4ecdbf520e63dca$var$writeFloat(this, value, offset, true, noAssert);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n    return $d4ecdbf520e63dca$var$writeFloat(this, value, offset, false, noAssert);\n};\nfunction $d4ecdbf520e63dca$var$writeDouble(buf, value, offset, littleEndian, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) $d4ecdbf520e63dca$var$checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);\n    $454af19f7384844b$export$68d8715fc104d294(buf, value, offset, littleEndian, 52, 8);\n    return offset + 8;\n}\n$d4ecdbf520e63dca$var$Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n    return $d4ecdbf520e63dca$var$writeDouble(this, value, offset, true, noAssert);\n};\n$d4ecdbf520e63dca$var$Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n    return $d4ecdbf520e63dca$var$writeDouble(this, value, offset, false, noAssert);\n};\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n$d4ecdbf520e63dca$var$Buffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!$d4ecdbf520e63dca$var$Buffer.isBuffer(target)) throw new TypeError(\"argument should be a Buffer\");\n    if (!start) start = 0;\n    if (!end && end !== 0) end = this.length;\n    if (targetStart >= target.length) targetStart = target.length;\n    if (!targetStart) targetStart = 0;\n    if (end > 0 && end < start) end = start;\n    // Copy 0 bytes; we're done\n    if (end === start) return 0;\n    if (target.length === 0 || this.length === 0) return 0;\n    // Fatal error conditions\n    if (targetStart < 0) throw new RangeError(\"targetStart out of bounds\");\n    if (start < 0 || start >= this.length) throw new RangeError(\"Index out of range\");\n    if (end < 0) throw new RangeError(\"sourceEnd out of bounds\");\n    // Are we oob?\n    if (end > this.length) end = this.length;\n    if (target.length - targetStart < end - start) end = target.length - targetStart + start;\n    const len = end - start;\n    if (this === target && typeof Uint8Array.prototype.copyWithin === \"function\") // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end);\n    else Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);\n    return len;\n};\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n$d4ecdbf520e63dca$var$Buffer.prototype.fill = function fill(val, start, end, encoding) {\n    // Handle string cases:\n    if (typeof val === \"string\") {\n        if (typeof start === \"string\") {\n            encoding = start;\n            start = 0;\n            end = this.length;\n        } else if (typeof end === \"string\") {\n            encoding = end;\n            end = this.length;\n        }\n        if (encoding !== undefined && typeof encoding !== \"string\") throw new TypeError(\"encoding must be a string\");\n        if (typeof encoding === \"string\" && !$d4ecdbf520e63dca$var$Buffer.isEncoding(encoding)) throw new TypeError(\"Unknown encoding: \" + encoding);\n        if (val.length === 1) {\n            const code = val.charCodeAt(0);\n            if (encoding === \"utf8\" && code < 128 || encoding === \"latin1\") // Fast path: If `val` fits into a single byte, use that numeric value.\n            val = code;\n        }\n    } else if (typeof val === \"number\") val = val & 255;\n    else if (typeof val === \"boolean\") val = Number(val);\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) throw new RangeError(\"Out of range index\");\n    if (end <= start) return this;\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n    if (!val) val = 0;\n    let i;\n    if (typeof val === \"number\") for(i = start; i < end; ++i)this[i] = val;\n    else {\n        const bytes = $d4ecdbf520e63dca$var$Buffer.isBuffer(val) ? val : $d4ecdbf520e63dca$var$Buffer.from(val, encoding);\n        const len = bytes.length;\n        if (len === 0) throw new TypeError('The value \"' + val + '\" is invalid for argument \"value\"');\n        for(i = 0; i < end - start; ++i)this[i + start] = bytes[i % len];\n    }\n    return this;\n};\n// CUSTOM ERRORS\n// =============\n// Simplified versions from Node, changed for Buffer-only usage\nconst $d4ecdbf520e63dca$var$errors = {};\nfunction $d4ecdbf520e63dca$var$E(sym, getMessage, Base) {\n    $d4ecdbf520e63dca$var$errors[sym] = class NodeError extends Base {\n        constructor(){\n            super();\n            Object.defineProperty(this, \"message\", {\n                value: getMessage.apply(this, arguments),\n                writable: true,\n                configurable: true\n            });\n            // Add the error code to the name to include it in the stack trace.\n            this.name = `${this.name} [${sym}]`;\n            // Access the stack to generate the error message including the error code\n            // from the name.\n            this.stack // eslint-disable-line no-unused-expressions\n            ;\n            // Reset the name to the actual name.\n            delete this.name;\n        }\n        get code() {\n            return sym;\n        }\n        set code(value) {\n            Object.defineProperty(this, \"code\", {\n                configurable: true,\n                enumerable: true,\n                value: value,\n                writable: true\n            });\n        }\n        toString() {\n            return `${this.name} [${sym}]: ${this.message}`;\n        }\n    };\n}\n$d4ecdbf520e63dca$var$E(\"ERR_BUFFER_OUT_OF_BOUNDS\", function(name) {\n    if (name) return `${name} is outside of buffer bounds`;\n    return \"Attempt to access memory outside buffer bounds\";\n}, RangeError);\n$d4ecdbf520e63dca$var$E(\"ERR_INVALID_ARG_TYPE\", function(name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`;\n}, TypeError);\n$d4ecdbf520e63dca$var$E(\"ERR_OUT_OF_RANGE\", function(str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`;\n    let received = input;\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) received = $d4ecdbf520e63dca$var$addNumericalSeparator(String(input));\n    else if (typeof input === \"bigint\") {\n        received = String(input);\n        if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) received = $d4ecdbf520e63dca$var$addNumericalSeparator(received);\n        received += \"n\";\n    }\n    msg += ` It must be ${range}. Received ${received}`;\n    return msg;\n}, RangeError);\nfunction $d4ecdbf520e63dca$var$addNumericalSeparator(val) {\n    let res = \"\";\n    let i = val.length;\n    const start = val[0] === \"-\" ? 1 : 0;\n    for(; i >= start + 4; i -= 3)res = `_${val.slice(i - 3, i)}${res}`;\n    return `${val.slice(0, i)}${res}`;\n}\n// CHECK FUNCTIONS\n// ===============\nfunction $d4ecdbf520e63dca$var$checkBounds(buf, offset, byteLength) {\n    $d4ecdbf520e63dca$var$validateNumber(offset, \"offset\");\n    if (buf[offset] === undefined || buf[offset + byteLength] === undefined) $d4ecdbf520e63dca$var$boundsError(offset, buf.length - (byteLength + 1));\n}\nfunction $d4ecdbf520e63dca$var$checkIntBI(value, min, max, buf, offset, byteLength) {\n    if (value > max || value < min) {\n        const n = typeof min === \"bigint\" ? \"n\" : \"\";\n        let range;\n        if (byteLength > 3) {\n            if (min === 0 || min === BigInt(0)) range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;\n            else range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` + `${(byteLength + 1) * 8 - 1}${n}`;\n        } else range = `>= ${min}${n} and <= ${max}${n}`;\n        throw new $d4ecdbf520e63dca$var$errors.ERR_OUT_OF_RANGE(\"value\", range, value);\n    }\n    $d4ecdbf520e63dca$var$checkBounds(buf, offset, byteLength);\n}\nfunction $d4ecdbf520e63dca$var$validateNumber(value, name) {\n    if (typeof value !== \"number\") throw new $d4ecdbf520e63dca$var$errors.ERR_INVALID_ARG_TYPE(name, \"number\", value);\n}\nfunction $d4ecdbf520e63dca$var$boundsError(value, length, type) {\n    if (Math.floor(value) !== value) {\n        $d4ecdbf520e63dca$var$validateNumber(value, type);\n        throw new $d4ecdbf520e63dca$var$errors.ERR_OUT_OF_RANGE(type || \"offset\", \"an integer\", value);\n    }\n    if (length < 0) throw new $d4ecdbf520e63dca$var$errors.ERR_BUFFER_OUT_OF_BOUNDS();\n    throw new $d4ecdbf520e63dca$var$errors.ERR_OUT_OF_RANGE(type || \"offset\", `>= ${type ? 1 : 0} and <= ${length}`, value);\n}\n// HELPER FUNCTIONS\n// ================\nconst $d4ecdbf520e63dca$var$INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\nfunction $d4ecdbf520e63dca$var$base64clean(str) {\n    // Node takes equal signs as end of the Base64 encoding\n    str = str.split(\"=\")[0];\n    // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n    str = str.trim().replace($d4ecdbf520e63dca$var$INVALID_BASE64_RE, \"\");\n    // Node converts strings with length < 2 to ''\n    if (str.length < 2) return \"\";\n    // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n    while(str.length % 4 !== 0)str = str + \"=\";\n    return str;\n}\nfunction $d4ecdbf520e63dca$var$utf8ToBytes(string, units) {\n    units = units || Infinity;\n    let codePoint;\n    const length = string.length;\n    let leadSurrogate = null;\n    const bytes = [];\n    for(let i = 0; i < length; ++i){\n        codePoint = string.charCodeAt(i);\n        // is surrogate component\n        if (codePoint > 0xD7FF && codePoint < 0xE000) {\n            // last char was a lead\n            if (!leadSurrogate) {\n                // no lead yet\n                if (codePoint > 0xDBFF) {\n                    // unexpected trail\n                    if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                } else if (i + 1 === length) {\n                    // unpaired lead\n                    if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                }\n                // valid lead\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // 2 leads in a row\n            if (codePoint < 0xDC00) {\n                if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // valid surrogate pair\n            codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n        } else if (leadSurrogate) // valid bmp char, but last char was a lead\n        {\n            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        }\n        leadSurrogate = null;\n        // encode utf8\n        if (codePoint < 0x80) {\n            if ((units -= 1) < 0) break;\n            bytes.push(codePoint);\n        } else if (codePoint < 0x800) {\n            if ((units -= 2) < 0) break;\n            bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x10000) {\n            if ((units -= 3) < 0) break;\n            bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x110000) {\n            if ((units -= 4) < 0) break;\n            bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else throw new Error(\"Invalid code point\");\n    }\n    return bytes;\n}\nfunction $d4ecdbf520e63dca$var$asciiToBytes(str) {\n    const byteArray = [];\n    for(let i = 0; i < str.length; ++i)// Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n    return byteArray;\n}\nfunction $d4ecdbf520e63dca$var$utf16leToBytes(str, units) {\n    let c, hi, lo;\n    const byteArray = [];\n    for(let i = 0; i < str.length; ++i){\n        if ((units -= 2) < 0) break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n    }\n    return byteArray;\n}\nfunction $d4ecdbf520e63dca$var$base64ToBytes(str) {\n    return $034686670a8a195b$export$d622b2ad8d90c771($d4ecdbf520e63dca$var$base64clean(str));\n}\nfunction $d4ecdbf520e63dca$var$blitBuffer(src, dst, offset, length) {\n    let i;\n    for(i = 0; i < length; ++i){\n        if (i + offset >= dst.length || i >= src.length) break;\n        dst[i + offset] = src[i];\n    }\n    return i;\n}\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction $d4ecdbf520e63dca$var$isInstance(obj, type) {\n    return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;\n}\nfunction $d4ecdbf520e63dca$var$numberIsNaN(obj) {\n    // For IE11 support\n    return obj !== obj // eslint-disable-line no-self-compare\n    ;\n}\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst $d4ecdbf520e63dca$var$hexSliceLookupTable = function() {\n    const alphabet = \"0123456789abcdef\";\n    const table = new Array(256);\n    for(let i = 0; i < 16; ++i){\n        const i16 = i * 16;\n        for(let j = 0; j < 16; ++j)table[i16 + j] = alphabet[i] + alphabet[j];\n    }\n    return table;\n}();\n// Return not function with Error if BigInt not supported\nfunction $d4ecdbf520e63dca$var$defineBigIntMethod(fn) {\n    return typeof BigInt === \"undefined\" ? $d4ecdbf520e63dca$var$BufferBigIntNotDefined : fn;\n}\nfunction $d4ecdbf520e63dca$var$BufferBigIntNotDefined() {\n    throw new Error(\"BigInt not supported\");\n}\n\n\nvar $17e375e7636c3192$require$Buffer = $d4ecdbf520e63dca$export$a143d493d941bafc;\n/*!\n * @license deepcopy.js Copyright(c) 2013 sasa+1\n * https://github.com/sasaplus1/deepcopy.js\n * Released under the MIT license.\n *\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */ (function(global1, factory) {\n    $17e375e7636c3192$exports = factory();\n})($17e375e7636c3192$exports, function() {\n    \"use strict\";\n    var commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof $parcel$global !== \"undefined\" ? $parcel$global : typeof self !== \"undefined\" ? self : {};\n    function createCommonjsModule(fn, module1) {\n        return module1 = {\n            exports: {}\n        }, fn(module1, module1.exports), module1.exports;\n    }\n    var typeDetect = createCommonjsModule(function(module1, exports) {\n        (function(global1, factory) {\n            module1.exports = factory();\n        })(commonjsGlobal, function() {\n            /* !\n\t * type-detect\n\t * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n\t * MIT Licensed\n\t */ var promiseExists = typeof Promise === \"function\";\n            /* eslint-disable no-undef */ var globalObject = typeof self === \"object\" ? self : commonjsGlobal; // eslint-disable-line id-blacklist\n            var symbolExists = typeof Symbol !== \"undefined\";\n            var mapExists = typeof Map !== \"undefined\";\n            var setExists = typeof Set !== \"undefined\";\n            var weakMapExists = typeof WeakMap !== \"undefined\";\n            var weakSetExists = typeof WeakSet !== \"undefined\";\n            var dataViewExists = typeof DataView !== \"undefined\";\n            var symbolIteratorExists = symbolExists && typeof Symbol.iterator !== \"undefined\";\n            var symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== \"undefined\";\n            var setEntriesExists = setExists && typeof Set.prototype.entries === \"function\";\n            var mapEntriesExists = mapExists && typeof Map.prototype.entries === \"function\";\n            var setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\n            var mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\n            var arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === \"function\";\n            var arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\n            var stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === \"function\";\n            var stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(\"\"[Symbol.iterator]());\n            var toStringLeftSliceLength = 8;\n            var toStringRightSliceLength = -1;\n            /**\n\t * ### typeOf (obj)\n\t *\n\t * Uses `Object.prototype.toString` to determine the type of an object,\n\t * normalising behaviour across engine versions & well optimised.\n\t *\n\t * @param {Mixed} object\n\t * @return {String} object type\n\t * @api public\n\t */ function typeDetect(obj) {\n                /* ! Speed optimisation\n\t   * Pre:\n\t   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n\t   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n\t   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n\t   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n\t   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n\t   * Post:\n\t   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n\t   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n\t   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n\t   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n\t   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n\t   */ var typeofObj = typeof obj;\n                if (typeofObj !== \"object\") return typeofObj;\n                /* ! Speed optimisation\n\t   * Pre:\n\t   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n\t   * Post:\n\t   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n\t   */ if (obj === null) return \"null\";\n                /* ! Spec Conformance\n\t   * Test: `Object.prototype.toString.call(window)``\n\t   *  - Node === \"[object global]\"\n\t   *  - Chrome === \"[object global]\"\n\t   *  - Firefox === \"[object Window]\"\n\t   *  - PhantomJS === \"[object Window]\"\n\t   *  - Safari === \"[object Window]\"\n\t   *  - IE 11 === \"[object Window]\"\n\t   *  - IE Edge === \"[object Window]\"\n\t   * Test: `Object.prototype.toString.call(this)``\n\t   *  - Chrome Worker === \"[object global]\"\n\t   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n\t   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n\t   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n\t   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n\t   */ if (obj === globalObject) return \"global\";\n                /* ! Speed optimisation\n\t   * Pre:\n\t   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n\t   * Post:\n\t   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n\t   */ if (Array.isArray(obj) && (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))) return \"Array\";\n                // Not caching existence of `window` and related properties due to potential\n                // for `window` to be unset before tests in quasi-browser environments.\n                if (typeof window === \"object\" && window !== null) {\n                    /* ! Spec Conformance\n\t     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n\t     * WhatWG HTML$7.7.3 - The `Location` interface\n\t     * Test: `Object.prototype.toString.call(window.location)``\n\t     *  - IE <=11 === \"[object Object]\"\n\t     *  - IE Edge <=13 === \"[object Object]\"\n\t     */ if (typeof window.location === \"object\" && obj === window.location) return \"Location\";\n                    /* ! Spec Conformance\n\t     * (https://html.spec.whatwg.org/#document)\n\t     * WhatWG HTML$3.1.1 - The `Document` object\n\t     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n\t     *       which suggests that browsers should use HTMLTableCellElement for\n\t     *       both TD and TH elements. WhatWG separates these.\n\t     *       WhatWG HTML states:\n\t     *         > For historical reasons, Window objects must also have a\n\t     *         > writable, configurable, non-enumerable property named\n\t     *         > HTMLDocument whose value is the Document interface object.\n\t     * Test: `Object.prototype.toString.call(document)``\n\t     *  - Chrome === \"[object HTMLDocument]\"\n\t     *  - Firefox === \"[object HTMLDocument]\"\n\t     *  - Safari === \"[object HTMLDocument]\"\n\t     *  - IE <=10 === \"[object Document]\"\n\t     *  - IE 11 === \"[object HTMLDocument]\"\n\t     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n\t     */ if (typeof window.document === \"object\" && obj === window.document) return \"Document\";\n                    if (typeof window.navigator === \"object\") {\n                        /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n\t       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n\t       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n\t       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n\t       */ if (typeof window.navigator.mimeTypes === \"object\" && obj === window.navigator.mimeTypes) return \"MimeTypeArray\";\n                        /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n\t       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n\t       * Test: `Object.prototype.toString.call(navigator.plugins)``\n\t       *  - IE <=10 === \"[object MSPluginsCollection]\"\n\t       */ if (typeof window.navigator.plugins === \"object\" && obj === window.navigator.plugins) return \"PluginArray\";\n                    }\n                    if ((typeof window.HTMLElement === \"function\" || typeof window.HTMLElement === \"object\") && obj instanceof window.HTMLElement) {\n                        /* ! Spec Conformance\n\t      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n\t      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n\t      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n\t      *  - IE <=10 === \"[object HTMLBlockElement]\"\n\t      */ if (obj.tagName === \"BLOCKQUOTE\") return \"HTMLQuoteElement\";\n                        /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n\t       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n\t       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n\t       *       which suggests that browsers should use HTMLTableCellElement for\n\t       *       both TD and TH elements. WhatWG separates these.\n\t       * Test: Object.prototype.toString.call(document.createElement('td'))\n\t       *  - Chrome === \"[object HTMLTableCellElement]\"\n\t       *  - Firefox === \"[object HTMLTableCellElement]\"\n\t       *  - Safari === \"[object HTMLTableCellElement]\"\n\t       */ if (obj.tagName === \"TD\") return \"HTMLTableDataCellElement\";\n                        /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n\t       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n\t       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n\t       *       which suggests that browsers should use HTMLTableCellElement for\n\t       *       both TD and TH elements. WhatWG separates these.\n\t       * Test: Object.prototype.toString.call(document.createElement('th'))\n\t       *  - Chrome === \"[object HTMLTableCellElement]\"\n\t       *  - Firefox === \"[object HTMLTableCellElement]\"\n\t       *  - Safari === \"[object HTMLTableCellElement]\"\n\t       */ if (obj.tagName === \"TH\") return \"HTMLTableHeaderCellElement\";\n                    }\n                }\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n\t  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n\t  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n\t  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n\t  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n\t  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n\t  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n\t  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n\t  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n\t  * Post:\n\t  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n\t  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n\t  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n\t  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n\t  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n\t  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n\t  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n\t  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n\t  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n\t  */ var stringTag = symbolToStringTagExists && obj[Symbol.toStringTag];\n                if (typeof stringTag === \"string\") return stringTag;\n                var objPrototype = Object.getPrototypeOf(obj);\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n\t  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n\t  * Post:\n\t  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n\t  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n\t  */ if (objPrototype === RegExp.prototype) return \"RegExp\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n\t  * Post:\n\t  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n\t  */ if (objPrototype === Date.prototype) return \"Date\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n\t   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n\t   * Test: `Object.prototype.toString.call(Promise.resolve())``\n\t   *  - Chrome <=47 === \"[object Object]\"\n\t   *  - Edge <=20 === \"[object Object]\"\n\t   *  - Firefox 29-Latest === \"[object Promise]\"\n\t   *  - Safari 7.1-Latest === \"[object Promise]\"\n\t   */ if (promiseExists && objPrototype === Promise.prototype) return \"Promise\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n\t  * Post:\n\t  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n\t  */ if (setExists && objPrototype === Set.prototype) return \"Set\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n\t  * Post:\n\t  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n\t  */ if (mapExists && objPrototype === Map.prototype) return \"Map\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n\t  * Post:\n\t  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n\t  */ if (weakSetExists && objPrototype === WeakSet.prototype) return \"WeakSet\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n\t  * Post:\n\t  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n\t  */ if (weakMapExists && objPrototype === WeakMap.prototype) return \"WeakMap\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n\t   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n\t   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */ if (dataViewExists && objPrototype === DataView.prototype) return \"DataView\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n\t   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n\t   * Test: `Object.prototype.toString.call(new Map().entries())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */ if (mapExists && objPrototype === mapIteratorPrototype) return \"Map Iterator\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n\t   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n\t   * Test: `Object.prototype.toString.call(new Set().entries())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */ if (setExists && objPrototype === setIteratorPrototype) return \"Set Iterator\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n\t   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n\t   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */ if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) return \"Array Iterator\";\n                /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n\t   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n\t   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */ if (stringIteratorExists && objPrototype === stringIteratorPrototype) return \"String Iterator\";\n                /* ! Speed optimisation\n\t  * Pre:\n\t  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n\t  * Post:\n\t  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n\t  */ if (objPrototype === null) return \"Object\";\n                return Object.prototype.toString.call(obj).slice(toStringLeftSliceLength, toStringRightSliceLength);\n            }\n            return typeDetect;\n        });\n    });\n    const isBufferExists = typeof $17e375e7636c3192$require$Buffer !== \"undefined\";\n    const isBufferFromExists = isBufferExists && typeof $17e375e7636c3192$require$Buffer.from !== \"undefined\";\n    const isBuffer = isBufferExists ? /**\n\t     * is value is Buffer?\n\t     *\n\t     * @param {*} value\n\t     * @return {boolean}\n\t     */ function isBuffer(value) {\n        return $17e375e7636c3192$require$Buffer.isBuffer(value);\n    } : /**\n\t     * return false\n\t     *\n\t     * NOTE: for Buffer unsupported\n\t     *\n\t     * @return {boolean}\n\t     */ function isBuffer() {\n        return false;\n    };\n    const copy = isBufferFromExists ? /**\n\t     * copy Buffer\n\t     *\n\t     * @param {Buffer} value\n\t     * @return {Buffer}\n\t     */ function copy(value) {\n        return $17e375e7636c3192$require$Buffer.from(value);\n    } : isBufferExists ? /**\n\t     * copy Buffer\n\t     *\n\t     * NOTE: for old node.js\n\t     *\n\t     * @param {Buffer} value\n\t     * @return {Buffer}\n\t     */ function copy(value) {\n        return new $17e375e7636c3192$require$Buffer(value);\n    } : /**\n\t     * shallow copy\n\t     *\n\t     * NOTE: for Buffer unsupported\n\t     *\n\t     * @param {*}\n\t     * @return {*}\n\t     */ function copy(value) {\n        return value;\n    };\n    /**\n\t * detect type of value\n\t *\n\t * @param {*} value\n\t * @return {string}\n\t */ function detectType(value) {\n        // NOTE: isBuffer must execute before type-detect,\n        // because type-detect returns 'Uint8Array'.\n        if (isBuffer(value)) return \"Buffer\";\n        return typeDetect(value);\n    }\n    /**\n\t * collection types\n\t */ const collectionTypeSet = new Set([\n        \"Arguments\",\n        \"Array\",\n        \"Map\",\n        \"Object\",\n        \"Set\"\n    ]);\n    /**\n\t * get value from collection\n\t *\n\t * @param {Array|Object|Map|Set} collection\n\t * @param {string|number|symbol} key\n\t * @param {string} [type=null]\n\t * @return {*}\n\t */ function get(collection, key, type = null) {\n        const valueType = type || detectType(collection);\n        switch(valueType){\n            case \"Arguments\":\n            case \"Array\":\n            case \"Object\":\n                return collection[key];\n            case \"Map\":\n                return collection.get(key);\n            case \"Set\":\n                // NOTE: Set.prototype.keys is alias of Set.prototype.values\n                // it means key is equals value\n                return key;\n        }\n    }\n    /**\n\t * check to type string is collection\n\t *\n\t * @param {string} type\n\t */ function isCollection(type) {\n        return collectionTypeSet.has(type);\n    }\n    /**\n\t * set value to collection\n\t *\n\t * @param {Array|Object|Map|Set} collection\n\t * @param {string|number|symbol} key\n\t * @param {*} value\n\t * @param {string} [type=null]\n\t * @return {Array|Object|Map|Set}\n\t */ function set(collection, key, value, type = null) {\n        const valueType = type || detectType(collection);\n        switch(valueType){\n            case \"Arguments\":\n            case \"Array\":\n            case \"Object\":\n                collection[key] = value;\n                break;\n            case \"Map\":\n                collection.set(key, value);\n                break;\n            case \"Set\":\n                collection.add(value);\n                break;\n        }\n        return collection;\n    }\n    const freeGlobalThis = typeof globalThis !== \"undefined\" && globalThis !== null && globalThis.Object === Object && globalThis;\n    const freeGlobal = typeof $parcel$global !== \"undefined\" && $parcel$global !== null && $parcel$global.Object === Object && $parcel$global;\n    const freeSelf = typeof self !== \"undefined\" && self !== null && self.Object === Object && self;\n    const globalObject = freeGlobalThis || freeGlobal || freeSelf || Function(\"return this\")();\n    /**\n\t * copy ArrayBuffer\n\t *\n\t * @param {ArrayBuffer} value\n\t * @return {ArrayBuffer}\n\t */ function copyArrayBuffer(value) {\n        return value.slice(0);\n    }\n    /**\n\t * copy Boolean\n\t *\n\t * @param {Boolean} value\n\t * @return {Boolean}\n\t */ function copyBoolean(value) {\n        return new Boolean(value.valueOf());\n    }\n    /**\n\t * copy DataView\n\t *\n\t * @param {DataView} value\n\t * @return {DataView}\n\t */ function copyDataView(value) {\n        // TODO: copy ArrayBuffer?\n        return new DataView(value.buffer);\n    }\n    /**\n\t * copy Buffer\n\t *\n\t * @param {Buffer} value\n\t * @return {Buffer}\n\t */ function copyBuffer(value) {\n        return copy(value);\n    }\n    /**\n\t * copy Date\n\t *\n\t * @param {Date} value\n\t * @return {Date}\n\t */ function copyDate(value) {\n        return new Date(value.getTime());\n    }\n    /**\n\t * copy Number\n\t *\n\t * @param {Number} value\n\t * @return {Number}\n\t */ function copyNumber(value) {\n        return new Number(value);\n    }\n    /**\n\t * copy RegExp\n\t *\n\t * @param {RegExp} value\n\t * @return {RegExp}\n\t */ function copyRegExp(value) {\n        return new RegExp(value.source, value.flags);\n    }\n    /**\n\t * copy String\n\t *\n\t * @param {String} value\n\t * @return {String}\n\t */ function copyString(value) {\n        return new String(value);\n    }\n    /**\n\t * copy TypedArray\n\t *\n\t * @param {*} value\n\t * @return {*}\n\t */ function copyTypedArray(value, type) {\n        const typedArray = globalObject[type];\n        if (typedArray.from) return globalObject[type].from(value);\n        return new globalObject[type](value);\n    }\n    /**\n\t * shallow copy\n\t *\n\t * @param {*} value\n\t * @return {*}\n\t */ function shallowCopy(value) {\n        return value;\n    }\n    /**\n\t * get empty Array\n\t *\n\t * @return {Array}\n\t */ function getEmptyArray() {\n        return [];\n    }\n    /**\n\t * get empty Map\n\t *\n\t * @return {Map}\n\t */ function getEmptyMap() {\n        return new Map();\n    }\n    /**\n\t * get empty Object\n\t *\n\t * @return {Object}\n\t */ function getEmptyObject() {\n        return {};\n    }\n    /**\n\t * get empty Set\n\t *\n\t * @return {Set}\n\t */ function getEmptySet() {\n        return new Set();\n    }\n    var copyMap = new Map([\n        // deep copy\n        [\n            \"ArrayBuffer\",\n            copyArrayBuffer\n        ],\n        [\n            \"Boolean\",\n            copyBoolean\n        ],\n        [\n            \"Buffer\",\n            copyBuffer\n        ],\n        [\n            \"DataView\",\n            copyDataView\n        ],\n        [\n            \"Date\",\n            copyDate\n        ],\n        [\n            \"Number\",\n            copyNumber\n        ],\n        [\n            \"RegExp\",\n            copyRegExp\n        ],\n        [\n            \"String\",\n            copyString\n        ],\n        // typed arrays\n        // TODO: pass bound function\n        [\n            \"Float32Array\",\n            copyTypedArray\n        ],\n        [\n            \"Float64Array\",\n            copyTypedArray\n        ],\n        [\n            \"Int16Array\",\n            copyTypedArray\n        ],\n        [\n            \"Int32Array\",\n            copyTypedArray\n        ],\n        [\n            \"Int8Array\",\n            copyTypedArray\n        ],\n        [\n            \"Uint16Array\",\n            copyTypedArray\n        ],\n        [\n            \"Uint32Array\",\n            copyTypedArray\n        ],\n        [\n            \"Uint8Array\",\n            copyTypedArray\n        ],\n        [\n            \"Uint8ClampedArray\",\n            copyTypedArray\n        ],\n        // shallow copy\n        [\n            \"Array Iterator\",\n            shallowCopy\n        ],\n        [\n            \"Map Iterator\",\n            shallowCopy\n        ],\n        [\n            \"Promise\",\n            shallowCopy\n        ],\n        [\n            \"Set Iterator\",\n            shallowCopy\n        ],\n        [\n            \"String Iterator\",\n            shallowCopy\n        ],\n        [\n            \"function\",\n            shallowCopy\n        ],\n        [\n            \"global\",\n            shallowCopy\n        ],\n        // NOTE: WeakMap and WeakSet cannot get entries\n        [\n            \"WeakMap\",\n            shallowCopy\n        ],\n        [\n            \"WeakSet\",\n            shallowCopy\n        ],\n        // primitives\n        [\n            \"boolean\",\n            shallowCopy\n        ],\n        [\n            \"null\",\n            shallowCopy\n        ],\n        [\n            \"number\",\n            shallowCopy\n        ],\n        [\n            \"string\",\n            shallowCopy\n        ],\n        [\n            \"symbol\",\n            shallowCopy\n        ],\n        [\n            \"undefined\",\n            shallowCopy\n        ],\n        // collections\n        // NOTE: return empty value, because recursively copy later.\n        [\n            \"Arguments\",\n            getEmptyArray\n        ],\n        [\n            \"Array\",\n            getEmptyArray\n        ],\n        [\n            \"Map\",\n            getEmptyMap\n        ],\n        [\n            \"Object\",\n            getEmptyObject\n        ],\n        [\n            \"Set\",\n            getEmptySet\n        ]\n    ]);\n    /**\n\t * no operation\n\t */ function noop() {}\n    /**\n\t * copy value\n\t *\n\t * @param {*} value\n\t * @param {string} [type=null]\n\t * @param {Function} [customizer=noop]\n\t * @return {*}\n\t */ function copy$1(value, type = null, customizer = noop) {\n        if (arguments.length === 2 && typeof type === \"function\") {\n            customizer = type;\n            type = null;\n        }\n        const valueType = type || detectType(value);\n        const copyFunction = copyMap.get(valueType);\n        if (valueType === \"Object\") {\n            const result = customizer(value, valueType);\n            if (result !== undefined) return result;\n        }\n        // NOTE: TypedArray needs pass type to argument\n        return copyFunction ? copyFunction(value, valueType) : value;\n    }\n    /**\n\t * deepcopy function\n\t *\n\t * @param {*} value\n\t * @param {Object|Function} [options]\n\t * @return {*}\n\t */ function deepcopy(value, options = {}) {\n        if (typeof options === \"function\") options = {\n            customizer: options\n        };\n        const { customizer: // TODO: before/after customizer\n        customizer } = options;\n        const valueType = detectType(value);\n        if (!isCollection(valueType)) return recursiveCopy(value, null, null, null);\n        const copiedValue = copy$1(value, valueType, customizer);\n        const references = new WeakMap([\n            [\n                value,\n                copiedValue\n            ]\n        ]);\n        const visited = new WeakSet([\n            value\n        ]);\n        return recursiveCopy(value, copiedValue, references, visited);\n    }\n    /**\n\t * recursively copy\n\t *\n\t * @param {*} value target value\n\t * @param {*} clone clone of value\n\t * @param {WeakMap} references visited references of clone\n\t * @param {WeakSet} visited visited references of value\n\t * @param {Function} customizer user customize function\n\t * @return {*}\n\t */ function recursiveCopy(value, clone, references, visited, customizer) {\n        const type = detectType(value);\n        const copiedValue = copy$1(value, type);\n        // return if not a collection value\n        if (!isCollection(type)) return copiedValue;\n        let keys;\n        switch(type){\n            case \"Arguments\":\n            case \"Array\":\n                keys = Object.keys(value);\n                break;\n            case \"Object\":\n                keys = Object.keys(value);\n                keys.push(...Object.getOwnPropertySymbols(value));\n                break;\n            case \"Map\":\n            case \"Set\":\n                keys = value.keys();\n                break;\n        }\n        // walk within collection with iterator\n        for (let collectionKey of keys){\n            const collectionValue = get(value, collectionKey, type);\n            if (visited.has(collectionValue)) // for [Circular]\n            set(clone, collectionKey, references.get(collectionValue), type);\n            else {\n                const collectionValueType = detectType(collectionValue);\n                const copiedCollectionValue = copy$1(collectionValue, collectionValueType);\n                // save reference if value is collection\n                if (isCollection(collectionValueType)) {\n                    references.set(collectionValue, copiedCollectionValue);\n                    visited.add(collectionValue);\n                }\n                set(clone, collectionKey, recursiveCopy(collectionValue, copiedCollectionValue, references, visited), type);\n            }\n        }\n        // TODO: isSealed/isFrozen/isExtensible\n        return clone;\n    }\n    return deepcopy;\n});\n\n\nconst $e957c9091d1131ca$export$1711a14a912bd240 = {\n    \" \": \"black\",\n    \"#\": \"silver\",\n    \"%\": \"charcoal\",\n    \\u00DF: \"silver blue\",\n    \"\\xa1\": \"silver blue\",\n    \"\\xa7\": \"silver blue\",\n    \"\\xb6\": \"silver blue\",\n    \\u00DE: \"silver blue\",\n    J: \"charcoal\",\n    \"~\": \"charcoal\",\n    \".\": \"charcoal\",\n    \":\": \"charcoal\",\n    \"\\u2022\": \"charcoal\",\n    \";\": \"charcoal\",\n    $: \"white\",\n    \"\\xb0\": \"red\",\n    \"\\xae\": \"red\",\n    \\u00D8: \"red\",\n    \"\\xb9\": \"silver green\",\n    \"\\xb2\": \"silver green\",\n    \"\\xb3\": \"silver green\",\n    \"@\": \"white\"\n};\nconst $e957c9091d1131ca$export$74a9a1cf7cd43eee = [\n    \"\\xdf\",\n    \"\\xa1\",\n    \"\\xa7\",\n    \"\\xb6\",\n    \"\\xde\"\n];\nconst $e957c9091d1131ca$export$de708a07d1cd94be = [\n    \" \",\n    \" \",\n    \" \",\n    \" \",\n    \":\",\n    \":\",\n    \":\",\n    \":\",\n    \":\",\n    \":\",\n    \"\\u2022\",\n    \"\\u2022\",\n    \";\",\n    \"\\xb9\",\n    \"\\xb0\",\n    \"\\xb0\"\n];\nconst $e957c9091d1131ca$export$fbbd7dfed5e83db7 = [\n    \"%\",\n    \"#\"\n];\nconst $e957c9091d1131ca$export$75d31e339e0d6666 = [\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\"\n];\nconst $e957c9091d1131ca$export$9a3108174d848595 = {\n    A: [\n        1,\n        1\n    ],\n    B: [\n        2,\n        1\n    ],\n    C: [\n        1,\n        2\n    ],\n    D: [\n        2,\n        2\n    ],\n    E: [\n        3,\n        1\n    ],\n    F: [\n        1,\n        3\n    ],\n    V: [\n        0,\n        0\n    ],\n    W: [\n        1,\n        1\n    ]\n};\nconst $e957c9091d1131ca$export$9a6b9851e25ae770 = 7;\nconst $e957c9091d1131ca$export$60e0b5ee161e4f4e = 5;\nconst $e957c9091d1131ca$export$38bb1a704f957833 = {\n    A: [\n        [\n            \"###J###\",\n            \"#  J  #\",\n            \"JJ   JJ\",\n            \"#  J  #\",\n            \"###J###\"\n        ],\n        [\n            \"##.J.##\",\n            \"#..J..#\",\n            \"JJ   JJ\",\n            \"#..J...\",\n            \"###J.##\"\n        ],\n        [\n            \"JJJJ##J\",\n            \"J##  #J\",\n            \"J#   #J\",\n            \"J## ##J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J  ~  J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"J#.JJ##\",\n            \"J #.  #\",\n            \"J ... J\",\n            \"J #.  #\",\n            \"J#.JJ##\"\n        ],\n        [\n            \"JJ#J#JJ\",\n            \"### ###\",\n            \"J     J\",\n            \"###~###\",\n            \"JJ###JJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  ###J\",\n            \"J### #J\",\n            \"J#   #J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"###JJJJ\",\n            \"#     J\",\n            \"### ###\",\n            \"J     #\",\n            \"JJJJ###\"\n        ],\n        [\n            \"##JJJJJ\",\n            \"# #   J\",\n            \"J ####J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"J##J##J\",\n            \"#\\xd8    #\",\n            \"J ::: J\",\n            \"#    \\xb2#\",\n            \"J##J##J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J##\\xb0##J\",\n            \"J##\\xb0##J\",\n            \"J##\\xb0\\xb0\\xb0J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J######\",\n            \"J#    J\",\n            \"J#### J\",\n            \"JJJJ#JJ\"\n        ],\n        [\n            \"J##J##J\",\n            \"J#~ ~#J\",\n            \"J     J\",\n            \"J#~  #J\",\n            \"J##J##J\"\n        ],\n        [\n            \"##%J###\",\n            \"#%  #.#\",\n            \"J     J\",\n            \"#     %\",\n            \"###J#%#\"\n        ],\n        [\n            \"###J%%%\",\n            \"#   % #\",\n            \"J  %  J\",\n            \"%%%   #\",\n            \"%##J###\"\n        ]\n    ],\n    C: [\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J     J\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"J     J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"###J###\",\n            \"# # # J\",\n            \"J # # J\",\n            \"J # # J\",\n            \"J # # J\",\n            \"J # # J\",\n            \"J # # J\",\n            \"J ### J\",\n            \"#     J\",\n            \"###JJJJ\"\n        ],\n        [\n            \"###JJJJ\",\n            \"###   J\",\n            \"J     J\",\n            \"#     #\",\n            \"# #   #\",\n            \"# #####\",\n            \"# #####\",\n            \"J     J\",\n            \"# #   J\",\n            \"###JJJJ\"\n        ],\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J     J\",\n            \"#  %%%#\",\n            \"#  \\xae~%#\",\n            \"#   \\xae%#\",\n            \"#  % %#\",\n            \"J     J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J ### J\",\n            \"# #~# #\",\n            \"#     #\",\n            \"#   \\xae #\",\n            \"##   ##\",\n            \"J     J\",\n            \"#~# #~#\",\n            \"###J###\"\n        ],\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J     J\",\n            \"##### #\",\n            \"J   # #\",\n            \"J   # #\",\n            \"##### #\",\n            \"J     J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J     J\",\n            \"# # # #\",\n            \"J     J\",\n            \"J     J\",\n            \"# # # #\",\n            \"J     J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"##JJJ##\",\n            \"# # # #\",\n            \"J # # J\",\n            \"# # # J\",\n            \"# . #\\xb9#\",\n            \"# #####\",\n            \"# #   #\",\n            \"J #~  J\",\n            \"# #   #\",\n            \"#######\"\n        ],\n        [\n            \"JJJJ###\",\n            \"J    ##\",\n            \"J    #J\",\n            \"#....##\",\n            \"#     #\",\n            \"#~#   #\",\n            \"###   #\",\n            \"J#    J\",\n            \"##    J\",\n            \"###JJJJ\"\n        ],\n        [\n            \"JJ#J#JJ\",\n            \"### ###\",\n            \"J     J\",\n            \"##  ~##\",\n            \"J#   #J\",\n            \"J#   #J\",\n            \"##\\xb0  ##\",\n            \"J     J\",\n            \"### ###\",\n            \"JJ#J#JJ\"\n        ]\n    ],\n    B: [\n        [\n            \"###J######J###\",\n            \"#            #\",\n            \"J            J\",\n            \"#            #\",\n            \"###J######J###\"\n        ],\n        [\n            \"........##J###\",\n            \"#......#     #\",\n            \"JJ....#      J\",\n            \"#....#       #\",\n            \"....######J###\"\n        ],\n        [\n            \"###J#JJJJ#J###\",\n            \"# ~ #    # ..#\",\n            \"J   #    #.. J\",\n            \"# ~ #    #.. #\",\n            \"###J#JJJJ#J###\"\n        ],\n        [\n            \"###J######J###\",\n            \"#\\xb0\\xb0\\xb0#        #\",\n            \"J\\xb0\\xb0#         J\",\n            \"###        ###\",\n            \"###J######J#JJ\"\n        ],\n        [\n            \"JJJJ######JJJJ\",\n            \"J            J\",\n            \"J            J\",\n            \"### ####\\xb9#   J\",\n            \"###J######JJJJ\"\n        ],\n        [\n            \"###J######J###\",\n            \"#      #~# #~#\",\n            \"J            J\",\n            \"#            #\",\n            \"###J######J###\"\n        ],\n        [\n            \"###J######J###\",\n            \"#            #\",\n            \"#  ~   ~     J\",\n            \"#            #\",\n            \"##########J###\"\n        ],\n        [\n            \"JJJJ##########\",\n            \"J   #  #  #  #\",\n            \"J   #  #  #  #\",\n            \"J  ##  #  #  #\",\n            \"JJJJJJJ#JJ#JJJ\"\n        ],\n        [\n            \"###J######J#JJ\",\n            \"#          # J\",\n            \"J         #  J\",\n            \"#        #   J\",\n            \"###J#####JJJJJ\"\n        ],\n        [\n            \"JJJJJJJJJJJJJJ\",\n            \"#        ... #\",\n            \"#      ......#\",\n            \"# ############\",\n            \"JJJJJJJJJJJJJJ\"\n        ],\n        [\n            \"####JJ####J###\",\n            \"J  #  #      #\",\n            \"J###  #      J\",\n            \"#     #      #\",\n            \"JJJJJJ####J###\"\n        ],\n        [\n            \"###J......J###\",\n            \"#            #\",\n            \"J \\xb0 \\xb0 \\xb0\\xb0 \\xb0 \\xb0 J\",\n            \"#            #\",\n            \"###J......J###\"\n        ]\n    ],\n    D: [\n        [\n            \"###J######J###\",\n            \"#            #\",\n            \"J            J\",\n            \"#            #\",\n            \"#            #\",\n            \"#            #\",\n            \"#            #\",\n            \"J            J\",\n            \"#            #\",\n            \"###J######J###\"\n        ],\n        [\n            \"###JJJJJJJJ###\",\n            \"#            #\",\n            \"J       #    J\",\n            \"J   ....#.   J\",\n            \"J ###########J\",\n            \"J  # ...#... J\",\n            \"J  # ...#.   J\",\n            \"J  #   .#    J\",\n            \"#       #    #\",\n            \"###JJJJJJJJ###\"\n        ],\n        [\n            \"###J######J###\",\n            \"#      #     #\",\n            \"J      #     J\",\n            \"#     ##     #\",\n            \"#            #\",\n            \"#         ####\",\n            \"# ###     #  #\",\n            \"J   #        J\",\n            \"#            #\",\n            \"###J######J###\"\n        ],\n        [\n            \"JJJJ######JJJJ\",\n            \"J            J\",\n            \"J #####....  J\",\n            \"# #   #####  J\",\n            \"# ##      ####\",\n            \"#  #         #\",\n            \"#  #       ###\",\n            \"J  #   ##### J\",\n            \"J  #.###     J\",\n            \"JJJJJJJJJJJJJJ\"\n        ],\n        [\n            \"##########JJJJ\",\n            \"#     ..  #  J\",\n            \"# .   ...  # J\",\n            \"# .         #J\",\n            \"# ## \\xd8 ...   #\",\n            \"# #~    ..   #\",\n            \"# ##~#       #\",\n            \"#  ###  .    J\",\n            \"#     ...    #\",\n            \"##########J###\"\n        ],\n        [\n            \"JJJJJJJJJJJJJJ\",\n            \"J  ##        J\",\n            \"J  ##        J\",\n            \"J## #        J\",\n            \"J###.##      J\",\n            \"J  #...##    J\",\n            \"J   #....#   J\",\n            \"J  #.#....#  J\",\n            \"J  ## #### ##J\",\n            \"JJJJJJJJJJJJJJ\"\n        ],\n        [\n            \"###J######J###\",\n            \"#%%J%%%%%%J%##\",\n            \"JJJ#\\xae\\xae\\xae\\xae\\xae\\xae#JJJ\",\n            \"#%%\\xae\\xae%%\\xae\\xae\\xae\\xae%%#\",\n            \"#%\\xae\\xae\\xae  %\\xae\\xae\\xae\\xae%#\",\n            \"#%\\xae\\xae\\xae \\xb3%\\xae\\xae\\xae\\xae%#\",\n            \"#%%\\xae\\xae%%\\xae\\xae\\xae\\xae% #\",\n            \"JJ %\\xae\\xae\\xae\\xae\\xae\\xae% JJ\",\n            \"#  J%%%%%%J  #\",\n            \"###J######J###\"\n        ]\n    ],\n    E: [\n        [\n            \"%J%J######JJJJJJJJ%%%\",\n            \"%J%      #       %  %\",\n            \"##%%%%%  #       %  J\",\n            \"#                %  %\",\n            \"###J######JJJJJJJJ%%%\"\n        ],\n        [\n            \"###J######J######J###\",\n            \"#                   #\",\n            \"J                   J\",\n            \"#                   #\",\n            \"###J######J######J###\"\n        ],\n        [\n            \"###J##.........##J###\",\n            \"#      .......      #\",\n            \"J     ..  ....      J\",\n            \"#   ....   .....  ..#\",\n            \"###J######J######J###\"\n        ],\n        [\n            \"###JJJJJJJJ######J###\",\n            \"#              ~#   #\",\n            \"J          ######   J\",\n            \"#                   #\",\n            \"###J######J######J###\"\n        ],\n        [\n            \"JJ#JJJJJ##JJJJ###JJ#J\",\n            \"J #   # #     # #   J\",\n            \"J #####         ####J\",\n            \"J   #   #     #     J\",\n            \"JJJJ#JJJ##JJJJ###JJ##\"\n        ],\n        [\n            \"###J######J######J###\",\n            \"#      #   #    ###\\xb0#\",\n            \"J  \\xb0  #~   #        J\",\n            \"# ###  #\\xb2  # \\xb0      #\",\n            \"###J######J######J###\"\n        ],\n        [\n            \"###J#JJJJJJJJJJJ#J###\",\n            \"#    #         #    #\",\n            \"J     #       # #   J\",\n            \"#      #     #   #  #\",\n            \"###JJJJJ##J##JJJJJ###\"\n        ],\n        [\n            \"###J%%%%%%J%%%%%%J###\",\n            \"#   %\\xae\\xae\\xae\\xae% #\\xae\\xae\\xae\\xae%   #\",\n            \"J   % \\xae\\xae\\xae% % \\xb2\\xae\\xae%   J\",\n            \"#   # \\xb2\\xae\\xae% %\\xae\\xae\\xae\\xae%   #\",\n            \"###J%%%%%%J%%%%%%J###\"\n        ],\n        [\n            \"###J######J######J###\",\n            \"#       ~#J#~  \\xb0.J..#\",\n            \"J             \\xb0\\xb0\\xb0..JJ\",\n            \"#               #J#.#\",\n            \"###J######J######J###\"\n        ]\n    ],\n    F: [\n        [\n            \"###J###\",\n            \"#     #\",\n            \"J     J\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"J     J\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"#     #\",\n            \"J     J\",\n            \"#     #\",\n            \"###J###\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J     J\",\n            \"J     J\",\n            \"J.    J\",\n            \"J..   J\",\n            \"J ..  J\",\n            \"J  .. J\",\n            \"J   ..J\",\n            \"J    .#\",\n            \"J    ##\",\n            \"J   # #\",\n            \"J  #  #\",\n            \"J #   J\",\n            \"J~    #\",\n            \"###J###\"\n        ],\n        [\n            \"#JJJJJ#\",\n            \"#.....#\",\n            \"J     J\",\n            \"#.....#\",\n            \"#     #\",\n            \"#.....#\",\n            \"#     #\",\n            \"#     J\",\n            \"#     #\",\n            \"#.....#\",\n            \"#     #\",\n            \"#.....#\",\n            \"J     #\",\n            \"#     #\",\n            \"#######\"\n        ],\n        [\n            \"###J###\",\n            \"#~    #\",\n            \"J     J\",\n            \"#  # .#\",\n            \"#  # .#\",\n            \"#    .#\",\n            \"#    .#\",\n            \"J    .J\",\n            \"# # #.#\",\n            \"#    .#\",\n            \"# ###.J\",\n            \"J   #.J\",\n            \"J   #.J\",\n            \"J   #.J\",\n            \"JJJJ##J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J#### J\",\n            \"J#\\xb0\\xb0# J\",\n            \"J#\\xb0   J\",\n            \"J#### J\",\n            \"J     J\",\n            \"J ####J\",\n            \"J #\\xb0  J\",\n            \"J #\\xb0\\xb0#J\",\n            \"J ####J\",\n            \"J     J\",\n            \"J# ## J\",\n            \"J# \\xb0# J\",\n            \"J#\\xb0\\xb0# J\",\n            \"J####JJ\"\n        ],\n        [\n            \"###JJJJ\",\n            \"#     J\",\n            \"##    J\",\n            \"J#### #\",\n            \"J##   #\",\n            \"J#    #\",\n            \"##    #\",\n            \"J     J\",\n            \"#  ####\",\n            \"# ###JJ\",\n            \"#   #JJ\",\n            \"#   ###\",\n            \"J     J\",\n            \"J     #\",\n            \"JJJJ###\"\n        ],\n        [\n            \"JJJJ###\",\n            \"J  #  #\",\n            \"J #   J\",\n            \"# ### #\",\n            \"#...# #\",\n            \"#..#  #\",\n            \"###  ##\",\n            \"J   # J\",\n            \"#   # #\",\n            \"J#  # #\",\n            \"J # # #\",\n            \"### # #\",\n            \"J   # J\",\n            \"J    ##\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"%%%#%%%\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"# \\xb0 \\xb0 #\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"% \\xb0 \\xb0 %\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"% \\xb0 \\xb0 %\",\n            \"#\\xb0 \\xb0 \\xb0#\",\n            \"% \\xb0 \\xb0 %\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"% \\xb0 \\xb0 %\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"# \\xb0 \\xb0 #\",\n            \"%\\xb0 \\xb0 \\xb0%\",\n            \"%%%#%%%\"\n        ]\n    ],\n    V: [\n        [\n            \"JJJJJJJ\",\n            \"J     J\",\n            \"J     J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ]\n    ],\n    W: [\n        [\n            \"JJJJJJJ\",\n            \"J  ## J\",\n            \"J  #. J\",\n            \"J  .  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J.    J\",\n            \"J...  J\",\n            \"J.    J\",\n            \"J.JJJJJ\"\n        ],\n        [\n            \"JJ.JJJJ\",\n            \"J   ..J\",\n            \"J #   J\",\n            \"J   #~#\",\n            \"JJJJ###\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J #   J\",\n            \"J  ~  J\",\n            \"J   # J\",\n            \"JJJJJ#J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J# .  J\",\n            \"J \\xd8   J\",\n            \"J# #  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J%%%%%J\",\n            \"J%\\xae\\xae\\xae#J\",\n            \"J%%%%#J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"####  J\",\n            \"#     J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J ... J\",\n            \"J. \\xb2 .J\",\n            \"J.....J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"J~~~~~J\",\n            \"J   ~ J\",\n            \"J  ~  J\",\n            \"J ~   J\",\n            \"J~~~~~J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J\\xb0J  J\",\n            \"J     J\",\n            \"J  J\\xb0J#\",\n            \"JJ#J#J#\"\n        ],\n        [\n            \".......\",\n            \". ..  .\",\n            \". .   .\",\n            \".     .\",\n            \".......\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J%.   J\",\n            \"J..   J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J   \\xb0 J\",\n            \"J   \\xae J\",\n            \"J \\xb0   J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJ\\xb9JJJ\",\n            \"\\xb9     \\xb9\",\n            \"J     J\",\n            \"J     J\",\n            \"J\\xb9JJJ\\xb9J\"\n        ],\n        [\n            \".#JJJ#.\",\n            \"##   ##\",\n            \"J     J\",\n            \"J     J\",\n            \".JJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"###   J\",\n            \"JJ    J\",\n            \"#  ####\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  ## J\",\n            \"J  #. J\",\n            \"J  .  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J.    J\",\n            \"J...  J\",\n            \"J.    J\",\n            \"J.JJJJJ\"\n        ],\n        [\n            \"JJ.JJJJ\",\n            \"J   ..J\",\n            \"J #   J\",\n            \"J   #~#\",\n            \"JJJJ###\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"####  J\",\n            \"#     J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \".......\",\n            \". ..  .\",\n            \". .   .\",\n            \".     .\",\n            \".......\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \".#JJJ#.\",\n            \"##   ##\",\n            \"J     J\",\n            \"J     J\",\n            \".JJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"###   J\",\n            \"JJ    J\",\n            \"#  ####\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  ## J\",\n            \"J  #. J\",\n            \"J  .  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J.    J\",\n            \"J...  J\",\n            \"J.    J\",\n            \"J.JJJJJ\"\n        ],\n        [\n            \"JJ.JJJJ\",\n            \"J   ..J\",\n            \"J #   J\",\n            \"J   #~#\",\n            \"JJJJ###\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J #   J\",\n            \"J  ~  J\",\n            \"J   # J\",\n            \"JJJJJ#J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J# .  J\",\n            \"J \\xd8   J\",\n            \"J# #  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J%%%%%J\",\n            \"J%\\xae\\xae\\xae#J\",\n            \"J%%%%#J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"####  J\",\n            \"#     J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J ... J\",\n            \"J. \\xb2 .J\",\n            \"J.....J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"J~~~~~J\",\n            \"J   ~ J\",\n            \"J  ~  J\",\n            \"J ~   J\",\n            \"J~~~~~J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J\\xb0J  J\",\n            \"J     J\",\n            \"J  J\\xb0J#\",\n            \"JJ#J#J#\"\n        ],\n        [\n            \".......\",\n            \". ..  .\",\n            \". .   .\",\n            \".     .\",\n            \".......\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J%.   J\",\n            \"J..   J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J   \\xb0 J\",\n            \"J   \\xae J\",\n            \"J \\xb0   J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJ\\xb9JJJ\",\n            \"\\xb9     \\xb9\",\n            \"J     J\",\n            \"J     J\",\n            \"J\\xb9JJJ\\xb9J\"\n        ],\n        [\n            \".#JJJ#.\",\n            \"##   ##\",\n            \"J     J\",\n            \"J     J\",\n            \".JJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"###   J\",\n            \"JJ    J\",\n            \"#  ####\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  ## J\",\n            \"J  #. J\",\n            \"J  .  J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J.    J\",\n            \"J...  J\",\n            \"J.    J\",\n            \"J.JJJJJ\"\n        ],\n        [\n            \"JJ.JJJJ\",\n            \"J   ..J\",\n            \"J #   J\",\n            \"J   #~#\",\n            \"JJJJ###\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"JJ####J\",\n            \"J #   J\",\n            \"J##   J\",\n            \"J .   J\",\n            \"JJ#JJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"J  .  J\",\n            \"J  .. J\",\n            \"J.. ..J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \".  ###J\",\n            \".     J\",\n            \".. J  J\",\n            \"...J.JJ\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J #   J\",\n            \"J # # J\",\n            \"J.#.###\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ#.\",\n            \"J#...##\",\n            \"J.   .J\",\n            \"J.   #J\",\n            \"J#JJJJJ\"\n        ],\n        [\n            \"J#JJJJJ\",\n            \"J#    J\",\n            \"J#    J\",\n            \"J#.....\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJ.J\",\n            \"J     J\",\n            \"J.    J\",\n            \"..   #J\",\n            \"J.JJJ.J\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"...JJJJ\",\n            \"....  J\",\n            \"..... J\",\n            \"......J\",\n            \".......\"\n        ],\n        [\n            \"JJ..JJJ\",\n            \"J#..# J\",\n            \"J .# .J\",\n            \"J   ..J\",\n            \"JJJ####\"\n        ],\n        [\n            \"##JJJJ#\",\n            \"J ..  J\",\n            \"J ..  J\",\n            \"#    ##\",\n            \"#JJJJ##\"\n        ],\n        [\n            \"JJ#JJJJ\",\n            \"J.... J\",\n            \"J   . J\",\n            \"J#    J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"####  J\",\n            \"#     J\",\n            \"J     J\",\n            \"JJJJJJJ\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \"#J#J#JJ\",\n            \"#J J  J\",\n            \"J    .J\",\n            \"J  . ..\",\n            \"JJ.....\"\n        ],\n        [\n            \"J.....J\",\n            \"J   . J\",\n            \"J  .  J\",\n            \"J .   J\",\n            \"J.....J\"\n        ],\n        [\n            \".......\",\n            \". ..  .\",\n            \". .   .\",\n            \".     .\",\n            \".......\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \"###JJJJ\",\n            \"J ....J\",\n            \"J .   J\",\n            \"J .   #\",\n            \"JJ.JJJ#\"\n        ],\n        [\n            \"JJ...JJ\",\n            \"... ...\",\n            \"J ... J\",\n            \"J  .  J\",\n            \"J.....J\"\n        ],\n        [\n            \".#JJJ#.\",\n            \"##   ##\",\n            \"J     J\",\n            \"J     J\",\n            \".JJJJJJ\"\n        ],\n        [\n            \"JJJJJJJ\",\n            \"###   J\",\n            \"JJ    J\",\n            \"#  ####\",\n            \"JJJJJJJ\"\n        ]\n    ]\n};\n\n\nfunction $dbf2edd1943e9287$export$eba8049fb5020b81(n) {\n    return Math.floor(Math.sqrt(n));\n}\nfunction $dbf2edd1943e9287$export$e94af740078997a7(stats) {\n    return 40 + stats.body * $dbf2edd1943e9287$export$eba8049fb5020b81(stats.level);\n}\nfunction $dbf2edd1943e9287$export$eb8e4ecb41ff2293(stats) {\n    // roll 256 below this number\n    return $dbf2edd1943e9287$export$eba8049fb5020b81(stats.body + stats.level);\n}\nfunction $dbf2edd1943e9287$export$b33fcd447d1062f0(stats) {\n    return Math.max(1, $dbf2edd1943e9287$export$eba8049fb5020b81(stats.body));\n}\nfunction $dbf2edd1943e9287$export$7e1308a5071eab31(stats) {\n    return stats.body;\n}\nconst $dbf2edd1943e9287$export$496b6b7903fe761a = $dbf2edd1943e9287$export$eb8e4ecb41ff2293;\nfunction $dbf2edd1943e9287$export$b5c77fae92a27f45(stats) {\n    return Math.max(1, $dbf2edd1943e9287$export$eba8049fb5020b81($dbf2edd1943e9287$export$7e1308a5071eab31(stats)));\n}\nfunction $dbf2edd1943e9287$export$ba6f8680e62a84a4(stats) {\n    return stats.mind;\n}\nfunction $dbf2edd1943e9287$export$9d69da0dc35454d1(stats) {\n    // roll 256 below this number\n    return $dbf2edd1943e9287$export$eba8049fb5020b81(stats.mind + stats.level);\n}\nfunction $dbf2edd1943e9287$export$241671dc1c38dbda(stats) {\n    return Math.max(1, $dbf2edd1943e9287$export$eba8049fb5020b81($dbf2edd1943e9287$export$ba6f8680e62a84a4(stats)));\n}\nfunction $dbf2edd1943e9287$export$5a61a623d64b32df(attacker, target) {\n    /*\r\n  rng 256 < 224 + attack's acc modifier + attacker's eq/status acc mods\r\n              - opponent's eq/status def mods\r\n              - opponent's spirit\r\n  */ // TODO\n    const accuracy = 0;\n    const defence = 0;\n    return 224 + accuracy - defence - target.spirit;\n}\nfunction $dbf2edd1943e9287$export$5907fb05e8ebe4d0(attacker, target) {\n    /*\r\n  weapon's base damage +\r\n  rng attack's damage + square root of body + attacker's eq/status dam mods\r\n                      - opponent's eq/status dam reduction mods\r\n  */ // TODO\n    const weapon = 0;\n    const damage = 0;\n    const reduction = 0;\n    return weapon + damage + $dbf2edd1943e9287$export$eba8049fb5020b81(attacker.body) - reduction;\n}\nfunction $dbf2edd1943e9287$export$611bbe96c1f7a467(me, them) {\n    return {\n        MaxHP: $dbf2edd1943e9287$export$e94af740078997a7(me),\n        HPRegenChance: $dbf2edd1943e9287$export$eb8e4ecb41ff2293(me),\n        HPRegenAmount: $dbf2edd1943e9287$export$b33fcd447d1062f0(me),\n        MaxStamina: $dbf2edd1943e9287$export$7e1308a5071eab31(me),\n        StaminaRegenChance: $dbf2edd1943e9287$export$496b6b7903fe761a(me),\n        StaminaRegenAmount: $dbf2edd1943e9287$export$b5c77fae92a27f45(me),\n        MaxMana: $dbf2edd1943e9287$export$ba6f8680e62a84a4(me),\n        ManaRegenChance: $dbf2edd1943e9287$export$9d69da0dc35454d1(me),\n        ManaRegenAmount: $dbf2edd1943e9287$export$241671dc1c38dbda(me),\n        HitChance: $dbf2edd1943e9287$export$5a61a623d64b32df(me, them),\n        HitDamage: $dbf2edd1943e9287$export$5907fb05e8ebe4d0(me, them)\n    };\n}\n\n\nclass $903a88231ea21886$export$2e2bcd8739ae039 {\n    constructor(width, height, fn){\n        this.width = width;\n        this.height = height;\n        const rows = [];\n        for(let y = 0; y < height; y++){\n            const row = [];\n            for(let x = 0; x < width; x++)row.push(fn(x, y));\n            rows.push(row);\n        }\n        this.cells = rows;\n    }\n    contains(x, y) {\n        return x >= 0 && x < this.width && y >= 0 && y < this.height;\n    }\n    get(x, y) {\n        return this.cells[y][x];\n    }\n    set(x, y, cell) {\n        this.cells[y][x] = cell;\n    }\n    paste(sx, sy, grid) {\n        for(let x = 0; x < grid.width; x++)for(let y = 0; y < grid.height; y++)this.set(sx + x, sy + y, grid.get(x, y));\n    }\n    setHLine(x1, x2, y, fn) {\n        for(let x = x1; x <= x2; x++)this.cells[y][x] = fn(x, y);\n    }\n    setVLine(x, y1, y2, fn) {\n        for(let y = y1; y <= y2; y++)this.cells[y][x] = fn(x, y);\n    }\n    carve(x, y, w, h, border, inside) {\n        for(let i = 0; i < w; i++){\n            const iBorder = i === 0 || i === w - 1;\n            for(let j = 0; j < h; j++){\n                const jBorder = j === 0 || j === h - 1;\n                this.set(x + i, y + j, iBorder || jBorder ? border : inside);\n            }\n        }\n    }\n    expand(x, y, fn) {\n        return new $903a88231ea21886$export$2e2bcd8739ae039(this.width + x, this.height + y, fn);\n    }\n    flipH() {\n        const w = this.width - 1;\n        return new $903a88231ea21886$export$2e2bcd8739ae039(this.width, this.height, (x, y)=>this.get(w - x, y));\n    }\n    flipV() {\n        const h = this.height - 1;\n        return new $903a88231ea21886$export$2e2bcd8739ae039(this.width, this.height, (x, y)=>this.get(x, h - y));\n    }\n    toString(fn) {\n        let grid = \"\";\n        for(let y = 0; y < this.height; y++){\n            for(let x = 0; x < this.width; x++)grid += fn(this.get(x, y), x, y);\n            grid += \"\\n\";\n        }\n        return grid;\n    }\n    forEach(fn) {\n        for(let y = 0; y < this.height; y++)for(let x = 0; x < this.width; x++)fn(this.get(x, y), x, y);\n    }\n}\n\n\nclass $0f2cf24652229b87$export$2e2bcd8739ae039 extends (0, $903a88231ea21886$export$2e2bcd8739ae039) {\n    isBlocked(x, y) {\n        if (!this.contains(x, y)) return true;\n        return this.get(x, y).blocks;\n    }\n}\n\n\n\nconst $4e138ddd45f48441$var$times = (count, fn)=>{\n    const results = [];\n    for(let i = 0; i < count; i++)results.push(fn(i));\n    return results;\n};\nclass $4e138ddd45f48441$export$2e2bcd8739ae039 {\n    constructor(g, floorlv){\n        this.g = g;\n        this.floorlv = floorlv;\n        this.debug = (0, (/*@__PURE__*/$parcel$interopDefault($cR93q)))(\"aag\");\n        this.decor = $4e138ddd45f48441$var$times(3, ()=>g.choose((0, $e957c9091d1131ca$export$74a9a1cf7cd43eee)));\n        this.floorplan = new (0, $903a88231ea21886$export$2e2bcd8739ae039)(5, 5, ()=>\"V\");\n        const tries = g.rng.randRange(4, 48);\n        for(let n = 0; n < tries; n++){\n            const xtend_x = this.floorplan.width;\n            const xtend_y = this.floorplan.height;\n            let xtarg = g.rng.randRange(0, xtend_x - 1);\n            let ytarg = g.rng.randRange(0, xtend_y - 1);\n            if (n === 0) {\n                xtarg = 0;\n                ytarg = 0;\n            }\n            const roomcode = g.choose((0, $e957c9091d1131ca$export$75d31e339e0d6666));\n            const [xdim, ydim] = (0, $e957c9091d1131ca$export$9a3108174d848595)[roomcode];\n            this.empty_check(xtarg, ytarg, xdim, ydim, roomcode, true);\n            this.expand_plan(xtend_x, xtend_y);\n        }\n        this.wasteland();\n        this.simpleplan();\n        this.areaBank = (0, (/*@__PURE__*/$parcel$interopDefault($17e375e7636c3192$exports)))((0, $e957c9091d1131ca$export$38bb1a704f957833));\n        this.pickrooms();\n        this.map = new (0, $0f2cf24652229b87$export$2e2bcd8739ae039)(this.tiles.width, this.tiles.height, (x, y)=>{\n            const glyph = this.tiles.get(x, y);\n            const opaque = (0, $e957c9091d1131ca$export$fbbd7dfed5e83db7).includes(glyph);\n            const blocks = opaque;\n            const name = (0, $e957c9091d1131ca$export$1711a14a912bd240)[glyph] || \"white\";\n            const colour = g.palette[name];\n            return {\n                glyph: glyph,\n                colour: colour,\n                opaque: opaque,\n                blocks: blocks\n            };\n        });\n    }\n    empty_check(xt, yt, xw, yw, rc, draw = false) {\n        let out = true;\n        const points = [];\n        for(let y = 0; y < yw; y++)if (yt + y < this.floorplan.height) {\n            for(let x = 0; x < xw; x++)if (xt + x < this.floorplan.width) {\n                points.push([\n                    xt + x,\n                    yt + y\n                ]);\n                if (this.floorplan.get(xt + x, yt + y) !== \"V\") // console.log(\"Already taken.\");\n                out = false;\n            } else // console.log(\"No room on X.\");\n            out = false;\n        } else // console.log(\"No room on Y.\");\n        out = false;\n        if (draw && out) {\n            let first = true;\n            for (const [x, y] of points){\n                const char = first ? rc : \"X\";\n                this.floorplan.set(x, y, char);\n                first = false;\n            }\n        }\n        return out;\n    }\n    expand_plan(xt, yt) {\n        let expandUp = false, expandDown = false, expandLeft = false, expandRight = false;\n        for(let n = 0; n < xt; n++){\n            if (this.floorplan.get(n, 0) !== \"V\") expandUp = true;\n            if (this.floorplan.get(n, yt - 1) !== \"V\") expandDown = true;\n        }\n        for(let n = 0; n < yt; n++){\n            if (this.floorplan.get(0, n) !== \"V\") expandLeft = true;\n            if (this.floorplan.get(xt - 1, n) !== \"V\") expandRight = true;\n        }\n        const { width: width, height: height } = this.floorplan;\n        if (expandUp) this.floorplan = this.floorplan.expand(0, 1, (x, y)=>y === 0 ? \"V\" : this.floorplan.get(x, y - 1));\n        if (expandDown) this.floorplan = this.floorplan.expand(0, 1, (x, y)=>y === height ? \"V\" : this.floorplan.get(x, y));\n        if (expandLeft) this.floorplan.expand(1, 0, (x, y)=>x === 0 ? \"V\" : this.floorplan.get(x - 1, y));\n        if (expandRight) this.floorplan.expand(1, 0, (x, y)=>x === width ? \"V\" : this.floorplan.get(x, y));\n    }\n    wasteland() {\n        const points = [];\n        for(let y = 0; y < this.floorplan.height; y++){\n            for(let x = 0; x < this.floorplan.width; x++)if (this.scan_around(this.floorplan, x, y, \"V\", [\n                \"A\",\n                \"B\",\n                \"C\",\n                \"D\",\n                \"E\",\n                \"F\",\n                \"X\"\n            ])) points.push([\n                x,\n                y\n            ]);\n        }\n        for (const [x, y] of points)this.floorplan.set(x, y, \"W\");\n    }\n    scan_around(fp, xt, yt, ifim, lookfor) {\n        let out = false;\n        if (fp.get(xt, yt) === ifim) {\n            const offx = [\n                0,\n                1,\n                0,\n                -1\n            ];\n            const offy = [\n                -1,\n                0,\n                1,\n                0\n            ];\n            for(let n = 0; n < 4; n++){\n                const xn = xt + offx[n];\n                const yn = yt + offy[n];\n                if (fp.contains(xn, yn) && lookfor.includes(fp.get(xn, yn))) out = true;\n            }\n        }\n        return out;\n    }\n    simpleplan() {\n        this.debug(\"simple plan\", \"\\n\" + this.floorplan.toString((ch)=>{\n            if (ch === \"V\") return \" \";\n            if (ch === \"W\") return \"_\";\n            return \"#\";\n        }));\n    }\n    pickrooms() {\n        let xtw = this.floorplan.width * (0, $e957c9091d1131ca$export$9a6b9851e25ae770);\n        let ytw = this.floorplan.height * (0, $e957c9091d1131ca$export$60e0b5ee161e4f4e);\n        this.tiles = new (0, $903a88231ea21886$export$2e2bcd8739ae039)(xtw, ytw, ()=>\" \");\n        // fill it in\n        for(let y = 0; y < this.floorplan.height; y++)for(let x = 0; x < this.floorplan.width; x++){\n            const plan = this.floorplan.get(x, y);\n            if (plan !== \"V\" && plan !== \"X\") this.pasteroom(x * (0, $e957c9091d1131ca$export$9a6b9851e25ae770), y * (0, $e957c9091d1131ca$export$60e0b5ee161e4f4e), plan);\n        }\n        // pair off joins\n        const joins = [];\n        for(let y = 0; y < ytw; y++){\n            for(let x = 0; x < xtw; x++)if (this.scan_around(this.tiles, x, y, \"J\", [\n                \"J\"\n            ])) joins.push([\n                x,\n                y\n            ]);\n        }\n        for (const [x, y] of joins)this.tiles.set(x, y, \" \");\n        // wall in\n        this.tiles = this.tiles.expand(2, 2, (x, y)=>{\n            const nx = x - 1;\n            const ny = y - 1;\n            return this.tiles.contains(nx, ny) ? this.tiles.get(nx, ny) : \"%\";\n        });\n        xtw += 2;\n        ytw += 2;\n        // populate\n        const empty = [];\n        for(let y = 0; y < ytw; y++){\n            for(let x = 0; x < xtw; x++)if (this.scan_around(this.tiles, x, y, \" \", [\n                \"#\"\n            ])) empty.push([\n                x,\n                y\n            ]);\n        }\n        const spawns = Math.min(empty.length, (0, $dbf2edd1943e9287$export$eba8049fb5020b81)(xtw + ytw + this.floorlv + this.g.rng.randRange(1, this.floorlv)));\n        for(let n = 0; n < spawns; n++){\n            const index = this.g.rng.randRange(0, empty.length - 1);\n            const [x, y] = empty[index];\n            empty.splice(index, 1);\n            // const spz = this.g.choose([\"®\", \"®\", \"®\", \"®\", \"®\", \"Ø\", \"Ø\", \"²\"]);\n            if (n === 0) this.player = [\n                x,\n                y\n            ];\n            else this.g.spawnRandomMonster(x, y, this.floorlv);\n        }\n        // flavour\n        for(let y = 0; y < ytw; y++)for(let x = 0; x < xtw; x++){\n            let ch = this.tiles.get(x, y);\n            if (ch === \"J\") ch = this.g.choose([\n                \"~\",\n                \".\"\n            ]);\n            if (ch === \"~\") this.tiles.set(x, y, this.g.choose(this.decor));\n            if (ch === \".\") this.tiles.set(x, y, this.g.choose((0, $e957c9091d1131ca$export$de708a07d1cd94be)));\n        }\n    }\n    pasteroom(x, y, plan) {\n        const prints = this.areaBank[plan];\n        const blueprint = this.g.choose(prints);\n        const i = prints.indexOf(blueprint);\n        prints.splice(i, 1);\n        let room = new (0, $903a88231ea21886$export$2e2bcd8739ae039)(blueprint[0].length, blueprint.length, (x, y)=>blueprint[y][x]);\n        if (this.g.rng.bool()) room = room.flipH();\n        if (this.g.rng.bool()) room = room.flipV();\n        this.tiles.paste(x, y, room);\n    }\n}\n\n\nconst $f934942670b9ca5e$export$871608497c498473 = (d)=>d instanceof Date;\nconst $f934942670b9ca5e$export$dd1bc94b04021eeb = (o)=>Object.keys(o).length === 0;\nconst $f934942670b9ca5e$export$a6cdc56e425d0d0a = (o)=>o != null && typeof o === \"object\";\nconst $f934942670b9ca5e$export$5a15a386532a5ea4 = (o, ...args)=>Object.prototype.hasOwnProperty.call(o, ...args);\nconst $f934942670b9ca5e$export$83b788b1a3698c03 = (o)=>$f934942670b9ca5e$export$a6cdc56e425d0d0a(o) && $f934942670b9ca5e$export$dd1bc94b04021eeb(o);\nconst $f934942670b9ca5e$export$d6d64087a1bd2d = ()=>Object.create(null);\n\n\nconst $a7b584cfd8f40a9f$var$diff = (lhs, rhs)=>{\n    if (lhs === rhs) return {}; // equal return no diff\n    if (!(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(lhs) || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(rhs)) return rhs; // return updated rhs\n    const deletedValues = Object.keys(lhs).reduce((acc, key)=>{\n        if (!(0, $f934942670b9ca5e$export$5a15a386532a5ea4)(rhs, key)) acc[key] = undefined;\n        return acc;\n    }, (0, $f934942670b9ca5e$export$d6d64087a1bd2d)());\n    if ((0, $f934942670b9ca5e$export$871608497c498473)(lhs) || (0, $f934942670b9ca5e$export$871608497c498473)(rhs)) {\n        if (lhs.valueOf() == rhs.valueOf()) return {};\n        return rhs;\n    }\n    return Object.keys(rhs).reduce((acc, key)=>{\n        if (!(0, $f934942670b9ca5e$export$5a15a386532a5ea4)(lhs, key)) {\n            acc[key] = rhs[key]; // return added r key\n            return acc;\n        }\n        const difference = $a7b584cfd8f40a9f$var$diff(lhs[key], rhs[key]);\n        // If the difference is empty, and the lhs is an empty object or the rhs is not an empty object\n        if ((0, $f934942670b9ca5e$export$83b788b1a3698c03)(difference) && !(0, $f934942670b9ca5e$export$871608497c498473)(difference) && ((0, $f934942670b9ca5e$export$83b788b1a3698c03)(lhs[key]) || !(0, $f934942670b9ca5e$export$83b788b1a3698c03)(rhs[key]))) return acc; // return no diff\n        acc[key] = difference // return updated key\n        ;\n        return acc; // return updated key\n    }, deletedValues);\n};\nvar $a7b584cfd8f40a9f$export$2e2bcd8739ae039 = $a7b584cfd8f40a9f$var$diff;\n\n\n\nconst $69cc6ffbd9663c1d$var$addedDiff = (lhs, rhs)=>{\n    if (lhs === rhs || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(lhs) || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(rhs)) return {};\n    return Object.keys(rhs).reduce((acc, key)=>{\n        if ((0, $f934942670b9ca5e$export$5a15a386532a5ea4)(lhs, key)) {\n            const difference = $69cc6ffbd9663c1d$var$addedDiff(lhs[key], rhs[key]);\n            if ((0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(difference) && (0, $f934942670b9ca5e$export$dd1bc94b04021eeb)(difference)) return acc;\n            acc[key] = difference;\n            return acc;\n        }\n        acc[key] = rhs[key];\n        return acc;\n    }, (0, $f934942670b9ca5e$export$d6d64087a1bd2d)());\n};\nvar $69cc6ffbd9663c1d$export$2e2bcd8739ae039 = $69cc6ffbd9663c1d$var$addedDiff;\n\n\n\nconst $4517694109a7fef2$var$deletedDiff = (lhs, rhs)=>{\n    if (lhs === rhs || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(lhs) || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(rhs)) return {};\n    return Object.keys(lhs).reduce((acc, key)=>{\n        if ((0, $f934942670b9ca5e$export$5a15a386532a5ea4)(rhs, key)) {\n            const difference = $4517694109a7fef2$var$deletedDiff(lhs[key], rhs[key]);\n            if ((0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(difference) && (0, $f934942670b9ca5e$export$dd1bc94b04021eeb)(difference)) return acc;\n            acc[key] = difference;\n            return acc;\n        }\n        acc[key] = undefined;\n        return acc;\n    }, (0, $f934942670b9ca5e$export$d6d64087a1bd2d)());\n};\nvar $4517694109a7fef2$export$2e2bcd8739ae039 = $4517694109a7fef2$var$deletedDiff;\n\n\n\nconst $9ab16ba22e91fe9c$var$updatedDiff = (lhs, rhs)=>{\n    if (lhs === rhs) return {};\n    if (!(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(lhs) || !(0, $f934942670b9ca5e$export$a6cdc56e425d0d0a)(rhs)) return rhs;\n    if ((0, $f934942670b9ca5e$export$871608497c498473)(lhs) || (0, $f934942670b9ca5e$export$871608497c498473)(rhs)) {\n        if (lhs.valueOf() == rhs.valueOf()) return {};\n        return rhs;\n    }\n    return Object.keys(rhs).reduce((acc, key)=>{\n        if ((0, $f934942670b9ca5e$export$5a15a386532a5ea4)(lhs, key)) {\n            const difference = $9ab16ba22e91fe9c$var$updatedDiff(lhs[key], rhs[key]);\n            // If the difference is empty, and the lhs is an empty object or the rhs is not an empty object\n            if ((0, $f934942670b9ca5e$export$83b788b1a3698c03)(difference) && !(0, $f934942670b9ca5e$export$871608497c498473)(difference) && ((0, $f934942670b9ca5e$export$83b788b1a3698c03)(lhs[key]) || !(0, $f934942670b9ca5e$export$83b788b1a3698c03)(rhs[key]))) return acc; // return no diff\n            acc[key] = difference;\n            return acc;\n        }\n        return acc;\n    }, (0, $f934942670b9ca5e$export$d6d64087a1bd2d)());\n};\nvar $9ab16ba22e91fe9c$export$2e2bcd8739ae039 = $9ab16ba22e91fe9c$var$updatedDiff;\n\n\n\n\n\nconst $87b92e4b1fa97465$var$detailedDiff = (lhs, rhs)=>({\n        added: (0, $69cc6ffbd9663c1d$export$2e2bcd8739ae039)(lhs, rhs),\n        deleted: (0, $4517694109a7fef2$export$2e2bcd8739ae039)(lhs, rhs),\n        updated: (0, $9ab16ba22e91fe9c$export$2e2bcd8739ae039)(lhs, rhs)\n    });\nvar $87b92e4b1fa97465$export$2e2bcd8739ae039 = $87b92e4b1fa97465$var$detailedDiff;\n\n\n\n\n\nvar $3DA3D = parcelRequire(\"3DA3D\");\nlet $80f01919ebf1d788$var$urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet $80f01919ebf1d788$export$62e99e5c9f473d7f = (alphabet, defaultSize = 21)=>{\n    return (size = defaultSize)=>{\n        let id = \"\";\n        let i = size;\n        while(i--)id += alphabet[Math.random() * alphabet.length | 0];\n        return id;\n    };\n};\nlet $80f01919ebf1d788$export$ac4959f4f1338dfc = (size = 21)=>{\n    let id = \"\";\n    let i = size;\n    while(i--)id += $80f01919ebf1d788$var$urlAlphabet[Math.random() * 64 | 0];\n    return id;\n};\n\n\nclass $b24aef5a95625750$export$16fa2f45be04daa8 {\n    constructor(name){\n        this.name = name;\n        this.data = {};\n    }\n    add(en, data) {\n        this.data[en.id] = data;\n    }\n    remove(en) {\n        delete this.data[en.id];\n    }\n    get(en) {\n        return this.data[en.id];\n    }\n}\nclass $b24aef5a95625750$var$BaseEntity {\n    constructor(ecs, id, ...prefabs){\n        this.ecs = ecs;\n        this.id = id;\n        this.components = new Set();\n        this.prefabs = [];\n        for (const pf of prefabs){\n            const pfd = pf.data();\n            for(const name in pfd)this.add(ecs.getComponent(name), pfd[name]);\n            this.prefabs.push(pf.id);\n        }\n    }\n    add(component, data) {\n        this.components.add(component);\n        component.add(this, (0, (/*@__PURE__*/$parcel$interopDefault($3DA3D)))({}, data));\n        // TODO: debugging only\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this[component.name] = component.get(this);\n        return this;\n    }\n    get(component) {\n        return component.get(this);\n    }\n    has(component) {\n        return this.components.has(component);\n    }\n    remove(component) {\n        this.components.delete(component);\n        component.remove(this);\n        // TODO: debugging only\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        delete this[component.name];\n    }\n    data() {\n        const data = {};\n        for (const co of this.components)data[co.name] = co.get(this);\n        return data;\n    }\n    diffData() {\n        return (0, $a7b584cfd8f40a9f$export$2e2bcd8739ae039)(this.prefabData(), this.data());\n    }\n    prefabNames() {\n        return this.prefabs;\n    }\n    prefabData() {\n        return (0, (/*@__PURE__*/$parcel$interopDefault($3DA3D)))({}, ...this.prefabs.map((name)=>this.ecs.getPrefab(name).data()));\n    }\n}\nclass $b24aef5a95625750$export$bc644a473284d944 extends $b24aef5a95625750$var$BaseEntity {\n    constructor(ecs, id, ...prefabs){\n        super(ecs, id, ...prefabs);\n        this.destroyed = false;\n    }\n    add(component, data) {\n        super.add(component, data);\n        this.ecs.update(this);\n        return this;\n    }\n    remove(component) {\n        super.remove(component);\n        this.ecs.update(this);\n    }\n    destroy() {\n        if (!this.destroyed) {\n            for (const co of this.components)co.remove(this);\n            this.ecs.remove(this);\n            this.destroyed = true;\n        }\n    }\n}\nclass $b24aef5a95625750$export$d96e1262c95b9fb2 extends $b24aef5a95625750$var$BaseEntity {\n}\nclass $b24aef5a95625750$export$d0d38e7dec7a1a61 {\n    constructor(){\n        this.components = {};\n        this.entities = new Map();\n        this.idGenerator = ()=>(0, $80f01919ebf1d788$export$ac4959f4f1338dfc)();\n        this.prefabs = {};\n        this.queries = [];\n    }\n    clear() {\n        const remove = this.remove.bind(this);\n        this.entities.forEach(remove);\n    }\n    register(name) {\n        const comp = new $b24aef5a95625750$export$16fa2f45be04daa8(name);\n        this.components[name] = comp;\n        return comp;\n    }\n    getEntity(id) {\n        return this.entities.get(id);\n    }\n    getComponent(name) {\n        const co = this.components[name];\n        if (!co) throw `Unknown component: ${name}`;\n        return co;\n    }\n    nextId() {\n        return this.idGenerator();\n    }\n    entity(...prefabs) {\n        const id = this.nextId();\n        const en = new $b24aef5a95625750$export$bc644a473284d944(this, id, ...prefabs.map((name)=>this.getPrefab(name)));\n        return this.attach(en);\n    }\n    prefab(name, ...prefabs) {\n        const pf = new $b24aef5a95625750$export$d96e1262c95b9fb2(this, name, ...prefabs);\n        this.prefabs[name] = pf;\n        return pf;\n    }\n    getPrefab(name) {\n        const pf = this.prefabs[name];\n        if (!pf) throw `Unknown prefab: ${name}`;\n        return pf;\n    }\n    attach(en) {\n        this.entities.set(en.id, en);\n        for (const q of this.queries)q.add(en);\n        return en;\n    }\n    update(en) {\n        for (const q of this.queries)q.add(en);\n    }\n    remove(en) {\n        for (const q of this.queries)q.remove(en);\n        this.entities.delete(en.id);\n    }\n    query({ all: all, any: any, none: none } = {}, save = true) {\n        const matchAll = all ? (en)=>all.every((comp)=>en.has(comp)) : ()=>true;\n        const matchAny = any ? (en)=>any.some((comp)=>en.has(comp)) : ()=>true;\n        const matchNone = none ? (en)=>!none.some((comp)=>en.has(comp)) : ()=>true;\n        const query = new $b24aef5a95625750$export$62297b13309008b2(Array.from(this.entities.values()), (en)=>matchAny(en) && matchAll(en) && matchNone(en));\n        if (save) this.queries.push(query);\n        return query;\n    }\n    find(options = {}) {\n        return this.query(options, false).get();\n    }\n}\nclass $b24aef5a95625750$export$62297b13309008b2 {\n    constructor(initial, match){\n        this.match = match;\n        this.entities = new Set(initial.filter(match));\n    }\n    add(en) {\n        if (this.match(en)) this.entities.add(en);\n        else this.entities.delete(en);\n    }\n    remove(en) {\n        this.entities.delete(en);\n    }\n    get() {\n        return Array.from(this.entities);\n    }\n}\nconst $b24aef5a95625750$var$ecs = new $b24aef5a95625750$export$d0d38e7dec7a1a61();\nvar $b24aef5a95625750$export$2e2bcd8739ae039 = $b24aef5a95625750$var$ecs;\n// TODO: debugging only\nwindow.ecs = $b24aef5a95625750$var$ecs;\n\n\nconst $cb46f08df5be025b$export$d710c5f50fc7496a = (0, $b24aef5a95625750$export$2e2bcd8739ae039).register(\"AI\");\nconst $cb46f08df5be025b$export$40bdb27f2137fcf = (0, $b24aef5a95625750$export$2e2bcd8739ae039).register(\"Appearance\");\nconst $cb46f08df5be025b$export$13807d9ee5a34a42 = (0, $b24aef5a95625750$export$2e2bcd8739ae039).register(\"Position\");\nconst $cb46f08df5be025b$export$3cdec2bba15e3523 = (0, $b24aef5a95625750$export$2e2bcd8739ae039).register(\"Stats\");\nconst $cb46f08df5be025b$export$b6db1b6608d1baac = (0, $b24aef5a95625750$export$2e2bcd8739ae039).register(\"PlayerTag\");\n\n\n\n\nvar $3f84b3ddb41b68a8$exports = {};\nvar $69d3d5c2927c55a0$exports = {};\n$69d3d5c2927c55a0$exports = \"logo:a\\r\\nname: Awfs\\r\\ndesc: Awfs are tiny humanoids who dwell in the hills surrounding Graydnmuch. Once almost feral, they've since learnt from the humans they scavenge from and have devised their own society, complete with religions and technology.\\r\\ndie:The awf collapses with a wail.\\r\\ndrop:JUNK, 85, TECH_CONSUMABLE, 35\\r\\ntags: INTELLIGENT, MUNDANE, HUMANOID, CHAOTIC, NEUTRAL\\r\\n\";\n\n\n$3f84b3ddb41b68a8$exports = {\n    \"all\": $69d3d5c2927c55a0$exports\n};\n\n\nvar $89b310d2e676ee4e$exports = {};\nvar $44d89b459855339e$exports = {};\n$44d89b459855339e$exports = \"cat:a\\r\\ncol:silver\\r\\nid:awf_d\\r\\nname:desperate awf\\r\\ndesc:A little guy with a scarred turquoise body. He draws his cloak around himself and mutters.\\r\\nlevel:1\\r\\natts:10, 9, 6\\r\\ntags:SINGULAR\\r\\n\\r\\ncat:a\\r\\ncol:white\\r\\nname:mulnishel\\r\\nhname:awfen hermit\\r\\ndesc:This tiny awf has blindingly-white flesh and an anti-social scowl.\\r\\nlevel:2\\r\\natts:7, 16, 7\\r\\nweapon:club_basic\\r\\ntags:SINGULAR, CAST_ONCE\\r\\nattack:hex, 0, 1, 0, DAMAGE:7, DOUBLE_DAMAGE:LAWFUL\\r\\n\";\n\n\n$89b310d2e676ee4e$exports = {\n    \"awf\": $44d89b459855339e$exports\n};\n\n\nvar $b3b0986cd383e385$exports = {};\n$b3b0986cd383e385$exports = \"black: 0, 0, 0\\r\\ncharcoal: 55, 55, 55\\r\\nsilver: 135, 135, 135\\r\\nwhite: 255, 255, 255\\r\\nred: 255, 25, 25\\r\\nsilver brown: 199, 199, 103\\r\\nsilver purp: 207, 111, 199\\r\\nsilver cyan: 111, 199, 199\\r\\nsilver green: 111, 207, 87\\r\\nsilver blue: 111, 111, 207\\r\\ndgreen: 0, 207, 0\\r\\ngreen: 39, 255, 39\\r\\ndblue: 7, 7, 255\\r\\nblue: 55, 55, 255\\r\\ndcyan: 39, 151, 151\\r\\ncyan: 71, 255, 255\\r\\ndpurp: 151, 39, 151\\r\\npurp: 255, 71, 255\\r\\ndyel: 151, 151, 39\\r\\nyel: 255, 255, 71\\r\\ndora: 191, 111, 11\\r\\nora: 255, 205, 21\\r\\n\";\n\n\nclass $370bb0c5ae83d4cd$export$2e2bcd8739ae039 extends Error {\n    constructor(message, line){\n        super(`(line ${line}) ${message}`);\n        this.line = line;\n    }\n}\n\n\nclass $cc9209d84b4c32bc$export$2e2bcd8739ae039 {\n    constructor(parsers){\n        this.parsers = parsers;\n    }\n    parse(source) {\n        const documents = [];\n        let current = undefined;\n        let index = 0;\n        for (const raw of source.trim().replace(/\\r/g, \"\").split(\"\\n\")){\n            index++;\n            const line = raw.trim();\n            if (!line) {\n                if (current) documents.push(current);\n                current = undefined;\n                continue;\n            }\n            const i = line.indexOf(\":\");\n            if (i < 0) throw new (0, $370bb0c5ae83d4cd$export$2e2bcd8739ae039)(\"missing colon\", index);\n            const field = line.substring(0, i).toLowerCase();\n            const value = line.substring(i + 1);\n            if (!current) current = this.blank();\n            if (!this.parsers[field]) throw new (0, $370bb0c5ae83d4cd$export$2e2bcd8739ae039)(`invalid field: ${field}`, index);\n            const p = this.parsers[field];\n            if (!p.check(value)) throw new (0, $370bb0c5ae83d4cd$export$2e2bcd8739ae039)(`invalid value for ${field}: ${value}`, index);\n            try {\n                current[field] = p.apply(value, current[field]);\n            } catch (e) {\n                throw new (0, $370bb0c5ae83d4cd$export$2e2bcd8739ae039)(e.message, index);\n            }\n        }\n        if (current) documents.push(current);\n        return documents;\n    }\n}\n\n\nfunction $b1af36c93f627b35$export$65980d18b75784e2(input, sep = \",\") {\n    return input.split(sep).map((x)=>x.trim());\n}\nfunction $b1af36c93f627b35$export$844ec244b1367d54(input) {\n    return typeof input === \"string\" && input.length > 0;\n}\nfunction $b1af36c93f627b35$export$7d260a2a5f8bc19e(input) {\n    return parseInt(input, 10);\n}\n\n\nconst $7acf9f80d753902b$var$pattern = /^(0|[1-9][0-9]*)$/;\nclass $7acf9f80d753902b$export$2e2bcd8739ae039 {\n    check(input) {\n        return (0, $b1af36c93f627b35$export$844ec244b1367d54)(input) && $7acf9f80d753902b$var$pattern.test(input.trim());\n    }\n    apply(input) {\n        return (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(input.trim());\n    }\n}\n\n\n\nconst $44b2c06f0226238b$var$pattern = /^(0|[1-9][0-9]*)(\\.[0-9]+)?$/;\nclass $44b2c06f0226238b$export$2e2bcd8739ae039 {\n    check(input) {\n        return (0, $b1af36c93f627b35$export$844ec244b1367d54)(input) && $44b2c06f0226238b$var$pattern.test(input.trim());\n    }\n    apply(input) {\n        return parseFloat(input.trim());\n    }\n}\n\n\n\n\n\nclass $57d5a56836ac632e$export$2e2bcd8739ae039 {\n    check() {\n        return true;\n    }\n    apply(input) {\n        return input.trim();\n    }\n}\n\n\n\nclass $3f3cd2a1b5e5b406$export$2e2bcd8739ae039 {\n    check(input) {\n        return input.trim().length > 0;\n    }\n    apply(input, previous) {\n        const tags = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input.trim());\n        let list = previous;\n        tags.forEach((tag)=>{\n            if (!list.includes(tag)) list = list.concat(tag);\n        });\n        return tags;\n    }\n}\n\n\n\n\n\n\nfunction $1c1738ec77e1ee4c$export$7e4aa119212bc614(s) {\n    return !isNaN(parseInt(s, 10));\n}\n\n\nclass $4dd64571f965241c$var$AddParser {\n    constructor(length = 4){\n        this.length = length;\n    }\n    check(input) {\n        const [effect, power, save, difficulty] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return (0, $b1af36c93f627b35$export$844ec244b1367d54)(effect) && effect.startsWith(\"ADD:\") && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(power) && (0, $b1af36c93f627b35$export$844ec244b1367d54)(save) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(difficulty);\n    }\n    apply(input, previous) {\n        const [effect, power, save, difficulty] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return previous.concat({\n            type: \"ADD\",\n            name: effect.substring(4),\n            power: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(power),\n            save: save,\n            difficulty: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(difficulty)\n        });\n    }\n}\nclass $4dd64571f965241c$var$DamageParser {\n    constructor(length = 1){\n        this.length = length;\n    }\n    check(input) {\n        const [tag, amount] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input, \":\");\n        return tag === \"DAMAGE\" && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(amount);\n    }\n    apply(input, previous) {\n        const [, amount] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input, \":\");\n        return previous.concat({\n            type: \"DAMAGE\",\n            amount: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(amount)\n        });\n    }\n}\nclass $4dd64571f965241c$var$DoubleDamageParser {\n    constructor(length = 1){\n        this.length = length;\n    }\n    check(input) {\n        const [tag, criterion] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input, \":\");\n        return tag === \"DOUBLE_DAMAGE\" && (0, $b1af36c93f627b35$export$844ec244b1367d54)(criterion);\n    }\n    apply(input, previous) {\n        const [, criterion] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input, \":\");\n        return previous.concat({\n            type: \"DOUBLE_DAMAGE\",\n            criterion: criterion\n        });\n    }\n}\nclass $4dd64571f965241c$var$KnockbackParser {\n    constructor(length = 1){\n        this.length = length;\n    }\n    check(input) {\n        return input === \"KNOCKBACK\";\n    }\n    apply(input, previous) {\n        return previous.concat({\n            type: \"KNOCKBACK\"\n        });\n    }\n}\nconst $4dd64571f965241c$var$effectParsers = [\n    new $4dd64571f965241c$var$AddParser(),\n    new $4dd64571f965241c$var$DamageParser(),\n    new $4dd64571f965241c$var$DoubleDamageParser(),\n    new $4dd64571f965241c$var$KnockbackParser()\n];\nclass $4dd64571f965241c$export$2e2bcd8739ae039 {\n    check(input) {\n        const [name, hp, sp, mp] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return (0, $b1af36c93f627b35$export$844ec244b1367d54)(name) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(hp) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(sp) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(mp);\n    }\n    apply(input, previous) {\n        const [name, hp, sp, mp, ...effects] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        const attack = {\n            name: name,\n            hp: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(hp),\n            sp: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(sp),\n            mp: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(mp),\n            effects: []\n        };\n        let rest = effects.slice();\n        while(rest.length > 0){\n            const ep = $4dd64571f965241c$var$effectParsers.find((ep)=>{\n                if (ep.length > rest.length) return false;\n                const sub = rest.slice(0, rest.length).join(\",\");\n                return ep.check(sub);\n            });\n            if (!ep) throw new Error(`unknown attack effect: ${rest[0]}`);\n            const sub = rest.slice(0, ep.length).join(\",\");\n            attack.effects = ep.apply(sub, attack.effects);\n            rest = rest.slice(ep.length);\n        }\n        return previous.concat(attack);\n    }\n}\n\n\n\n\nclass $1146f8d19fcf0f61$export$2e2bcd8739ae039 {\n    check(input) {\n        const parts = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        if (parts.length % 2) return false;\n        for(let i = 0; i < parts.length; i += 2){\n            // const tag = parts[i];\n            const chance = parts[i + 1];\n            if (!(0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(chance)) return false;\n        }\n        return true;\n    }\n    apply(input, previous) {\n        const drops = {};\n        const parts = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        for(let i = 0; i < parts.length; i += 2){\n            const tag = parts[i];\n            const chance = parts[i + 1];\n            drops[tag] = (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(chance);\n        }\n        return {\n            ...previous,\n            ...drops\n        };\n    }\n}\n\n\n\n\nclass $a6acd60e745da565$export$2e2bcd8739ae039 {\n    check(input) {\n        const [name, power] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return (0, $b1af36c93f627b35$export$844ec244b1367d54)(name) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(power);\n    }\n    apply(input, previous) {\n        const [name, power] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return previous.concat({\n            name: name,\n            power: (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(power)\n        });\n    }\n}\n\n\nclass $965283511a15a355$export$2e2bcd8739ae039 extends (0, $cc9209d84b4c32bc$export$2e2bcd8739ae039) {\n    constructor(){\n        super({\n            logo: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            name: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            desc: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            die: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            drop: new (0, $1146f8d19fcf0f61$export$2e2bcd8739ae039)(),\n            tags: new (0, $3f3cd2a1b5e5b406$export$2e2bcd8739ae039)(),\n            status: new (0, $a6acd60e745da565$export$2e2bcd8739ae039)(),\n            attack: new (0, $4dd64571f965241c$export$2e2bcd8739ae039)()\n        });\n    }\n    blank() {\n        return {\n            logo: \"?\",\n            name: \"\",\n            desc: \"\",\n            die: \"\",\n            drop: {},\n            tags: [],\n            status: [],\n            attack: []\n        };\n    }\n}\n\n\n\n\n\n\nclass $6ae71d60da5cbff8$export$2e2bcd8739ae039 {\n    check(input) {\n        const [hp, sp, mp] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(hp) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(sp) && (0, $1c1738ec77e1ee4c$export$7e4aa119212bc614)(mp);\n    }\n    apply(input) {\n        const [hp, sp, mp] = (0, $b1af36c93f627b35$export$65980d18b75784e2)(input);\n        return [\n            (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(hp),\n            (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(sp),\n            (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(mp)\n        ];\n    }\n}\n\n\n\nclass $179d670c9c8767b6$export$2e2bcd8739ae039 extends (0, $cc9209d84b4c32bc$export$2e2bcd8739ae039) {\n    constructor(){\n        super({\n            id: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            cat: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            col: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            name: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            hname: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            desc: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            die: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)(),\n            level: new (0, $7acf9f80d753902b$export$2e2bcd8739ae039)(),\n            atts: new (0, $6ae71d60da5cbff8$export$2e2bcd8739ae039)(),\n            wake: new (0, $7acf9f80d753902b$export$2e2bcd8739ae039)(),\n            idealrange: new (0, $7acf9f80d753902b$export$2e2bcd8739ae039)(),\n            tags: new (0, $3f3cd2a1b5e5b406$export$2e2bcd8739ae039)(),\n            status: new (0, $a6acd60e745da565$export$2e2bcd8739ae039)(),\n            attack: new (0, $4dd64571f965241c$export$2e2bcd8739ae039)(),\n            weapon: new (0, $57d5a56836ac632e$export$2e2bcd8739ae039)()\n        });\n    }\n    blank() {\n        return {\n            cat: \"?\",\n            col: \"\",\n            name: \"\",\n            desc: \"\",\n            level: 0,\n            atts: [\n                0,\n                0,\n                0\n            ],\n            tags: [],\n            status: [],\n            attack: []\n        };\n    }\n}\n\n\n\n\nconst $bf5194d01929fa5e$var$pattern = /^([A-Za-z ]+):\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*$/gm;\nclass $bf5194d01929fa5e$export$2e2bcd8739ae039 {\n    check(input) {\n        return $bf5194d01929fa5e$var$pattern.test(input);\n    }\n    apply(input, previous) {\n        return {\n            ...previous,\n            ...Object.fromEntries(Array.from(input.matchAll($bf5194d01929fa5e$var$pattern)).map(([, name, r, g, b])=>[\n                    name,\n                    (0, $87432b44d227b409$export$dd69e37c8d0f725a)((0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(r), (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(g), (0, $b1af36c93f627b35$export$7d260a2a5f8bc19e)(b))\n                ]))\n        };\n    }\n}\n\n\n\nclass $488a4e484377ee54$export$2e2bcd8739ae039 extends Error {\n    constructor(filename, child){\n        super(`[${filename}]`);\n        this.filename = filename;\n        if (child instanceof (0, $370bb0c5ae83d4cd$export$2e2bcd8739ae039)) this.message += ` ${child.message}`;\n    }\n}\n\n\nfunction $9353818b584203a0$var$loadAll(parser, files, ext = \"\") {\n    const objects = [];\n    for(const name in files){\n        const text = files[name];\n        try {\n            objects.push(...parser.parse(text));\n        } catch (e) {\n            throw new (0, $488a4e484377ee54$export$2e2bcd8739ae039)(name + ext, e);\n        }\n    }\n    return objects;\n}\nfunction $9353818b584203a0$export$c96a4ca691166df9() {\n    return $9353818b584203a0$var$loadAll(new (0, $965283511a15a355$export$2e2bcd8739ae039)(), $3f84b3ddb41b68a8$exports, \".category\");\n}\nfunction $9353818b584203a0$export$7bd6232febd9330d() {\n    return $9353818b584203a0$var$loadAll(new (0, $179d670c9c8767b6$export$2e2bcd8739ae039)(), $89b310d2e676ee4e$exports, \".monster\");\n}\nfunction $9353818b584203a0$export$1983ea34c983b5e() {\n    const p = new (0, $bf5194d01929fa5e$export$2e2bcd8739ae039)();\n    return p.apply((0, (/*@__PURE__*/$parcel$interopDefault($b3b0986cd383e385$exports))), {});\n}\n\n\n\n\nconst $a4d63295d0185aea$var$darken = (c, mul = 0.25)=>{\n    const b = c >> 8 & 255;\n    const g = c >> 16 & 255;\n    const r = c >> 24 & 255;\n    return (0, $87432b44d227b409$export$dd69e37c8d0f725a)(Math.floor(r * mul), Math.floor(g * mul), Math.floor(b * mul));\n};\nclass $a4d63295d0185aea$export$2e2bcd8739ae039 {\n    constructor(g){\n        this.g = g;\n        this.dirty = true;\n        this.drawable = g.ecs.query({\n            all: [\n                (0, $cb46f08df5be025b$export$40bdb27f2137fcf),\n                (0, $cb46f08df5be025b$export$13807d9ee5a34a42)\n            ]\n        });\n        const redraw = ()=>this.dirty = true;\n        g.on(\"move\", redraw);\n        g.on(\"scroll\", redraw);\n    }\n    process() {\n        if (!this.dirty) return;\n        const { map: map, scrollX: scrollX, scrollY: scrollY, term: term } = this.g;\n        term.clear();\n        for(let yo = 0; yo < term.height; yo++){\n            const y = yo + scrollY;\n            for(let xo = 0; xo < term.width; xo++){\n                const x = xo + scrollX;\n                const c = term.getCell(xo, yo);\n                if (c?.explored && map.contains(x, y)) {\n                    const tile = map.get(x, y);\n                    let colour = tile.colour;\n                    if (!term.isVisible(xo, yo)) colour = $a4d63295d0185aea$var$darken(colour);\n                    term.drawChar(xo, yo, tile.glyph, colour);\n                }\n            }\n        }\n        this.drawable.get().map((e)=>{\n            const app = e.get((0, $cb46f08df5be025b$export$40bdb27f2137fcf));\n            const pos = e.get((0, $cb46f08df5be025b$export$13807d9ee5a34a42));\n            const x = pos.x - scrollX;\n            const y = pos.y - scrollY;\n            if (term.isVisible(x, y)) term.drawChar(x, y, app.glyph, app.colour);\n        });\n        this.dirty = false;\n    }\n}\n\n\n\nconst $906ad6c09f6ed039$export$b8b447bac4a0c539 = {\n    glyph: \" \",\n    colour: 0,\n    blocks: true,\n    opaque: true\n};\n\n\nclass $8ac09d6c2c2334b3$export$2e2bcd8739ae039 {\n    constructor(g){\n        this.g = g;\n        this.dirty = true;\n        this.scrolled = true;\n        g.on(\"move\", (who)=>{\n            if (who.has((0, $cb46f08df5be025b$export$b6db1b6608d1baac))) this.dirty = true;\n        });\n        g.on(\"scroll\", ([x, y])=>{\n            this.preserveExplored();\n            this.g.scrollX = x;\n            this.g.scrollY = y;\n            this.dirty = true;\n            this.scrolled = true;\n        });\n    }\n    process() {\n        if (!this.dirty) return;\n        const { player: player, scrollX: scrollX, scrollY: scrollY, term: term } = this.g;\n        if (this.scrolled) this.scroll(scrollX, scrollY);\n        const pos = player.get((0, $cb46f08df5be025b$export$13807d9ee5a34a42));\n        const x = pos.x - scrollX;\n        const y = pos.y - scrollY;\n        if (term.getCell(x, y)) {\n            term.computeFov(x, y, 5);\n            term.updateExplored();\n        }\n        this.dirty = false;\n    }\n    preserveExplored() {\n        const { map: map, scrollX: scrollX, scrollY: scrollY, term: term } = this.g;\n        for(let yo = 0; yo < term.height; yo++){\n            const y = yo + scrollY;\n            for(let xo = 0; xo < term.width; xo++){\n                const x = xo + scrollX;\n                if (map.contains(x, y)) {\n                    const tile = map.get(x, y);\n                    tile.explored ||= term.getCell(xo, yo)?.explored;\n                }\n            }\n        }\n    }\n    scroll(sx, sy) {\n        const { map: map, term: term } = this.g;\n        for(let yo = 0; yo < term.height; yo++){\n            const y = yo + sy;\n            for(let xo = 0; xo < term.width; xo++){\n                const x = xo + sx;\n                const tile = map.contains(x, y) ? map.get(x, y) : (0, $906ad6c09f6ed039$export$b8b447bac4a0c539);\n                const cell = term.getCell(xo, yo);\n                cell.blocked = tile.blocks;\n                cell.blockedSight = tile.opaque;\n                cell.explored = tile.explored || false;\n            }\n        }\n        this.scrolled = false;\n    }\n}\n\n\n\n\nconst $98feb6eec2fd8c9c$var$movementKeys = new Map([\n    // numpad\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD7,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD8,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD9,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD4,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD5,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD6,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD1,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD2,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_NUMPAD3,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 1)\n    ],\n    // numpad (with numlock off)\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_HOME,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_UP,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_PAGE_UP,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_LEFT,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 0)\n    ],\n    [\n        \"Clear\",\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_RIGHT,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_END,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_DOWN,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_PAGE_DOWN,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 1)\n    ],\n    // vi keys\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_Y,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_K,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_U,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, -1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_H,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_PERIOD,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_L,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 0)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_B,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(-1, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_J,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(0, 1)\n    ],\n    [\n        (0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_N,\n        new (0, $87432b44d227b409$export$baf26146a414f24a)(1, 1)\n    ]\n]);\nfunction $98feb6eec2fd8c9c$var$getMovementKey(term) {\n    for (const [key, move] of $98feb6eec2fd8c9c$var$movementKeys.entries()){\n        if (term.isKeyPressed(key)) return move;\n    }\n}\nclass $98feb6eec2fd8c9c$export$2e2bcd8739ae039 {\n    constructor(g){\n        this.g = g;\n    }\n    process() {\n        const { player: player, term: term } = this.g;\n        const move = $98feb6eec2fd8c9c$var$getMovementKey(term);\n        if (!move) return;\n        // TODO: wait\n        if (move.x === 0 && move.y === 0) return;\n        if (term.isKeyDown((0, $87432b44d227b409$export$4b0075e5ea5e1f26).VK_CONTROL_LEFT)) {\n            const newX = this.g.scrollX + move.x * 10;\n            const newY = this.g.scrollY + move.y * 10;\n            this.g.emit(\"scroll\", [\n                newX,\n                newY\n            ]);\n            return;\n        }\n        const pos = player.get((0, $cb46f08df5be025b$export$13807d9ee5a34a42));\n        const { x: x, y: y } = pos;\n        if (!this.g.canMove(x, y, move.x, move.y)) return;\n        pos.x += move.x;\n        pos.y += move.y;\n        this.g.emit(\"move\", player, [\n            x,\n            y\n        ]);\n    }\n}\n\n\nclass $2ebe2f625290c2e3$export$2e2bcd8739ae039 extends (0, (/*@__PURE__*/$parcel$interopDefault($4a9976ca6ebf6735$exports))) {\n    constructor(canvas, width, height){\n        super();\n        this.width = width;\n        this.height = height;\n        this.debug = (0, (/*@__PURE__*/$parcel$interopDefault($cR93q)))(\"game\");\n        this.emit = (event, ...args)=>{\n            this.debug(\"event\", event, ...args);\n            return super.emit(event, ...args);\n        };\n        this.ecs = (0, $b24aef5a95625750$export$2e2bcd8739ae039);\n        this.blockers = (0, $b24aef5a95625750$export$2e2bcd8739ae039).query({\n            all: [\n                (0, $cb46f08df5be025b$export$13807d9ee5a34a42)\n            ]\n        });\n        (0, $b24aef5a95625750$export$2e2bcd8739ae039).prefab(\"player\").add((0, $cb46f08df5be025b$export$40bdb27f2137fcf), {\n            colour: (0, $87432b44d227b409$export$c537fa0d021d010b).WHITE,\n            glyph: \"@\".charCodeAt(0)\n        }).add((0, $cb46f08df5be025b$export$3cdec2bba15e3523), this.getPlayerStats(3, 3, 3, 1)).add((0, $cb46f08df5be025b$export$b6db1b6608d1baac), {});\n        this.player = (0, $b24aef5a95625750$export$2e2bcd8739ae039).entity(\"player\");\n        this.rng = (0, $73e8f9d399204016$export$4385e60b38654f68);\n        this.debug(\"seed\", this.rng.seed);\n        this.scrollX = 0;\n        this.scrollY = 0;\n        this.term = new (0, $87432b44d227b409$export$8dd80f06eb58bfe1)(canvas, width, height);\n        this.gui = new (0, $87432b44d227b409$export$983832d820c96993)(this.term);\n        this.installCheats();\n        try {\n            const [x, y] = this.load();\n            this.player.add((0, $cb46f08df5be025b$export$13807d9ee5a34a42), {\n                x: x,\n                y: y\n            });\n        } catch (e) {\n            this.fatal(e);\n            return;\n        }\n        this.systems = [\n            (0, $98feb6eec2fd8c9c$export$2e2bcd8739ae039),\n            (0, $8ac09d6c2c2334b3$export$2e2bcd8739ae039),\n            (0, $a4d63295d0185aea$export$2e2bcd8739ae039)\n        ].map((s)=>new s(this));\n        this.term.update = this.update.bind(this);\n    }\n    update() {\n        // TODO: if (this.gui.handleInput()) ...\n        for (const sys of this.systems)sys.process();\n    }\n    load() {\n        this.categories = (0, $9353818b584203a0$export$c96a4ca691166df9)();\n        this.monsters = (0, $9353818b584203a0$export$7bd6232febd9330d)();\n        this.palette = (0, $9353818b584203a0$export$1983ea34c983b5e)();\n        const aa = new (0, $4e138ddd45f48441$export$2e2bcd8739ae039)(this, 48);\n        this.map = aa.map;\n        if (aa.player) return aa.player;\n        return [\n            4,\n            4\n        ];\n    }\n    installCheats() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const glob = window;\n        glob.stats = (name)=>{\n            const monster = this.monsters.find((m)=>m.name === name);\n            if (!monster) return \"unknown\";\n            const stats = this.getMonsterStats(monster);\n            return (0, $dbf2edd1943e9287$export$611bbe96c1f7a467)(stats, this.player.get((0, $cb46f08df5be025b$export$3cdec2bba15e3523)));\n        };\n    }\n    fatal(e) {\n        const err = e instanceof Error ? e : new Error(JSON.stringify(e));\n        console.error(err);\n        const dlg = new (0, $87432b44d227b409$export$5e8a3ee5eb0ce78c)(\"Fatal Error\", err.message);\n        this.gui.add(dlg);\n        this.gui.draw();\n    }\n    choose(items) {\n        return this.rng.choice(items);\n    }\n    canMove(x, y, dx, dy) {\n        if (this.isBlocked(x + dx, y + dy)) return false;\n        // prevent moving diagonally if both directions are blocked\n        return !(dx && dy && this.isBlocked(x + dx, y) && this.isBlocked(x, y + dy));\n    }\n    isBlocked(x, y) {\n        if (this.map.isBlocked(x, y)) return true;\n        for (const e of this.blockers.get()){\n            const pos = e.get((0, $cb46f08df5be025b$export$13807d9ee5a34a42));\n            if (pos.x === x && pos.y === y) return true;\n        }\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    spawnRandomMonster(x, y, level) {\n        const monster = this.choose(this.monsters);\n        return this.spawnMonster(x, y, monster);\n    }\n    spawnMonster(x, y, monster) {\n        const { categories: categories, ecs: ecs, palette: palette } = this;\n        const category = categories.find((cat)=>cat.logo === monster.cat);\n        const colour = palette[monster.col] || palette.white;\n        const e = ecs.entity().add((0, $cb46f08df5be025b$export$40bdb27f2137fcf), {\n            colour: colour,\n            glyph: monster.cat.charCodeAt(0)\n        }).add((0, $cb46f08df5be025b$export$13807d9ee5a34a42), {\n            x: x,\n            y: y\n        }).add((0, $cb46f08df5be025b$export$3cdec2bba15e3523), this.getMonsterStats(monster));\n        this.debug(\"spawn %d,%d %s (%s)\", x, y, monster.name, category?.name);\n        return e;\n    }\n    getMonsterStats(monster) {\n        const { level: level } = monster;\n        const [body, mind, spirit] = monster.atts;\n        const stats = {\n            level: level,\n            body: body,\n            mind: mind,\n            spirit: spirit,\n            talent: 0,\n            hp: 0,\n            mana: 0,\n            stamina: 0\n        };\n        stats.hp = (0, $dbf2edd1943e9287$export$e94af740078997a7)(stats);\n        stats.mana = (0, $dbf2edd1943e9287$export$ba6f8680e62a84a4)(stats);\n        stats.stamina = (0, $dbf2edd1943e9287$export$7e1308a5071eab31)(stats);\n        return stats;\n    }\n    getPlayerStats(mind, body, spirit, talent) {\n        const stats = {\n            level: 1,\n            mind: mind * 10,\n            body: body * 10,\n            spirit: spirit * 10,\n            talent: talent,\n            hp: 0,\n            mana: 0,\n            stamina: 0\n        };\n        stats.hp = (0, $dbf2edd1943e9287$export$e94af740078997a7)(stats);\n        stats.mana = (0, $dbf2edd1943e9287$export$ba6f8680e62a84a4)(stats);\n        stats.stamina = (0, $dbf2edd1943e9287$export$7e1308a5071eab31)(stats);\n        return stats;\n    }\n}\n\n\nwindow.addEventListener(\"load\", ()=>{\n    const canvas = document.getElementById(\"main\");\n    canvas.focus();\n    const g = new (0, $2ebe2f625290c2e3$export$2e2bcd8739ae039)(canvas, 80, 60);\n    window.g = g;\n});\n\n\n//# sourceMappingURL=index.f10887b5.js.map\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","import Game from \"./Game\";\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n  const canvas = document.getElementById(\"main\") as HTMLCanvasElement;\r\n  canvas.focus();\r\n\r\n  const g = new Game(canvas, 80, 60);\r\n  window.g = g;\r\n});\r\n","import debug, { type Debugger } from \"debug\";\r\nimport EventEmitter from \"eventemitter3\";\r\nimport { random, type XORShift64 } from \"random-seedable\";\r\nimport { Colors, GUI, MessageDialog, Terminal } from \"wglt\";\r\n\r\nimport AmorphousAreaGenerator from \"./AmorphousAreaGenerator\";\r\nimport {\r\n  Appearance,\r\n  type IStats,\r\n  PlayerTag,\r\n  Position,\r\n  Stats,\r\n} from \"./components\";\r\nimport ecs, { type Entity, type Manager, type Query } from \"./ecs\";\r\nimport type Events from \"./events\";\r\nimport {\r\n  getAllTheStats,\r\n  getMaxHP,\r\n  getMaxMana,\r\n  getMaxStamina,\r\n} from \"./formulae\";\r\nimport type GameMap from \"./GameMap\";\r\nimport type ISystem from \"./ISystem\";\r\nimport { loadAllCategories, loadAllMonsters, loadPalette } from \"./resources\";\r\nimport DrawScreen from \"./systems/DrawScreen\";\r\nimport PlayerFOV from \"./systems/PlayerFOV\";\r\nimport PlayerMove from \"./systems/PlayerMove\";\r\nimport type { Monster, MonsterCategory, Palette } from \"./types\";\r\n\r\nexport default class Game extends EventEmitter<Events> {\r\n  blockers: Query;\r\n  categories!: MonsterCategory[];\r\n  debug: Debugger;\r\n  ecs: Manager;\r\n  gui: GUI;\r\n  map!: GameMap;\r\n  monsters!: Monster[];\r\n  palette!: Palette;\r\n  player!: Entity;\r\n  rng: XORShift64;\r\n  scrollX: number;\r\n  scrollY: number;\r\n  systems!: ISystem[];\r\n  term: Terminal;\r\n\r\n  constructor(\r\n    canvas: HTMLCanvasElement,\r\n    public width: number,\r\n    public height: number,\r\n  ) {\r\n    super();\r\n\r\n    this.debug = debug(\"game\");\r\n    this.emit = (event, ...args) => {\r\n      this.debug(\"event\", event, ...args);\r\n      return super.emit(event, ...args);\r\n    };\r\n\r\n    this.ecs = ecs;\r\n    this.blockers = ecs.query({ all: [Position] });\r\n\r\n    ecs\r\n      .prefab(\"player\")\r\n      .add(Appearance, { colour: Colors.WHITE, glyph: \"@\".charCodeAt(0) })\r\n      .add(Stats, this.getPlayerStats(3, 3, 3, 1))\r\n      .add(PlayerTag, {});\r\n    this.player = ecs.entity(\"player\");\r\n\r\n    this.rng = random;\r\n    this.debug(\"seed\", this.rng.seed);\r\n\r\n    this.scrollX = 0;\r\n    this.scrollY = 0;\r\n    this.term = new Terminal(canvas, width, height);\r\n    this.gui = new GUI(this.term);\r\n\r\n    this.installCheats();\r\n\r\n    try {\r\n      const [x, y] = this.load();\r\n      this.player.add(Position, { x, y });\r\n    } catch (e) {\r\n      this.fatal(e);\r\n      return;\r\n    }\r\n\r\n    this.systems = [PlayerMove, PlayerFOV, DrawScreen].map((s) => new s(this));\r\n    this.term.update = this.update.bind(this);\r\n  }\r\n\r\n  private update() {\r\n    // TODO: if (this.gui.handleInput()) ...\r\n\r\n    for (const sys of this.systems) sys.process();\r\n  }\r\n\r\n  private load(): [x: number, y: number] {\r\n    this.categories = loadAllCategories();\r\n    this.monsters = loadAllMonsters();\r\n    this.palette = loadPalette();\r\n\r\n    const aa = new AmorphousAreaGenerator(this, 48);\r\n    this.map = aa.map;\r\n\r\n    if (aa.player) return aa.player;\r\n    return [4, 4];\r\n  }\r\n\r\n  private installCheats() {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const glob = window as any;\r\n\r\n    glob.stats = (name: string) => {\r\n      const monster = this.monsters.find((m) => m.name === name);\r\n      if (!monster) return \"unknown\";\r\n\r\n      const stats = this.getMonsterStats(monster);\r\n      return getAllTheStats(stats, this.player.get(Stats));\r\n    };\r\n  }\r\n\r\n  fatal(e: unknown) {\r\n    const err = e instanceof Error ? e : new Error(JSON.stringify(e));\r\n    console.error(err);\r\n\r\n    const dlg = new MessageDialog(\"Fatal Error\", err.message);\r\n    this.gui.add(dlg);\r\n    this.gui.draw();\r\n  }\r\n\r\n  choose<T>(items: T[]): T {\r\n    return this.rng.choice(items);\r\n  }\r\n\r\n  canMove(x: number, y: number, dx: number, dy: number) {\r\n    if (this.isBlocked(x + dx, y + dy)) return false;\r\n\r\n    // prevent moving diagonally if both directions are blocked\r\n    return !(\r\n      dx &&\r\n      dy &&\r\n      this.isBlocked(x + dx, y) &&\r\n      this.isBlocked(x, y + dy)\r\n    );\r\n  }\r\n\r\n  isBlocked(x: number, y: number) {\r\n    if (this.map.isBlocked(x, y)) return true;\r\n\r\n    for (const e of this.blockers.get()) {\r\n      const pos = e.get(Position);\r\n      if (pos.x === x && pos.y === y) return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  spawnRandomMonster(x: number, y: number, level: number) {\r\n    const monster = this.choose(this.monsters);\r\n    return this.spawnMonster(x, y, monster);\r\n  }\r\n\r\n  spawnMonster(x: number, y: number, monster: Monster) {\r\n    const { categories, ecs, palette } = this;\r\n\r\n    const category = categories.find((cat) => cat.logo === monster.cat);\r\n    const colour = palette[monster.col] || palette.white;\r\n\r\n    const e = ecs\r\n      .entity()\r\n      .add(Appearance, { colour, glyph: monster.cat.charCodeAt(0) })\r\n      .add(Position, { x, y })\r\n      .add(Stats, this.getMonsterStats(monster));\r\n\r\n    this.debug(\"spawn %d,%d %s (%s)\", x, y, monster.name, category?.name);\r\n    return e;\r\n  }\r\n\r\n  getMonsterStats(monster: Monster): IStats {\r\n    const { level } = monster;\r\n    const [body, mind, spirit] = monster.atts;\r\n    const stats: IStats = {\r\n      level,\r\n      body,\r\n      mind,\r\n      spirit,\r\n      talent: 0,\r\n      hp: 0,\r\n      mana: 0,\r\n      stamina: 0,\r\n    };\r\n\r\n    stats.hp = getMaxHP(stats);\r\n    stats.mana = getMaxMana(stats);\r\n    stats.stamina = getMaxStamina(stats);\r\n    return stats;\r\n  }\r\n\r\n  getPlayerStats(\r\n    mind: number,\r\n    body: number,\r\n    spirit: number,\r\n    talent: number,\r\n  ): IStats {\r\n    const stats: IStats = {\r\n      level: 1,\r\n      mind: mind * 10,\r\n      body: body * 10,\r\n      spirit: spirit * 10,\r\n      talent,\r\n      hp: 0,\r\n      mana: 0,\r\n      stamina: 0,\r\n    };\r\n\r\n    stats.hp = getMaxHP(stats);\r\n    stats.mana = getMaxMana(stats);\r\n    stats.stamina = getMaxStamina(stats);\r\n    return stats;\r\n  }\r\n}\r\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import XORShift64 from './xorshift64.js';\n\nexport { default as LCG } from './lcg.js';\nexport { default as PCG } from './pcg.js';\nexport { default as MersenneTwister } from './mersenneTwister.js';\nexport { default as XORShift } from './xorshift.js';\nexport { default as XORShift64 } from './xorshift64.js';\nexport { default as XORShift128 } from './xorshift128.js';\nexport { default as XORShift128Plus } from './xorshift128Plus.js';\nexport { default as XORWow } from './xorwow.js';\n\nexport const random = new XORShift64(Date.now());\nexport default new XORShift64(Date.now());\n","import PRNG64 from './PRNG64.js';\nimport { MAX53 } from './constants.js';\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * This implementation has 64 bit output with 64 bits of internal state.\n *\n * @example\n * const random = new XORShift64(11234, 13, 7, 17);\n *\n * @class\n * @extends {PRNG64}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} a -> First bit shift parameter.\n * @param {number | bigint} b -> Second bit shift parameter.\n * @param {number | bigint} c -> Third bit shift parameter.\n */\nclass XORShift64 extends PRNG64 {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} a -> First bit shift parameter.\n   * @param {number | bigint} b -> Second bit shift parameter.\n   * @param {number | bigint} c -> Third bit shift parameter.\n   */\n  constructor(seed = Date.now(), a = 13, b = 7, c = 17) {\n    super(MAX53, BigInt(seed));\n    this.seed = seed;\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.a = this.cast(BigInt(a), 64);\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.b = this.cast(BigInt(b), 64);\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.c = this.cast(BigInt(c), 64);\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 64);\n    this.x = this._seed;\n  }\n\n  _int() {\n    let { x } = this;\n    x ^= x << this.a;\n    x = this.cast(x, 64);\n    x ^= x >> this.b;\n    x ^= x << this.c;\n    x = this.cast(x, 64);\n    this.x = x;\n    return x;\n  }\n}\n\nexport default XORShift64;\n","import PRNG from './PRNG.js';\n\n/**\n * 64 bit modification of PRNG class.\n * @class\n * @extends {PRNG}\n * @param {number | bigint} max -> Max number that can be generated by this generator.\n * @param {number | bigint} seed -> Initial seed.\n */\nclass PRNG64 extends PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} max -> Max number that can be generated by this generator.\n   * @param {number | bigint} seed -> Initial seed.\n   */\n  constructor(max, seed) {\n    super(max, seed);\n  }\n\n  /**\n   * Generates and returns the next number in the PRNGs sequence.\n   * As this is a 64 bit generator and javascript integers are limited to 53 bits,\n   * the generated BigInt result is right-shifted 11 bits; discarding the least significant bits.\n   *\n   * @example\n   * random.int();\n   *\n   * @example\n   * random.int(); // 85424123\n   *\n   * @public\n   * @returns {number} Number less than 2 ** 53 for 64 bit generators.\n   */\n  int() {\n    // Javascript only has 2 ** 53 integer positions, take 64 bit output and only take the upper 53 bits for use\n    // as our output Number in int mode.\n    return Number(this._int() >> 11n);\n  }\n\n  /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float();\n   *\n   * @example\n   * random.float(); // 0.234242\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */\n  float() {\n    return this.int() / this.max;\n  }\n\n  /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float53();\n   *\n   * @example\n   * random.float53(); // 0.2342422341231\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */\n  float53() {\n    return this.float();\n  }\n}\n\nexport default PRNG64;\n","/**\n * Superclass for all implemented generators.\n */\nclass PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} max -> Max number that can be generated by this generator.\n   * @param {number | bigint} seed -> Initial seed.\n   */\n  constructor(max, seed) {\n    /**\n     * @protected\n     * @readonly\n     * @type {number | bigint}\n     */\n    this.max = max;\n    /**\n     * @protected\n     * @type {number | bigint}\n     */\n    this._seed = seed;\n  }\n\n  /**\n   * Casts the given BigInt number to an unsigned big int with the given\n   * number of bits.\n   *\n   * @protected\n   * @param {bigint} number -> A string param.\n   * @param {number} bits -> An optional param (Closure syntax)\n   * @return {bigint} This is the result\n   */\n  cast(number, bits) {\n    return BigInt.asUintN(bits, number);\n  }\n\n  /**\n   * Checks that a given number is within the range.\n   *\n   * @protected\n   * @param {number} number -> A string param.\n   * @throws Error -> Number greater than max.\n   */\n  checkNum(number) {\n    if (number > this.max) {\n      throw new Error(`Number greater than ${this.max}`);\n    }\n  }\n\n  /**\n   * Resets the PRNG.\n   * To be implemented by sub-classes.\n   *\n   * @public\n   * @throws Error -> Method not implemented.\n   */\n  reset() {\n    if (this.constructor === PRNG) {\n      throw new Error('Method not implemented');\n    }\n  }\n\n  /**\n   * Private method for integer generation.\n   * To be implemented by sub-classes.\n   *\n   * @protected\n   * @return {bigint} Random integer.\n   */\n  _int() {\n    if (this.constructor === PRNG) {\n      throw new Error('Method not implemented');\n    }\n    return BigInt(0);\n  }\n\n  /**\n   * Generates a boolean with the formula random.float() >= 0.5\n   *\n   * @example\n   * random.bool();\n   *\n   * @example\n   * random.bool(); // true\n   *\n   * @public\n   * @returns {boolean} True/False.\n   */\n  bool() {\n    return this.float() >= 0.5;\n  }\n\n  /**\n   * Generates a random boolean with probability of it being true denoted by the pTrue parameter.\n   * For example, when pTrue=0.8, 80% of the numbers generated with this method will be true.\n   *\n   * @example\n   * random.coin(pTrue);\n   *\n   * @example\n   * random.coin(0.8); // true\n   *\n   * @public\n   * @param {number} pTrue -> Probability of generating a true value.\n   * @returns {boolean} True/False.\n   */\n  coin(pTrue = 0.5) {\n    return this.float() < pTrue;\n  }\n\n  /**\n   * Generates and returns the next number in the PRNGs sequence.\n   *\n   * @example\n   * random.int();\n   *\n   * @example\n   * random.int(); // 85424123\n   *\n   * @public\n   * @returns {number} Number less than 2 ** 32 for 32 bit generators.\n   */\n  int() {\n    return Number(this._int());\n  }\n\n  /**\n   * Generates and returns the next number in the PRNGs sequence and returns it as a Bigint.\n   *\n   * @example\n   * random.bigInt();\n   *\n   * @example\n   * random.bigInt(); // 85424123n\n   *\n   * @public\n   * @returns {bigint} Number less than 2 ** 32 for 32 bit generators represented as a BigInt class.\n   */\n  bigInt() {\n    return this._int();\n  }\n\n  /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float();\n   *\n   * @example\n   * random.float(); // 0.234242\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */\n  float() {\n    return this.int() * (1.0 / this.max);\n  }\n\n  /**\n   * Generates a random floating point number.\n   *\n   * @example\n   * random.float53();\n   *\n   * @example\n   * random.float53(); // 0.2342422341231\n   *\n   * @public\n   * @returns {number} Float between 0.0 - 1.0.\n   */\n  float53() {\n    const a = this.int() >>> 5;\n    const b = this.int() >>> 6;\n\n    return (a * 67108864.0 + b) * (1.0 / 9007199254740992.0);\n  }\n\n  /**\n   * Generates a number within the given range.\n   *\n   * @example\n   * random.randRange(min, max);\n   *\n   * @example\n   * const lowerBound = 4;\n   * const upperBound = 2432;\n   * random.randRange(lowerBound, upperBound); // 36.\n   *\n   * @public\n   * @param {number} min -> Lower bound of the numbers to generate (inclusive).\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number} Number min <= Number <= max.\n   */\n  randRange(min, max) {\n    // Debiased Modulo method,\n    // https://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29\n    // https://peteroupc.github.io/randomnotes.html\n    // https://www.pcg-random.org/posts/bounded-rands.html\n    const range = max - min;\n    const t = this.max % range;\n    let r = this.int();\n\n    while (r < t) {\n      r = this.int();\n    }\n\n    return min + (r % range);\n  }\n\n  /**\n   * Generates a number below the given maximum.\n   *\n   * @example\n   * random.randBelow(max);\n   *\n   * @example\n   * const upperBound = 2432;\n   * random.randBelow(upperBound);  // 285.\n   *\n   * @public\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number} Number <= max\n   */\n  randBelow(max) {\n    return this.randRange(0, max);\n  }\n\n  /**\n   * Picks a random element from the array.\n   *\n   * @example\n   * random.choice(array)\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * random.choice(arr); // 4\n   *\n   * @public\n   * @param {any[]} array -> Array of any type from which we randomly select one item.\n   * @returns {any} A single item from the array of type ?.\n   */\n  choice(array) {\n    return array[this.randBelow(array.length)];\n  }\n\n  /**\n   * Randomly shuffles the given array using the fisher-yates algorithm.\n   *\n   * @example\n   * random.shuffle(array, inPlace = false)\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * const shuffled = random.shuffle(arr, false);\n   * console.log(arr); // [1, 4, 2, 3]\n   * console.log(shuffled); // [4, 2, 3, 1]\n   *\n   * @example\n   * const arr = [1, 4, 2, 3];\n   * const shuffled = random.shuffle(arr, true);\n   * console.log(arr); // [4, 2, 3, 1]\n   * console.log(shuffled); // [4, 2, 3, 1]\n   *\n   * @public\n   * @param {any[]} array -> Array of any type to be shuffled.\n   * @param {boolean} inPlace -> Shuffle the array (true) or shuffle a copy of array (false).\n   * @returns {any[]} Array shuffled (inPlace === false), shuffled copy of array (inPlace === true).\n   */\n  shuffle(array, inPlace = true) {\n    let toSort = array;\n\n    if (!inPlace) {\n      toSort = Array.from(toSort);\n    }\n\n    // https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle.\n    for (let i = toSort.length - 1; i > 0; i--) {\n      const j = this.randRange(0, i);\n      const temp = toSort[i];\n      toSort[i] = toSort[j];\n      toSort[j] = temp;\n    }\n\n    return toSort;\n  }\n\n  /**\n   * Creates an array of the given size populated with the result of the mapFn.\n   *\n   * @protected\n   * @param {number} size -> Length of the array to create.\n   * @param {function(): boolean | number | bigint} mapFn -> Function which we use to fill array.\n   * @returns {boolean[] | number[] | bigint[]} Array created by repeated calls to the mapFn.\n   */\n  initArray(size, mapFn) {\n    return Array.from({ length: size }, mapFn);\n  }\n\n  /**\n   * Generates an n size array populated with booleans.\n   *\n   * @example\n   * random.boolArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.boolArray(size);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @returns {boolean[]} Array[Boolean] of length size.\n   */\n  boolArray(size) {\n    return this.initArray(size, () => this.bool());\n  }\n\n  /**\n   * Generates an n size array of random booleans with probability of it being true\n   * denoted by the pTrue parameter. For example, when pTrue=0.8, 80% of the numbers\n   * in the generated array will be true.\n   *\n   * @example\n   * random.coinArray(size, pTrue);\n   *\n   * @example\n   * const size = 256;\n   * const pTrue = 0.8;\n   * random.coinArray(size, pTrue);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @param {number} pTrue -> Probability of generating a true value.\n   * @returns {boolean[]} Array[Boolean] of length size.\n   */\n  coinArray(size, pTrue = 0.5) {\n    return this.initArray(size, () => this.coin(pTrue));\n  }\n\n  /**\n   * Generates an n size array populated with integers.\n   *\n   * @example\n   * random.intArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.intArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] of length size.\n   */\n  intArray(size) {\n    return this.initArray(size, () => this.int());\n  }\n\n  /**\n   * Generates an n size array populated with Big Integers.\n   *\n   * @example\n   * random.bigIntArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.bigIntArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {bigint[]} Array[BigInt] of length size.\n   */\n  bigIntArray(size) {\n    return this.initArray(size, () => this.bigInt());\n  }\n\n  /**\n   * Generates an n size array populated within the given range.\n   *\n   * @example\n   * random.randRangeArray(size, min, max);\n   *\n   * @example\n   * const size = 256;\n   * const lowerBound = 4;\n   * const upperBound = 2432;\n   * random.randRangeArray(size, lowerBound, upperBound);\n   *\n   * @public\n   * @param {number} size -> Size of the array to generate.\n   * @param {number} min -> Lower bound of the numbers to generate (inclusive).\n   * @param {number} max -> Upper bound of the numbers to generate (inclusive).\n   * @returns {number[]} Array[Number] of length size filled w/ min <= num <= max.\n   */\n  randRangeArray(size, min, max) {\n    return this.initArray(size, () => this.randRange(min, max));\n  }\n\n  /**\n   * Generates an n size array populated with floats.\n   *\n   * @example\n   * random.floatArray(size);\n   *\n   * @example\n   * const size = 256;\n   * random.floatArray(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] between 0.0 - 1.0 of length size.\n   */\n  floatArray(size) {\n    return this.initArray(size, () => this.float());\n  }\n\n  /**\n   * Generates an n size array populated with floats.\n   *\n   * @example\n   * random.float53Array(size);\n   *\n   * @example\n   * const size = 256;\n   * random.float53Array(size);\n   *\n   * @public\n   * @param size -> Size of the array to generate.\n   * @returns {number[]} Array[Number] between 0.0 - 1.0 of length size.\n   */\n  float53Array(size) {\n    return this.initArray(size, () => this.float53());\n  }\n}\n\nexport default PRNG;\n","/** @type {number} */\nexport const MAX32 = 2 ** 32;\n/** @type {number} */\nexport const MAX53 = 2 ** 53;\n/** @type {bigint} */\nexport const MAX64 = 2n ** 64n;\n\n/** @enum {number | bigint} */\nexport default {\n  MAX32,\n  MAX53,\n  MAX64,\n};\n","import PRNG from './PRNG.js';\n\n/**\n * Linear Congruential Generator (LCG) is a simple generator originally devised in 1951,\n * if you need something quick with minimal memory usage and not the best quality randomness,\n * this is for you. 32 bits of output.\n *\n * @example\n * const random = new LCG(1234, 1664525, 1013904223, 4294967296);\n *\n * @class\n * @extends {PRNG}\n * @param {number} seed ->  Initial seed.\n * @param {number} a -> Multiplier parameter.\n * @param {number} c -> Increment parameter.\n * @param {number} m -> Modulus parameter.\n */\nclass LCG extends PRNG {\n  /**\n   * @constructor\n   * @param {number} seed ->  Initial seed.\n   * @param {number} a -> Multiplier parameter.\n   * @param {number} c -> Increment parameter.\n   * @param {number} m -> Modulus parameter.\n   */\n  constructor(seed = Date.now(), a = 1664525, c = 1013904223, m = 4294967296) {\n    super(m, seed);\n    [seed, a, c, m].forEach((num) => this.checkNum(num));\n    this.seed = seed;\n    Object.assign(this, { a, c, m }); // Group assignment for brevity.\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = seed;\n    this.x = this._seed;\n  }\n\n  _int() {\n    this.x = (this.a * this.x + this.c) % this.m;\n    return BigInt(this.x);\n  }\n}\n\nexport default LCG;\n","import PRNG from './PRNG.js';\r\nimport { MAX32 } from './constants.js';\r\n\r\n/**\r\n * Permuted Congruential Generator (PCG) is again, a relatively simple generator that improves on the qualites\r\n * of LCG by improving its randomness quality by increasing its state size and using only the most significant bits\r\n * to produce the output. 32 bits of output.\r\n *\r\n * @example\r\n * const random = new PCG(Date.now(), 6364136223846793005n, 1442695040888963407n);\r\n *\r\n * @class\r\n * @extends {PRNG}\r\n * @param {number | bigint} seed -> Initial seed.\r\n * @param {number | bigint} mul -> Multiplier parameter.\r\n * @param {number | bigint} inc -> Increment parameter.\r\n */\r\nclass PCG extends PRNG {\r\n  // constructor(seed = 0x4d595df4d0f33173n, mul = 6364136223846793005n, inc = 1442695040888963407n) {\r\n  /**\r\n   * @constructor\r\n   * @param {number | bigint} seed -> Initial seed.\r\n   * @param {number | bigint} mul -> Multiplier parameter.\r\n   * @param {number | bigint} inc -> Increment parameter.\r\n   */\r\n  constructor(seed = Date.now(), mul = 6364136223846793005n, inc = 1442695040888963407n) {\r\n    super(MAX32, BigInt(seed));\r\n    this.seed = seed;\r\n    /**\r\n     * @private\r\n     * @type {bigint}\r\n     */\r\n    this.mul = this.cast(BigInt(mul), 64);\r\n    /**\r\n     * @private\r\n     * @type {bigint}\r\n     */\r\n    this.inc = this.cast(BigInt(inc), 64);\r\n  }\r\n\r\n  /**\r\n   * Resets the generator to its original state.\r\n   */\r\n  reset() {\r\n    this.x = this.seed;\r\n  }\r\n\r\n  /**\r\n   * Seed getter.\r\n   *\r\n   * @public\r\n   * @returns {number | bigint} Retrieves seed.\r\n   */\r\n  get seed() {\r\n    return this._seed;\r\n  }\r\n\r\n  /**\r\n   * Converts seed into BigInt + sets.\r\n   *\r\n   * @param {number | bigint} seed -> New seed to set.\r\n   */\r\n  set seed(seed) {\r\n    this._seed = this.cast(BigInt(seed), 64);\r\n    this.x = this._seed;\r\n  }\r\n\r\n  /**\r\n   * 32 bit rotation op.\r\n   * @param {bigint} x -> x parameter of PCG algorithm.\r\n   * @param {bigint} r -> r parameter of PCG algorithm.\r\n   * @returns {bigint} Returns 32 bit result of rotation operation.\r\n   */\r\n  rotr32(x, r) {\r\n    return this.cast(x >> r | x << (-r & 31n), 32);\r\n  }\r\n\r\n  _int() {\r\n    let x = this.x;\r\n    let count = x >> 59n; // 59 = 64 - 5\r\n    this.x = x * this.mul + this.inc;\r\n    this.x = this.cast(this.x, 64);\r\n    x ^= x >> 18n; // 18 = (64 - 27) / 2\r\n    return this.rotr32(this.cast((x >> 27n), 32), count); // 27 = 32 - 5\r\n  }\r\n}\r\n\r\nexport default PCG;\r\n","import PRNG from './PRNG.js';\nimport { MAX32 } from './constants.js';\n\n/** @type {bigint} */\nconst MATRIX_A = 0x9908b0dfn; /* constant vector a */\n/** @type {bigint} */\nconst UPPER_MASK = 0x80000000n; /* most significant w-r bits */\n/** @type {bigint} */\nconst LOWER_MASK = 0x7fffffffn; /* least significant r bits */\n\n// https://github.com/boo1ean/mersenne-twister/blob/master/src/mersenne-twister.js\n//   https://gist.github.com/banksean/300494\n//     https://upload.wikimedia.org/wikipedia/commons/b/b5/Mersenne_Twister_visualisation.svg\n// https://gitlab.com/rockerest/fast-mersenne-twister/-/blob/master/mersenne.js\n\n/**\n * Mersenne Twister is a widely used PRNG, most well known for being the Python and Excel\n * default with an extremely large state. 32 bits of output.\n *\n * @example\n * const random = new MersenneTwister(5489, 624, 397);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} n -> Degree of recurrence.\n * @param {number | bigint} m -> Middle word, offset used during recurrence.\n */\nclass MersenneTwister extends PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} n -> Degree of recurrence.\n   * @param {number | bigint} m -> Middle word, offset used during recurrence.\n   */\n  constructor(seed = Date.now(), n = 624, m = 397) {\n    super(MAX32, BigInt(seed));\n    this.state = new Array(n);\n    this.N = n;\n    this.M = m;\n    this.initf = 0;\n    this.stateIndex = 0;\n\n    // Trigger seed setter after all variables initialised.\n    this.seed = seed;\n  }\n\n  /**\n   * Resets the generator to its original state.\n   *\n   * @public\n   */\n  reset() {\n    this.seed = this._seed;\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 32);\n    this.state[0] = this._seed & 0xffffffffn;\n\n    for (let j = 1; j < this.N; j++) {\n      this.state[j] = (1812433253n * (this.state[j - 1] ^ (this.state[j - 1] >> 30n)) + BigInt(j));\n      /* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n      /* In the previous versions, MSBs of the seed affect   */\n      /* only MSBs of the array state[].                        */\n      /* 2002/01/09 modified by Makoto Matsumoto             */\n      this.state[j] &= 0xffffffffn; /* for >32 bit machines */\n    }\n    this.initf = 1;\n  }\n\n  /**\n   * @private\n   * @param {bigint} u\n   * @param {bigint} v\n   * @returns {bigint}\n   */\n  mixBits(u, v) {\n    return (((u) & UPPER_MASK) | ((v) & LOWER_MASK));\n  }\n\n  /**\n   * Computes the twist function.\n   * @private\n   * @param {bigint} u\n   * @param {bigint} v\n   * @returns {bigint}\n   */\n  twist(u, v) {\n    return ((this.mixBits(u, v) >> 1n) ^ ((v) & 1n ? MATRIX_A : 0n));\n  }\n\n  /**\n   * Computes the next state of the generator.\n   * @private\n   */\n  nextState() {\n    let j = 0;\n\n    for (; j < this.N - this.M; j++) {\n      this.state[j] = this.state[j + this.M] ^ this.twist(this.state[j], this.state[j + 1]);\n    }\n\n    for (; j < this.N - 1; j++) {\n      this.state[j] = this.state[j + (this.M - this.N)] ^ this.twist(this.state[j], this.state[j + 1]);\n    }\n\n    this.state[this.N - 1] = this.state[this.M - 1] ^ this.twist(this.state[this.N - 1], this.state[0]);\n    this.stateIndex = 0;\n    this.initf = 0;\n  }\n\n  _int() {\n    let y;\n\n    if (this.stateIndex >= this.N || this.initf) {\n      this.nextState();\n    }\n\n    y = this.state[this.stateIndex++];\n\n    /* Tempering */\n    y ^= (y >> 11n);\n    y ^= (y << 7n) & 0x9d2c5680n;\n    y ^= (y << 15n) & 0xefc60000n;\n    y ^= (y >> 18n);\n\n    return y;\n  }\n}\n\nexport default MersenneTwister;\n","import PRNG from './PRNG.js';\nimport { MAX32 } from './constants.js';\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * This generator has 32 bit output with 32 bits of internal state.\n *\n * @example\n * const random = new XORShift(11234, 13, 17, 5);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} a -> First bit shift parameter.\n * @param {number | bigint} b -> Second bit shift parameter.\n * @param {number | bigint} c -> Third bit shift parameter.\n */\nclass XORShift extends PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} a -> First bit shift parameter.\n   * @param {number | bigint} b -> Second bit shift parameter.\n   * @param {number | bigint} c -> Third bit shift parameter.\n   */\n  constructor(seed = Date.now(), a = 13, b = 17, c = 5) {\n    super(MAX32, BigInt(seed));\n    this.seed = seed;\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.a = this.cast(BigInt(a), 32);\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.b = this.cast(BigInt(b), 32);\n    /**\n     * @private\n     * @type {BigInt}\n     */\n    this.c = this.cast(BigInt(c), 32);\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 32);\n    this.x = this._seed;\n  }\n\n  _int() {\n    let { x } = this;\n    x ^= x << this.a;\n    // Recast to uint32. BigInt on a left shift will always shift and keep digits regardless\n    // of previous casting. Therefore re-cast is necessary to ensure code behaves the same w/r to _seed c behaviour.\n    x = this.cast(x, 32);\n    x ^= x >> this.b;\n    x ^= x << this.c;\n    x = this.cast(x, 32);\n    this.x = x;\n    return x;\n  }\n}\n\nexport default XORShift;\n","import PRNG from './PRNG.js';\nimport { MAX32 } from './constants.js';\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality. This implementation\n * has 32 bit output with 128 bits of internal state.\n *\n * @example\n * const random = new XORShift128(Date.now(), 362436069, 521288629, 88675123);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> First bit shift parameter.\n * @param {number | bigint} z -> Second bit shift parameter.\n * @param {number | bigint} w -> Third bit shift parameter.\n */\nclass XORShift128 extends PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> First bit shift parameter.\n   * @param {number | bigint} z -> Second bit shift parameter.\n   * @param {number | bigint} w -> Third bit shift parameter.\n   */\n  constructor(seed = Date.now(), y = 362436069, z = 521288629, w = 88675123) {\n    super(MAX32, BigInt(seed));\n    this.seed = seed;\n    this.y = this.cast(BigInt(y), 32);\n    this.z = this.cast(BigInt(z), 32);\n    this.w = this.cast(BigInt(w), 32);\n    this.origParams = {\n      y: this.y, z: this.z, w: this.w,\n    };\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n    Object.assign(this, this.origParams);\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 32);\n    this.reset();\n  }\n\n  _int() {\n    let { x, w } = this;\n\n    x ^= x << 11n;\n    x = this.cast(x, 32);\n    x ^= x >> 8n;\n    w ^= w >> 19n;\n\n    this.x = this.y;\n    this.y = this.z;\n    this.z = this.w;\n    this.w = w ^ x;\n    return this.w;\n  }\n}\n\nexport default XORShift128;\n","import PRNG64 from './PRNG64.js';\nimport { MAX53 } from './constants.js';\n\n/**\n * XorShift generators are fast, efficient generators with good randomness quality.\n * 64 bits of output with 128 internal state.\n *\n * @example\n * const random = new XORShift128Plus(Date.now(), 362436069);\n *\n * @class\n * @extends {PRNG64}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> Second seed.\n */\nclass XORShift128Plus extends PRNG64 {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> Second seed.\n   */\n  constructor(seed = Date.now(), y = 362436069) {\n    super(MAX53, seed);\n    this.seed = seed;\n    this.y = this.cast(BigInt(y), 64);\n    this.origParams = { y: this.y };\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n    Object.assign(this, this.origParams);\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 64);\n    this.reset();\n  }\n\n  _int() {\n    let s1 = this.x;\n    const s0 = this.y;\n    const result = this.cast(s0 + s1, 64);\n    this.x = s0;\n    s1 ^= s1 << 23n; // a\n    s1 = this.cast(s1, 64);\n    this.y = s1 ^ s0 ^ (s1 >> 18n) ^ (s0 >> 5n); // b, c\n    return result;\n  }\n}\n\nexport default XORShift128Plus;\n","import PRNG from './PRNG.js';\nimport { MAX32 } from './constants.js';\n\n/**\n * XorWow is an improved version of XorShift and default generator of Nvidia CUDA. 32 bits of output.\n *\n * @example\n * const random = new XORWow(123456789, 362436069, 521288629, 88675123, 5783321, 6615241, 362437);\n *\n * @class\n * @extends {PRNG}\n * @param {number | bigint} seed -> Initial seed.\n * @param {number | bigint} y -> First state initial value.\n * @param {number | bigint} z -> Second state initial value.\n * @param {number | bigint} w -> Third state initial value.\n * @param {number | bigint} v -> Fourth state initial value.\n * @param {number | bigint} d -> Fifth state initial value.\n * @param {number | bigint} weyl -> Additive counter.\n */\nclass XORWow extends PRNG {\n  /**\n   * @constructor\n   * @param {number | bigint} seed -> Initial seed.\n   * @param {number | bigint} y -> First state initial value.\n   * @param {number | bigint} z -> Second state initial value.\n   * @param {number | bigint} w -> Third state initial value.\n   * @param {number | bigint} v -> Fourth state initial value.\n   * @param {number | bigint} d -> Fifth state initial value.\n   * @param {number | bigint} weyl -> Additive counter.\n   */\n  constructor(seed = Date.now(), y = 362436069, z = 521288629, w = 88675123,\n    v = 5783321, d = 6615241, weyl = 362437) {\n    super(MAX32, BigInt(seed));\n    // Other PRNGs call the seed setter, we do not do this here as it would add too much complexity to the function.\n    this._seed = this.cast(this._seed, 32);\n    this.x = this._seed;\n\n    this.y = this.cast(BigInt(y), 32);\n    this.z = this.cast(BigInt(z), 32);\n    this.w = this.cast(BigInt(w), 32);\n    this.v = this.cast(BigInt(v), 32);\n    this.d = this.cast(BigInt(d), 32);\n    this.weyl = this.cast(BigInt(weyl), 32);\n\n    this.origParams = {\n      y: this.y, z: this.z, w: this.w, v: this.v, d: this.d,\n    };\n  }\n\n  /**\n   * Resets the generator to its original state.\n   */\n  reset() {\n    this.x = this.seed;\n    Object.assign(this, this.origParams);\n  }\n\n  /**\n   * Seed getter.\n   *\n   * @public\n   * @returns {number | bigint} Retrieves seed.\n   */\n  get seed() {\n    return this._seed;\n  }\n\n  /**\n   * Converts seed into BigInt + takes steps to reset generator.\n   *\n   * @public\n   * @param {number | bigint} seed -> New seed to set.\n   */\n  set seed(seed) {\n    this._seed = this.cast(BigInt(seed), 32);\n    this.reset();\n  }\n\n  _int() {\n    let t = this.x;\n    let { v } = this;\n\n    t ^= t >> 2n;\n    t ^= t << 1n;\n    v ^= v << 4n;\n\n    this.x = this.y;\n    this.y = this.z;\n    this.z = this.w;\n    this.w = this.v;\n    this.v = this.cast(v ^ t, 32);\n    this.d += this.weyl;\n    return this.cast(this.d + this.v, 32);\n  }\n}\n\nexport default XORWow;\n","var Ae=Object.defineProperty;var Ee=Object.getOwnPropertyDescriptor;var R=(a,e,t,r)=>{for(var i=r>1?void 0:r?Ee(e,t):e,o=a.length-1,n;o>=0;o--)(n=a[o])&&(i=(r?n(e,t,i):n(i))||i);return r&&i&&Ae(e,t,i),i};var k=[[1,0,1,0],[1,0,1,1],[1,0,1,2],[2,0,2,1],[0,0,2,1],[0,0,1,2],[2,0,2,2],[2,0,2,0],[0,0,2,2],[2,0,0,2],[2,0,0,1],[1,0,0,2],[0,0,1,1],[1,1,0,0],[1,1,0,1],[0,1,1,1],[1,1,1,0],[0,1,0,1],[1,1,1,1],[1,2,1,0],[2,1,2,0],[2,2,0,0],[0,2,2,0],[2,2,0,2],[0,2,2,2],[2,2,2,0],[0,2,0,2],[2,2,2,2],[1,2,0,2],[2,1,0,1],[0,2,1,2],[0,1,2,1],[2,1,0,0],[1,2,0,0],[0,2,1,0],[0,1,2,0],[2,1,2,1],[1,2,1,2],[1,0,0,1],[0,1,1,0]];function xe(a,e,t){let r=a.getCharCode(e,t);return r!==void 0&&r>=179&&r<=218}function I(a,e,t,r){if(e<0||t<0||e>=a.width||t>=a.height)return 0;let i=a.getCharCode(e,t);return i===void 0||i<179||i>218?0:k[i-179][r]}function Te(a,e,t,r){for(let i=0;i<k.length;i++){let o=k[i];if(o[0]===a&&o[1]===e&&o[2]===t&&o[3]===r)return 179+i}return 0}function Ue(a){for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++)if(xe(a,t,e)){let r=I(a,t,e-1,2),i=I(a,t+1,e,3),o=I(a,t,e+1,0),n=I(a,t-1,e,1);r>0&&i===0&&o===0&&n===0?o=r:r===0&&i>0&&o===0&&n===0?n=i:r===0&&i===0&&o>0&&n===0?r=o:r===0&&i===0&&o===0&&n>0&&(i=n),n>0&&i>0&&(n=i=Math.max(n,i)),r>0&&o>0&&(r=o=Math.max(r,o));let s=Te(r,i,o,n);if((r||i||o||n)&&!(s>=179&&s<=218))throw new Error(\"invalid char code! (up=\"+r+\", right=\"+i+\", down=\"+o+\", left=\"+n+\")\");a.drawChar(t,e,s)}}function c(a,e,t,r){return r===void 0&&(r=255),(a<<24)+(e<<16)+(t<<8)+r}function Ie(a,e,t,r){let i=a*6|0,o=a*6-i,n=t*(1-e),s=t*(1-o*e),l=t*(1-(1-o)*e),h,u,d;switch(i%6){case 0:h=t,u=l,d=n;break;case 1:h=s,u=t,d=n;break;case 2:h=n,u=t,d=l;break;case 3:h=n,u=s,d=t;break;case 4:h=l,u=n,d=t;break;case 5:h=t,u=n,d=s;break;default:h=0,u=0,d=0}return r===void 0&&(r=1),c(h*255|0,u*255|0,d*255|0,r*255|0)}var y={BLACK:c(0,0,0),WHITE:c(255,255,255),LIGHT_GRAY:c(170,170,170),DARK_GRAY:c(85,85,85),YELLOW:c(255,255,85),BROWN:c(170,85,0),LIGHT_RED:c(255,85,85),DARK_RED:c(170,0,0),LIGHT_GREEN:c(85,255,85),DARK_GREEN:c(0,170,0),LIGHT_CYAN:c(85,255,255),DARK_CYAN:c(0,170,170),LIGHT_BLUE:c(85,85,255),DARK_BLUE:c(0,0,170),LIGHT_MAGENTA:c(255,85,255),DARK_MAGENTA:c(170,0,170),ORANGE:c(255,136,0)};var Y=new Map;function L(a){Y.set(a.name,a)}function Ge(a){let e=[],t=new WeakMap,r=i(a);return JSON.stringify({instances:e,root:r});function i(l){return Array.isArray(l)?o(l):l&&typeof l==\"object\"?n(l):l}function o(l){let h=[];for(let u=0;u<l.length;u++)h[u]=i(l[u]);return h}function n(l){if(l&&l.constructor.name&&l.constructor.name!==\"Object\"){if(!Y.has(l.constructor.name))throw new Error(`Class ${l.constructor.name} is not serializable.`);if(t.has(l))return{$ref:t.get(l)};let h=e.length;return e.push({$type:l.constructor.name}),t.set(l,h),e[h]={...s(l),$type:l.constructor.name},{$ref:h}}return s(l)}function s(l){let h={};for(let u of Object.keys(l))h[u]=i(l[u]);return h}}function He(a){let e=JSON.parse(a),t=e.instances;for(let s=0;s<t.length;s++){let l=t[s],h=Y.get(l.$type);delete l.$type,t[s]=Object.create(h.prototype,Object.getOwnPropertyDescriptors(l))}for(let s=0;s<t.length;s++)n(t[s]);return r(e.root);function r(s){return Array.isArray(s)?i(s):s&&typeof s==\"object\"?o(s):s}function i(s){for(let l=0;l<s.length;l++)s[l]=r(s[l]);return s}function o(s){return Re(s)?t[s.$ref]:(n(s),s)}function n(s){for(let[l,h]of Object.entries(s))s[l]=r(h)}}function Re(a){return!!(a&&typeof a==\"object\"&&\"$ref\"in a)}function Le(a){return typeof a==\"string\"&&a.length>0?a.charCodeAt(0):a}var N=class{constructor(e,t,r,i=y.WHITE,o=y.BLACK){this.x=e;this.y=t;r!==void 0?this.charCode=Le(r):this.charCode=32,this.fg=i,this.bg=o,this.dirty=!0,this.blocked=!1,this.blockedSight=!1,this.explored=!1,this.visible=!1,this.pathId=-1,this.g=0,this.h=0,this.prev=null}setCharCode(e){this.charCode!==e&&(this.charCode=e,this.dirty=!0)}setForeground(e){e!=null&&e!==this.fg&&(this.fg=e,this.dirty=!0)}setBackground(e){e!=null&&e!==this.bg&&(this.bg=e,this.dirty=!0)}setValue(e,t,r){return typeof e==\"string\"&&(e=e.charCodeAt(0)),typeof e==\"number\"?(this.setCharCode(e),t!==void 0&&this.setForeground(t),r!==void 0&&this.setBackground(r)):this.drawCell(e),this.dirty}drawCell(e,t){let r=e.bg&255;!t||e.charCode>0?(this.setCharCode(e.charCode),this.setForeground(e.fg)):r>0&&r<255&&this.setForeground(this.blendColors(this.fg,e.bg,t)),!t||r===255?this.setBackground(e.bg):r>0&&this.setBackground(this.blendColors(this.bg,e.bg,t))}blendColors(e,t,r){let o=(255-(t&255))/255,n=1-o,s=e>>24&255,l=e>>16&255,h=e>>8&255,u=t>>24&255,d=t>>16&255,b=t>>8&255;switch(r){case\"blend\":return c(o*s+n*u|0,o*l+n*d|0,o*h+n*b|0);case\"add\":return c(this.clamp(s+n*u|0),this.clamp(l+n*d|0),this.clamp(h+n*b|0));default:return t}}clamp(e){return Math.min(255,e)}};N=R([L],N);var g={SMILEY:1,INVERSE_SMILEY:2,HEART:3,DIAMOND:4,CLUB:5,SPADE:6,BULLET:7,INVERSE_BULLET:8,LIGHT_SHADE:176,MEDIUM_SHADE:177,DARK_SHADE:178,BOX_SINGLE_VERTICAL:179,BOX_SINGLE_VERTICAL_AND_SINGLE_LEFT:180,BOX_DOUBLE_VERTICAL_AND_DOUBLE_LEFT:185,BOX_DOUBLE_VERTICAL:186,BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT:187,BOX_DOUBLE_UP_AND_DOUBLE_LEFT:188,BOX_SINGLE_DOWN_AND_SINGLE_LEFT:191,BOX_SINGLE_UP_AND_SINGLE_RIGHT:192,BOX_SINGLE_HORIZONTAL_AND_SINGLE_UP:193,BOX_SINGLE_HORIZONTAL_AND_SINGLE_DOWN:194,BOX_SINGLE_VERTICAL_AND_SINGLE_RIGHT:195,BOX_SINGLE_HORIZONTAL:196,BOX_SINGLE_VERTICAL_AND_SINGLE_HORIZONTAL:197,BOX_DOUBLE_UP_AND_DOUBLE_RIGHT:200,BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT:201,BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_UP:202,BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_DOWN:203,BOX_DOUBLE_VERTICAL_AND_DOUBLE_RIGHT:204,BOX_DOUBLE_HORIZONTAL:205,BOX_DOUBLE_VERTICAL_AND_DOUBLE_HORIZONTAL:206,BOX_SINGLE_UP_AND_SINGLE_LEFT:217,BOX_SINGLE_DOWN_AND_SINGLE_RIGHT:218,BLOCK_FULL:219,BLOCK_BOTTOM_HALF:220,BLOCK_LEFT_HALF:221,BLOCK_RIGHT_HALF:222,BLOCK_TOP_HALF:223};var X={LEFT:\"left\",CENTER:\"center\",RIGHT:\"right\"},B=class{constructor(e,t,r,i,o){this.text=e;this.fg=t;this.bg=r;this.children=i;this.align=o}getWidth(){let e=0;if(this.text)for(let t of this.text.split(`\n`))e=Math.max(e,t.length);if(this.children)for(let t of this.children)e=Math.max(e,t.getWidth());return e}getHeight(){let e=0;if(this.text&&(e+=this.text.split(`\n`).length),this.children)for(let t of this.children)e+=t.getHeight();return e}};B=R([L],B);function re(a,e){let t=new RegExp(\"(\\\\S(.{0,\"+e+\"}\\\\S)?)\\\\s+\",\"g\");return(a+\" \").replace(t,`$1\n`).trim().split(`\n`).map(r=>r.trim())}function $e(a){return a&&a.charAt(0).toUpperCase()+a.slice(1)}var D=class{constructor(e,t,r){this.width=e;this.height=t;this.grid=[],this.originX=0,this.originY=0,this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.radius=0;for(let i=0;i<t;i++){let o=[];for(let n=0;n<e;n++)o.push(new N(n,i));this.grid.push(o)}if(this.clear(),r)for(let i=0;i<t;i++)for(let o=0;o<e;o++)this.grid[i][o].blocked=this.grid[i][o].blockedSight=r(o,i)}clear(){for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++)this.drawChar(t,e,0)}getCell(e,t){if(!(e<0||t<0||e>=this.width||t>=this.height))return this.grid[t][e]}getCharCode(e,t){if(!(e<0||t<0||e>=this.width||t>=this.height))return this.grid[t][e].charCode}drawChar(e,t,r,i,o){this.clip&&!this.clip.contains({x:e,y:t})||e>=0&&e<this.width&&t>=0&&t<this.height&&this.grid[t|0][e|0].setValue(r,i,o)}drawString(e,t,r,i,o){let n=r.split(`\n`);for(let s=0;s<n.length;s++)this.drawStringLine(e,t+s,n[s],i,o)}drawStringLine(e,t,r,i,o){for(let n=0;n<r.length;n++)this.drawChar(e+n,t,r.charCodeAt(n),i,o)}drawCenteredString(e,t,r,i,o){this.drawString(e-Math.floor(r.length/2),t,r,i,o)}drawMessage(e,t,r,i){if(r.text){r.align===X.RIGHT?e+=i-r.text.length:r.align===X.CENTER&&(e+=i/2-r.text.length/2);let o=re(r.text,i||this.width-e);for(let n of o)this.drawStringLine(e,t,n,r.fg,r.bg),t++}if(r.children)for(let o of r.children)t=this.drawMessage(e,t,o,i);return t}drawHLine(e,t,r,i,o,n){for(let s=e;s<e+r;s++)this.drawChar(s,t,i,o,n)}drawVLine(e,t,r,i,o,n){for(let s=t;s<t+r;s++)this.drawChar(e,s,i,o,n)}drawRect(e,t,r,i,o,n,s){this.drawHLine(e,t,r,o,n,s),this.drawHLine(e,t+i-1,r,o,n,s),this.drawVLine(e,t,i,o,n,s),this.drawVLine(e+r-1,t,i,o,n,s)}drawBox(e,t,r,i,o,n,s,l,h,u,d,b,p,E){this.drawHLine(e,t,r,o,p,E),this.drawHLine(e,t+i-1,r,s,p,E),this.drawVLine(e,t,i,l,p,E),this.drawVLine(e+r-1,t,i,n,p,E),this.drawChar(e,t,h,p,E),this.drawChar(e+r-1,t,u,p,E),this.drawChar(e,t+i-1,b,p,E),this.drawChar(e+r-1,t+i-1,d,p,E)}drawSingleBox(e,t,r,i,o,n){this.drawBox(e,t,r,i,g.BOX_SINGLE_HORIZONTAL,g.BOX_SINGLE_VERTICAL,g.BOX_SINGLE_HORIZONTAL,g.BOX_SINGLE_VERTICAL,g.BOX_SINGLE_DOWN_AND_SINGLE_RIGHT,g.BOX_SINGLE_DOWN_AND_SINGLE_LEFT,g.BOX_SINGLE_UP_AND_SINGLE_LEFT,g.BOX_SINGLE_UP_AND_SINGLE_RIGHT,o,n)}drawDoubleBox(e,t,r,i,o,n){this.drawBox(e,t,r,i,g.BOX_DOUBLE_HORIZONTAL,g.BOX_DOUBLE_VERTICAL,g.BOX_DOUBLE_HORIZONTAL,g.BOX_DOUBLE_VERTICAL,g.BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT,g.BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT,g.BOX_DOUBLE_UP_AND_DOUBLE_LEFT,g.BOX_DOUBLE_UP_AND_DOUBLE_RIGHT,o,n)}fillRect(e,t,r,i,o,n,s){for(let l=t;l<t+i;l++)this.drawHLine(e,l,r,o,n,s)}drawConsole(e,t,r,i,o,n,s,l){for(let h=0;h<s;h++)for(let u=0;u<n;u++){let d=r.getCell(i+u,o+h);d&&this.drawCell(e+u,t+h,d,l)}}drawCell(e,t,r,i){e>=0&&e<this.width&&t>=0&&t<this.height&&this.grid[t][e].drawCell(r,i)}setBlocked(e,t,r){e>=0&&e<this.width&&t>=0&&t<this.height&&(this.grid[t][e].blocked=r)}setBlockedSight(e,t,r){e>=0&&e<this.width&&t>=0&&t<this.height&&(this.grid[t][e].blockedSight=r)}isVisible(e,t){return e<this.minX||e>this.maxX||t<this.minY||t>this.maxY?!1:this.grid[t][e].visible}isBlocked(e,t){return e<0||e>this.width||t<0||t>this.height?!0:this.grid[t][e].blocked}isBlockedSight(e,t){return e<0||e>this.width||t<0||t>this.height?!0:this.grid[t][e].blockedSight}computeOctantY(e,t){let r=[],i=[],o=1,n=0,s=0,l=0,h,u,d,b,p,E,C,x,A,v;for(u=this.originY+t;u>=this.minY&&u<=this.maxY;u+=t,s=n,++o)for(d=.5/o,v=-1,b=Math.floor(l*o+.5),h=this.originX+b*e;b<=o&&h>=this.minX&&h<=this.maxX;h+=e,++b,v=A){if(p=!0,E=!1,C=b/o,x=v,A=C+d,s>0){if(!(this.grid[u-t][h].visible&&!this.grid[u-t][h].blockedSight)&&!(this.grid[u-t][h-e].visible&&!this.grid[u-t][h-e].blockedSight))p=!1;else for(let _=0;_<s&&p;++_)if(x<=i[_]&&A>=r[_]){if(this.grid[u][h].blockedSight)if(x>=r[_]&&A<=i[_]){p=!1;break}else r[_]=Math.min(r[_],x),i[_]=Math.max(i[_],A),E=!0;else if(C>r[_]&&C<i[_]){p=!1;break}}}p&&(this.grid[u][h].visible=!0,this.grid[u][h].blockedSight&&(l>=x?l=A:E||(r[n]=x,i[n++]=A)))}}computeOctantX(e,t){let r=[],i=[],o=1,n=0,s=0,l=0,h,u,d,b,p,E,C,x,A,v;for(h=this.originX+e;h>=this.minX&&h<=this.maxX;h+=e,s=n,++o)for(d=.5/o,v=-1,b=Math.floor(l*o+.5),u=this.originY+b*t;b<=o&&u>=this.minY&&u<=this.maxY;u+=t,++b,v=A){if(p=!0,E=!1,C=b/o,x=v,A=C+d,s>0){if(!(this.grid[u][h-e].visible&&!this.grid[u][h-e].blockedSight)&&!(this.grid[u-t][h-e].visible&&!this.grid[u-t][h-e].blockedSight))p=!1;else for(let _=0;_<s&&p;++_)if(x<=i[_]&&A>=r[_]){if(this.grid[u][h].blockedSight)if(x>=r[_]&&A<=i[_]){p=!1;break}else r[_]=Math.min(r[_],x),i[_]=Math.max(i[_],A),E=!0;else if(C>r[_]&&C<i[_]){p=!1;break}}}p&&(this.grid[u][h].visible=!0,this.grid[u][h].blockedSight&&(l>=x?l=A:E||(r[n]=x,i[n++]=A)))}}computeFov(e,t,r,i,o){if(this.originX=e,this.originY=t,this.radius=r,i)this.minX=Math.min(this.minX,Math.max(0,e-r)),this.minY=Math.min(this.minY,Math.max(0,t-r)),this.maxX=Math.max(this.maxX,Math.min(this.width-1,e+r)),this.maxY=Math.max(this.maxY,Math.min(this.height-1,t+r));else{this.minX=Math.max(0,e-r),this.minY=Math.max(0,t-r),this.maxX=Math.min(this.width-1,e+r),this.maxY=Math.min(this.height-1,t+r);for(let n=this.minY;n<=this.maxY;n++)for(let s=this.minX;s<=this.maxX;s++)this.grid[n][s].visible=!1}this.grid[t][e].visible=!0,o===void 0?(this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantX(1,-1),this.computeOctantY(1,-1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1),this.computeOctantX(-1,1),this.computeOctantY(-1,1)):(o&1&&this.computeOctantY(1,1),o&2&&this.computeOctantX(1,1),o&4&&this.computeOctantX(1,-1),o&8&&this.computeOctantY(1,-1),o&16&&this.computeOctantY(-1,-1),o&32&&this.computeOctantX(-1,-1),o&64&&this.computeOctantX(-1,1),o&128&&this.computeOctantY(-1,1))}updateExplored(){for(let e=this.minY;e<=this.maxY;e++)for(let t=this.minX;t<=this.maxX;t++){let r=this.grid[e][t];r.explored=r.explored||r.visible}}};D=R([L],D);var z=class{constructor(e,t,r){this.url=e;this.charWidth=t;this.charHeight=r}},Ce=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEUAAAD///+l2Z/dAAAEhklEQVRIx42Sv4oUQRDGC4UzadSwwMUD8QEKlbWD4Q58B/NGpTVocKO1wXHUzMAH0AcwMTYVGg5ag0IzEXaRjdZEZKNzkKbHqtnzHypY09M9+5uvqr7pbYCuC6ftaRhgONXs30eAh0O1rYDm4IS/eH0B8GxRW2vxo396yu/fb0ZFrW1zcOXlPU/XPwK8PGjbWhVwM4KnH61912oK4+zmmHJaQotyt1kvtC2Atdo24iohPDiG/v4eICJsY3Wy8Yvr0DSIBOdxgH6v8wsriWhc8s0AtaK/GzSl1jR0nSjQnwki6FQxNFKjgzO2a7BBqucH7dL4M9z96CIhT1Fs/AgKgcA6dKCxI29DaHNwRJ4EGAU1sU0OG9rmE4SIc3A4FChACqqhJRwpxkqh9wxag4DSmEJ5DtpFwAP4GUf6lmKcFFti1BYuQp4xN8kxM2kNhjdkTOiTUeAKGvhA1rLpMbYACQzCITlTDRMbLYoEa2JWPSMRFZIupcSzMVKcEUkX+sOG+ChNX2vD8ex6k7OFHL0P1655JuPd53WAD+yTv3UrCQiuHmYBbfIxpkImuvpBQBkVb5g4XHv3JkNireG8AO9zDhBZu2z2OMZ11S5/RIlyMefMNaZ4GsCz5xcjyM6hHYEjAYEfO8Ig1rklAe9sRIeYAdwyoIBq6YIzCAKiWoifA3m3o2AzWcdYKOdY47EIf8QABCuYgIUVmdVMEYEDA0Hmo/3D6KKJbh5mxhP3UsWIE97wnEygyizOfOLi2JOJW8CeOblW9IHeKZgv4zxuzDryOmb+4aQH+MXV6e0ywdUcxqCjBWl5GpbzZduOG1QEiGXP86T7EfiJfkMQ4OO4H0yqyNC2zlziWEN7Ywuc2fQ4p5BNkS5QYXP2h5NtRJh0vCKQidtVJmCGAwDSSQpYggSxiRIyzewsgCh4xxiTPDMh5aj//l7btqkr6rQyIOtLji4lVRQwXdzvus40Y53M33fh50GZwF4ExQeMlvuTggLzSi4ElKczUO7zVtpwdyMKdqZKOWb2nDblawPxPmuMwFEWBW+jlZR1eYtS442kiBGMWCi/h1/+GAR6NYOJWiqNJXFygFtrkx5C0O3IeFGs67HhEEhmBu/BUOT+0551pXxYIF+Elpi5AKRkLl5GUbCCZddyMv621ujEBPP4vSy2fotTx3U+d3WBiFOA6VSGSB49v/M7GBX9FPrDaT2c9qr4PCpwZ7qz813R94dVFIe19v33GlMZUghQFb8BrfE7QBmgBMbrn2B3enn/y3B5+DL8UBAdnejdYdBxeV9ejwoYNTgW0Ok/gA7UG2GAzanhL0DG7q4svynwF8UwDPu7u/vD0IudzSltMtVbP+J/gUbR29oJ7Fg9s6Uy+DnpiTCOYc4cXOeXMWfsusSw7FOg9x655nax6BlecwpOQQ68WBwp+H2LMQTuOq2RUigzh2Q/R3CWARJIJG199EwOTyKBlQMznshCRGeQ5gHABAQl6M4gLEdAzVaBWMCiANdsayDCHBA/hagKYfielrJIlipKKQIA9Nf3wBloTHT6BuAx15zRNa1nAAAAAElFTkSuQmCC\",Q=new z(Ce,8,8);var ut={OCTANT_SOUTH_SOUTHEAST:1,OCTANT_EAST_SOUTHEAST:2,OCTANT_EAST_NORTHTHEAST:4,OCTANT_NORTH_NORTHEAST:8,OCTANT_NORTH_NORTHWEST:16,OCTANT_WEST_NORTHEAST:32,OCTANT_WEST_SOUTHWEST:64,OCTANT_SOUTH_SOUTHWEST:128},O={QUADRANT_SOUTHEAST:3,QUADRANT_EAST:6,QUADRANT_NORTHEAST:12,QUADRANT_NORTH:24,QUADRANT_NORTHWEST:48,QUADRANT_WEST:96,QUADRANT_SOUTHWEST:192,QUADRANT_SOUTH:129};function ct(a,e){return a>0?e>0?O.QUADRANT_SOUTHEAST:e===0?O.QUADRANT_EAST:O.QUADRANT_NORTHEAST:a<0?e>0?O.QUADRANT_SOUTHWEST:e===0?O.QUADRANT_WEST:O.QUADRANT_NORTHWEST:e>0?O.QUADRANT_SOUTH:O.QUADRANT_NORTH}var f=class{constructor(e,t){this.x=e;this.y=t}};f=R([L],f);var T=class{constructor(e,t,r,i){this.x=e;this.y=t;this.width=r;this.height=i}get left(){return this.x}get top(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}getCenter(){return new f(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(e){return this.x<=e.x2&&this.x2>=e.x&&this.y<=e.y2&&this.y2>=e.y}contains(e){return e.x>=this.x&&e.x<this.x2&&e.y>=this.y&&e.y<this.y2}};T=R([L],T);var F=class{constructor(e,t,r){this.dialog=e;this.rect=t;this.contentsOffset=r;this.open=!1;this.count=0}};var P=class{getState(e,t){let r=t.contentsRect.width+4,i=t.contentsRect.height+4,o=(e.width-r)/2|0,n=(e.height-i)/2|0;return new F(t,new T(o,n,r,i),new f(o+2,n+2))}draw(e,t){let r=t.dialog,{x:i,y:o,width:n,height:s}=t.rect;e.fillRect(i,o,n,s,0,y.WHITE,y.BLACK),e.drawSingleBox(i,o,n,s),e.drawCenteredString(i+n/2|0,o,\" \"+r.title+\" \"),r.drawContents(e,t.contentsOffset)}};var oe=class{constructor(e,t=new P,r=[]){this.terminal=e;this.renderer=t;this.dialogs=r}add(e){this.dialogs.push(this.renderer.getState(this.terminal,e))}handleInput(){if(this.dialogs.length===0)return!1;let e=this.dialogs.length-1,t=this.dialogs[this.dialogs.length-1];return t.dialog.handleInput(this.terminal,t.contentsOffset)&&this.dialogs.splice(e,1),!0}draw(){for(let e=0;e<this.dialogs.length;e++)this.renderer.draw(this.terminal,this.dialogs[e])}};var w=class{constructor(e,t){this.contentsRect=e;this.title=t}};var ye=66.66666666666667,j=class{constructor(){this.down=!1;this.downTime=0;this.repeat=!1;this.repeatTime=0;this.downCount=0;this.upCount=100}setDown(e){this.down!==e&&(this.down=e,this.repeat=!1,this.downTime=this.repeatTime=performance.now())}update(e){this.repeat=!1,this.down?(this.downCount++,this.upCount=0,e-this.downTime>=200&&e-this.repeatTime>=ye&&(this.repeat=!0,this.repeatTime=e)):(this.downCount=0,this.upCount++)}isPressed(){return this.downCount===1||this.repeat}isClicked(){return this.upCount===1}},U=class{constructor(){this.inputs=new Map}clear(){this.inputs.clear()}get(e){let t=this.inputs.get(e);return t||(t=new j,this.inputs.set(e,t)),t}updateAll(e){this.inputs.forEach(t=>t.update(e))}};var V=class{constructor(e){this.keys=new U;e.addEventListener(\"keydown\",t=>this.setKey(t,!0)),e.addEventListener(\"keyup\",t=>this.setKey(t,!1))}clear(){this.keys.clear()}getKey(e){return this.keys.get(e)}setKey(e,t){let r=e.code;r!==m.VK_F11&&(e.stopPropagation(),e.preventDefault(),this.keys.get(r).setDown(t))}updateKeys(e){this.keys.updateAll(e)}},m={VK_BACKSPACE:\"Backspace\",VK_TAB:\"Tab\",VK_ENTER:\"Enter\",VK_SHIFT_LEFT:\"ShiftLeft\",VK_SHIFT_RIGHT:\"ShiftRight\",VK_CONTROL_LEFT:\"ControlLeft\",VK_CONTROL_RIGHT:\"ControlRight\",VK_ALT_LEFT:\"AltLeft\",VK_ALT_RIGHT:\"AltRight\",VK_PAUSE:\"Pause\",VK_CAPS_LOCK:\"CapsLock\",VK_ESCAPE:\"Escape\",VK_SPACE:\"Space\",VK_PAGE_UP:\"PageUp\",VK_PAGE_DOWN:\"PageDown\",VK_END:\"End\",VK_HOME:\"Home\",VK_LEFT:\"ArrowLeft\",VK_UP:\"ArrowUp\",VK_RIGHT:\"ArrowRight\",VK_DOWN:\"ArrowDown\",VK_INSERT:\"Insert\",VK_DELETE:\"Delete\",VK_0:\"Digit0\",VK_1:\"Digit1\",VK_2:\"Digit2\",VK_3:\"Digit3\",VK_4:\"Digit4\",VK_5:\"Digit5\",VK_6:\"Digit6\",VK_7:\"Digit7\",VK_8:\"Digit8\",VK_9:\"Digit9\",VK_SEMICOLON:\"Semicolon\",VK_EQUALS:\"Equal\",VK_A:\"KeyA\",VK_B:\"KeyB\",VK_C:\"KeyC\",VK_D:\"KeyD\",VK_E:\"KeyE\",VK_F:\"KeyF\",VK_G:\"KeyG\",VK_H:\"KeyH\",VK_I:\"KeyI\",VK_J:\"KeyJ\",VK_K:\"KeyK\",VK_L:\"KeyL\",VK_M:\"KeyM\",VK_N:\"KeyN\",VK_O:\"KeyO\",VK_P:\"KeyP\",VK_Q:\"KeyQ\",VK_R:\"KeyR\",VK_S:\"KeyS\",VK_T:\"KeyT\",VK_U:\"KeyU\",VK_V:\"KeyV\",VK_W:\"KeyW\",VK_X:\"KeyX\",VK_Y:\"KeyY\",VK_Z:\"KeyZ\",VK_CONTEXT_MENU:\"ContextMenu\",VK_NUMPAD0:\"Numpad0\",VK_NUMPAD1:\"Numpad1\",VK_NUMPAD2:\"Numpad2\",VK_NUMPAD3:\"Numpad3\",VK_NUMPAD4:\"Numpad4\",VK_NUMPAD5:\"Numpad5\",VK_NUMPAD6:\"Numpad6\",VK_NUMPAD7:\"Numpad7\",VK_NUMPAD8:\"Numpad8\",VK_NUMPAD9:\"Numpad9\",VK_NUMPAD_ENTER:\"NumpadEnter\",VK_MULTIPLY:\"NumpadMultiply\",VK_ADD:\"NumpadAdd\",VK_SEPARATOR:\"NumpadSeparator\",VK_SUBTRACT:\"NumpadSubtract\",VK_DECIMAL:\"NumpadDecimal\",VK_DIVIDE:\"NumpadDivide\",VK_F1:\"F1\",VK_F2:\"F2\",VK_F3:\"F3\",VK_F4:\"F4\",VK_F5:\"F5\",VK_F6:\"F6\",VK_F7:\"F7\",VK_F8:\"F8\",VK_F9:\"F9\",VK_F10:\"F10\",VK_F11:\"F11\",VK_F12:\"F12\",VK_F13:\"F13\",VK_F14:\"F14\",VK_F15:\"F15\",VK_F16:\"F16\",VK_F17:\"F17\",VK_F18:\"F18\",VK_F19:\"F19\",VK_F20:\"F20\",VK_F21:\"F21\",VK_F22:\"F22\",VK_F23:\"F23\",VK_F24:\"F24\",VK_NUM_LOCK:\"NumLock\",VK_SCROLL_LOCK:\"ScrollLock\",VK_COMMA:\"Comma\",VK_PERIOD:\"Period\",VK_SLASH:\"Slash\",VK_BACKQUOTE:\"Backquote\",VK_OPEN_BRACKET:\"BracketLeft\",VK_BACK_SLASH:\"Backslash\",VK_CLOSE_BRACKET:\"BracketRight\",VK_QUOTE:\"Quote\",VK_META:\"OSLeft\"};var ie=class extends w{constructor(t,r){let i;r instanceof B?i=new T(0,0,r.getWidth(),r.getHeight()):i=new T(0,0,r.length,1);super(i,t);this.message=r}drawContents(t,r){this.message instanceof B?t.drawMessage(r.x,r.y,this.message,this.message.getWidth()):t.drawString(r.x,r.y,this.message)}handleInput(t){return t.isKeyPressed(m.VK_ESCAPE)}};var ne=class extends w{constructor(t,r,i){super(t,r);this.message=i;this.scrollY=0;this.messagesHeight=i.getHeight(),this.scrollMax=Math.max(1,this.messagesHeight-this.contentsRect.height),this.scrollbarHeight=this.contentsRect.height*this.contentsRect.height/(this.messagesHeight+1)}drawContents(t,r){t.clip=this.contentsRect,t.drawMessage(r.x,r.y-this.scrollY,this.message,this.message.getWidth()),t.clip=void 0;let i=this.scrollY/this.scrollMax*(this.contentsRect.height-this.scrollbarHeight);t.drawVLine(this.contentsRect.x+this.contentsRect.width+1,this.contentsRect.y+i,this.scrollbarHeight,g.MEDIUM_SHADE)}handleInput(t){let r=t.getMovementKey();return r&&(this.scrollY+=r.y),t.isKeyPressed(m.VK_PAGE_DOWN)&&(this.scrollY+=this.contentsRect.height),t.isKeyPressed(m.VK_PAGE_UP)&&(this.scrollY-=this.contentsRect.height),t.mouse.wheelDeltaY!==0&&(this.scrollY+=t.mouse.wheelDeltaY<0?-5:5,t.mouse.wheelDeltaY=0),this.scrollY=Math.max(0,Math.min(this.scrollMax,this.scrollY)),t.isKeyPressed(m.VK_ESCAPE)}};var se=class extends w{constructor(e,t,r){let i=e.length;for(let s=0;s<t.length;s++)i=Math.max(i,t[s].length+4);let o=t.length,n=new T(0,0,i,o);super(n,e),this.options=t,this.callback=r,this.hoverIndex=-1}drawContents(e,t){for(let r=0;r<this.options.length;r++){let i=String.fromCharCode(65+r)+\" - \"+this.options[r];r===this.hoverIndex?e.drawString(t.x,t.y+r,i,y.BLACK,y.WHITE):e.drawString(t.x,t.y+r,i,y.WHITE,y.BLACK)}}handleInput(e,t){let r=e.getMovementKey();if(r&&r.y!==0&&(this.hoverIndex=(this.hoverIndex+this.options.length+r.y)%this.options.length),this.hoverIndex>=0&&(e.isKeyPressed(m.VK_ENTER)||e.isKeyPressed(m.VK_NUMPAD_ENTER)))return this.callback(this.hoverIndex),!0;if(e.mouse.x>=t.x&&e.mouse.x<t.x+this.contentsRect.width&&e.mouse.y>=t.y&&e.mouse.y<t.y+this.contentsRect.height&&(this.hoverIndex=e.mouse.y-t.y,e.mouse.buttons.get(0).isClicked()))return e.mouse.buttons.clear(),this.callback(this.hoverIndex),!0;let i=65;for(let o=0;o<this.options.length;o++)if(e.isKeyPressed(\"Key\"+String.fromCharCode(i+o)))return this.callback(o),!0;return e.isKeyPressed(m.VK_ESCAPE)}isMouseOverOption(e,t,r){return e.mouse.x>=t.x&&e.mouse.x<t.x+this.contentsRect.width&&e.mouse.y===t.y+r}};var ae=[{charCode:g.BLOCK_TOP_HALF,active:[1,1,0,0]},{charCode:g.BLOCK_RIGHT_HALF,active:[0,1,0,1]}];function Jt(a,e){let t=new Image;t.onload=()=>{let r=t.width,i=t.height,o=he(t),n=new D(r,i),s=0;for(let l=0;l<i;l++)for(let h=0;h<r;h++)n.getCell(h,l).setBackground(c(o[s++],o[s++],o[s++],o[s++]));e(n)},t.src=a}function $t(a,e){let t=new Image;t.onload=()=>{let r=t.width,i=t.height,o=he(t),n=new D(r/2,i/2);for(let s=0;s<i;s+=2)for(let l=0;l<r;l+=2)ve(n,o,l,s,r);e(n)},t.src=a}function he(a){let e=document.createElement(\"canvas\");e.width=a.width,e.height=a.height;let t=e.getContext(\"2d\");return t.drawImage(a,0,0),t.getImageData(0,0,a.width,a.height).data}function ve(a,e,t,r,i){let o=4*(r*i+t),n=e[o],s=e[o+1],l=e[o+2],h=4*(r*i+t+1),u=e[h],d=e[h+1],b=e[h+2],p=4*((r+1)*i+t),E=e[p],C=e[p+1],x=e[p+2],A=4*((r+1)*i+t+1),v=e[A],_=e[A+1],pe=e[A+2],ge=[[n,s,l],[u,d,b],[E,C,x],[v,_,pe]],q=Number.MAX_VALUE,J=0,$=null,ee=null;for(let W=0;W<ae.length;W++){let te=ae[W],S=De(te.active,ge);S.error<q&&(q=S.error,J=te.charCode,$=S.bg,ee=S.fg)}a.drawChar(t/2,r/2,J,le(ee),le($))}function De(a,e){let t=[[0,0,0],[0,0,0]],r=[[0,0,0],[0,0,0]],i=[0,0];for(let n=0;n<4;n++){for(let s=0;s<3;s++)t[a[n]][s]+=e[n][s];i[a[n]]++}for(let n=0;n<2;n++)for(let s=0;s<3;s++)r[n][s]=t[n][s]/i[n];let o=0;for(let n=0;n<4;n++){let s=0;for(let l=0;l<3;l++){let h=e[n][l]-r[a[n]][l];s+=h*h}o+=Math.sqrt(s)}return{bg:r[0],fg:r[1],error:o}}function le(a){return c(a[0],a[1],a[2])}var G=class{constructor(e){this.buttons=new U;this.el=e.canvas,this.width=e.width,this.height=e.height,this.prevX=0,this.prevY=0,this.x=0,this.y=0,this.dx=0,this.dy=0,this.wheelDeltaX=0,this.wheelDeltaY=0;let t=this.el;t.addEventListener(\"mousedown\",r=>this.handleEvent(r)),t.addEventListener(\"mouseup\",r=>this.handleEvent(r)),t.addEventListener(\"mousemove\",r=>this.handleEvent(r)),t.addEventListener(\"contextmenu\",r=>this.handleEvent(r)),t.addEventListener(\"touchstart\",r=>this.handleTouchEvent(r)),t.addEventListener(\"touchend\",r=>this.handleTouchEvent(r)),t.addEventListener(\"touchcancel\",r=>this.handleTouchEvent(r)),t.addEventListener(\"touchmove\",r=>this.handleTouchEvent(r)),t.addEventListener(\"wheel\",r=>this.handleWheelEvent(r))}handleTouchEvent(e){if(e.stopPropagation(),e.preventDefault(),e.touches.length>0){let t=e.touches[0];this.updatePosition(t.clientX,t.clientY),this.buttons.get(0).setDown(!0)}else this.buttons.get(0).setDown(!1)}handleEvent(e){e.stopPropagation(),e.preventDefault(),this.updatePosition(e.clientX,e.clientY),e.type===\"mousedown\"&&(this.buttons.get(e.button).setDown(!0),this.el.focus()),e.type===\"mouseup\"&&this.buttons.get(e.button).setDown(!1)}handleWheelEvent(e){e.stopPropagation(),e.preventDefault(),this.wheelDeltaX=e.deltaX,this.wheelDeltaY=e.deltaY}updatePosition(e,t){let r=this.el.getBoundingClientRect(),i=this.width/this.height,o=r.width/r.height;if(o-i>.01){let n=i*r.height,s=r.width-n;r=new T(Math.floor(s/2),0,n,r.height)}if(o-i<-.01){let n=r.width/i,s=r.height-n;r=new T(0,Math.floor(s/2),r.width,n)}this.x=this.width*(e-r.left)/r.width|0,this.y=this.height*(t-r.top)/r.height|0}update(e){this.dx=this.x-this.prevX,this.dy=this.y-this.prevY,this.prevX=this.x,this.prevY=this.y,this.buttons.updateAll(e)}};var nr={BLACK:c(0,0,0),WHITE:c(255,255,255),RED:c(136,0,0),CYAN:c(170,255,238),VIOLET:c(204,68,204),GREEN:c(0,204,85),BLUE:c(0,0,170),YELLOW:c(238,238,119),ORANGE:c(221,136,85),BROWN:c(102,68,0),LIGHT_RED:c(255,119,119),DARK_GRAY:c(51,51,51),GRAY:c(119,119,119),LIGHT_GREEN:c(170,255,102),LIGHT_BLUE:c(0,136,255),LIGHT_GRAY:c(187,187,187)};var lr={BLACK:c(0,0,0),WHITE:c(255,255,255),RED:c(136,0,0),CYAN:c(170,255,238),VIOLET:c(204,68,204),GREEN:c(0,204,85),BLUE:c(0,0,170),YELLOW:c(238,238,119),ORANGE:c(221,136,85),BROWN:c(102,68,0),LIGHT_RED:c(255,119,119),DARK_GRAY:c(51,51,51),GRAY:c(119,119,119),LIGHT_GREEN:c(170,255,102),LIGHT_BLUE:c(0,136,255),LIGHT_GRAY:c(187,187,187)};var cr={BLACK:c(0,0,0),DARK_BLUE:c(29,43,83),DARK_PURPLE:c(126,37,83),DARK_GREEN:c(0,135,81),BROWN:c(171,82,54),DARK_GRAY:c(95,87,79),LIGHT_GRAY:c(194,195,199),WHITE:c(255,241,232),RED:c(255,0,77),ORANGE:c(255,163,0),YELLOW:c(255,236,39),GREEN:c(0,228,54),BLUE:c(41,173,255),LAVENDER:c(131,118,156),PINK:c(255,119,168),LIGHT_PEACH:c(255,204,170)};var ue=[-1,0,1,-1,1,-1,0,1],Oe=[-1,-1,-1,0,0,1,1,1],we=[1.4,1,1.4,1,1,1.4,1,1.4],H=0;function mr(a,e,t,r){H++;let i=a.grid[e.y][e.x];i.pathId=H,i.g=0,i.h=Math.hypot(e.x-t.x,e.y-t.y),i.prev=null;let o=new Z([i]);for(;o.size()>0;){let n=o.pop();if(n.x===t.x&&n.y===t.y)return Ke(n);for(let s=0;s<ue.length;s++){let l=n.x+ue[s],h=n.y+Oe[s];if(l>=0&&l<a.width&&h>=0&&h<a.height){let u=a.grid[h][l];if(u.blocked&&u.explored&&(l!==t.x||h!==t.y))continue;u.pathId!==H&&(u.pathId=H,u.g=1/0,u.h=Math.hypot(l-t.x,h-t.y),u.prev=null);let d=n.g+we[s];d<u.g&&d<=r&&(u.g=d,u.prev=n,o.insert(u))}}}}function Ke(a){let e=[],t=a;for(;t;)e.push(t),t=t.prev;return e.reverse(),e}var Z=class{constructor(e){this.values=e}insert(e){let t=this.values,r=0,i=t.length,o=0;for(;r<i;){let n=r+i>>>1,s=t[n];s.g+s.h>e.g+e.h?(r=n+1,o=r):(i=n,o=i)}t.splice(o,0,e)}pop(){return this.values.pop()}size(){return this.values.length}};var M=class{constructor(e=1){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=e}nextInt(){return this.state=(this.a*this.state+this.c)%this.m,this.state}nextFloat(){return this.nextInt()/(this.m-1)}nextRange(e,t){let r=t-e,i=this.nextInt()/this.m,o=e+(i*r|0);if(isNaN(o))throw new Error(\"rand nan\");return o}chooseIndex(e){let t=e.reduce((o,n)=>o+n),r=this.nextRange(1,t+1),i=0;for(let o=0;o<e.length;o++)if(i+=e[o],r<=i)return o;return e.length-1}chooseKey(e){let t=Object.keys(e),r=t.map(i=>e[i]);return t[this.chooseIndex(r)]}};M=R([L],M);var ce=`#version 300 es\nprecision highp float;in vec2 a;in vec2 b;in vec3 c;in vec3 d;out vec2 e;out vec4 f;out vec4 g;void main(void){gl_Position=vec4(a.x,a.y,0,1);e=b/16.0;f=vec4(c.r,c.g,c.b,1);g=vec4(d.r,d.g,d.b,1);}`,de=`#version 300 es\nprecision highp float;in vec2 e;in vec4 f;in vec4 g;uniform sampler2D s;out vec4 o;void main(void){o=texture(s,e);if(o.r<0.1) {o=g;} else {o=f;}}`,me=`#version 300 es\nprecision highp float;\nin vec2 a_position;\nin vec2 a_texCoord;\nout vec2 v_texCoord;\nvoid main(void) {\n  gl_Position=vec4(a_position.x, a_position.y, 0.0, 1.0);\n  v_texCoord = a_texCoord;\n}`,fe=`#version 300 es\n#define PI 3.1415926535897932384626433832795\nprecision highp float;\nin vec2 v_texCoord;\nuniform sampler2D u_texture;\nuniform float u_blur;\nuniform float u_curvature;\nuniform float u_chroma;\nuniform float u_scanlineWidth;\nuniform float u_scanlineIntensity;\nuniform float u_vignette;\nout vec4 outputColor;\n\nvec2 curve(vec2 uv) {\n  uv = (uv - 0.5) * 2.0;\n  uv *= 1.1;\n  uv.x *= 1.0 + pow((abs(uv.y) * u_curvature), 2.0);\n  uv.y *= 1.0 + pow((abs(uv.x) * u_curvature), 2.0);\n  uv /= 1.1;\n  uv = (uv / 2.0) + 0.5;\n  return uv;\n}\n\nvoid main() {\n  vec2 iResolution = vec2(640.0, 360.0);\n  vec2 q = v_texCoord;\n  vec2 fragCoord = v_texCoord;\n  vec2 uv = q;\n  uv = curve(uv);\n\n  // Outside of range is black\n  if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {\n    outputColor = vec4(0.0, 0.0, 0.0, 1.0);\n    return;\n  }\n\n  vec4 col;\n\n  // Chromatic aberration\n  // col = texture(u_texture, uv.xy);\n  col.r = 0.7 * texture(u_texture, vec2(uv.x + 0.001 * u_chroma, uv.y + 0.001 * u_chroma)).r;\n  col.g = 0.7 * texture(u_texture, vec2(uv.x + 0.000 * u_chroma, uv.y - 0.002 * u_chroma)).g;\n  col.b = 0.7 * texture(u_texture, vec2(uv.x - 0.002 * u_chroma, uv.y + 0.000 * u_chroma)).b;\n  \n  // Blur\n  col += 0.05 * texture(u_texture, vec2(uv.x - 2.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x - 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x + 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.05 * texture(u_texture, vec2(uv.x + 2.0 * u_blur / iResolution.x, uv.y));\n\n  // Vignette\n  col *= pow(16.0 * uv.x * uv.y * (1.0 - uv.x) * (1.0 - uv.y), u_vignette);\n\n  // Scanlines\n  col *= clamp(1.0 + u_scanlineWidth * sin(uv.y * iResolution.y * 2.0 * PI), 1.0 - u_scanlineIntensity, 1.0);\n\n  outputColor = vec4(col.rgb, 1.0);\n}`;function K(a,e){return-1+2*(a/e)}var _e={[m.VK_K]:new f(0,-1),[m.VK_UP]:new f(0,-1),[m.VK_NUMPAD8]:new f(0,-1),[m.VK_J]:new f(0,1),[m.VK_DOWN]:new f(0,1),[m.VK_NUMPAD2]:new f(0,1),[m.VK_H]:new f(-1,0),[m.VK_LEFT]:new f(-1,0),[m.VK_NUMPAD4]:new f(-1,0),[m.VK_L]:new f(1,0),[m.VK_RIGHT]:new f(1,0),[m.VK_NUMPAD6]:new f(1,0),[m.VK_Y]:new f(-1,-1),[m.VK_NUMPAD7]:new f(-1,-1),[m.VK_U]:new f(1,-1),[m.VK_NUMPAD9]:new f(1,-1),[m.VK_B]:new f(-1,1),[m.VK_NUMPAD1]:new f(-1,1),[m.VK_N]:new f(1,1),[m.VK_NUMPAD3]:new f(1,1),[m.VK_PERIOD]:new f(0,0),[m.VK_NUMPAD5]:new f(0,0)},Be={font:Q,movementKeys:_e},be=class extends D{constructor(e,t,r,i=Be){super(t,r),this.canvas=e,this.font=i.font??Q,this.crt=i.crt,this.maxFps=i.maxFps,this.pixelWidth=t*this.font.charWidth,this.pixelHeight=r*this.font.charHeight,this.pixelScale=i.crt?.scale??1,e.width=this.pixelWidth*this.pixelScale,e.height=this.pixelHeight*this.pixelScale,e.style.imageRendering=\"pixelated\",e.style.outline=\"none\",e.tabIndex=0,this.handleResize(),window.addEventListener(\"resize\",()=>this.handleResize()),this.keys=new V(e),this.mouse=new G(this);let o=e.getContext(\"webgl2\",{antialias:!1});if(!o)throw new Error(\"Unable to initialize WebGL. Your browser may not support it.\");let n=o.createProgram();if(!n)throw new Error(\"Unable to initialize WebGL. Your browser may not support it.\");this.gl=o,this.program=n,o.attachShader(n,this.buildShader(o.VERTEX_SHADER,ce)),o.attachShader(n,this.buildShader(o.FRAGMENT_SHADER,de)),o.linkProgram(n),o.useProgram(n),this.crtProgram=o.createProgram(),o.attachShader(this.crtProgram,this.buildShader(o.VERTEX_SHADER,me)),o.attachShader(this.crtProgram,this.buildShader(o.FRAGMENT_SHADER,fe)),o.linkProgram(this.crtProgram),o.useProgram(this.crtProgram),this.crtBlurLocation=o.getUniformLocation(this.crtProgram,\"u_blur\"),this.crtCurvatureLocation=o.getUniformLocation(this.crtProgram,\"u_curvature\"),this.crtChromaLocation=o.getUniformLocation(this.crtProgram,\"u_chroma\"),this.crtScanlineWidthLocation=o.getUniformLocation(this.crtProgram,\"u_scanlineWidth\"),this.crtScanlineIntensityLocation=o.getUniformLocation(this.crtProgram,\"u_scanlineIntensity\"),this.crtVignetteLocation=o.getUniformLocation(this.crtProgram,\"u_vignette\"),this.crtPositionLocation=o.getAttribLocation(this.crtProgram,\"a_position\"),this.crtPositionBuffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this.crtPositionBuffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),o.STATIC_DRAW),o.enableVertexAttribArray(this.crtPositionLocation),o.vertexAttribPointer(this.crtPositionLocation,2,o.FLOAT,!1,0,0),this.crtTexCoordLocation=o.getAttribLocation(this.crtProgram,\"a_texCoord\"),this.crtTexCoordBuffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this.crtTexCoordBuffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW),o.enableVertexAttribArray(this.crtTexCoordLocation),o.vertexAttribPointer(this.crtTexCoordLocation,2,o.FLOAT,!1,0,0),this.positionAttribLocation=this.getAttribLocation(\"a\"),this.textureAttribLocation=this.getAttribLocation(\"b\"),this.fgColorAttribLocation=this.getAttribLocation(\"c\"),this.bgColorAttribLocation=this.getAttribLocation(\"d\");let s=t*r;this.positionsArray=new Float32Array(s*3*4),this.indexArray=new Uint16Array(s*6),this.textureArray=new Float32Array(s*2*4),this.foregroundUint8Array=new Uint8Array(s*4*4),this.foregroundDataView=new DataView(this.foregroundUint8Array.buffer),this.backgroundUint8Array=new Uint8Array(s*4*4),this.backgroundDataView=new DataView(this.backgroundUint8Array.buffer),this.frameBufferTexture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.frameBufferTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.pixelWidth,this.pixelHeight,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),this.frameBuffer=o.createFramebuffer(),o.bindFramebuffer(o.FRAMEBUFFER,this.frameBuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.frameBufferTexture,0);let l=0,h=0,u=0;for(let d=0;d<r;d++)for(let b=0;b<t;b++)this.positionsArray[l++]=K(b,t),this.positionsArray[l++]=-K(d,r),this.positionsArray[l++]=K(b+1,t),this.positionsArray[l++]=-K(d,r),this.positionsArray[l++]=K(b+1,t),this.positionsArray[l++]=-K(d+1,r),this.positionsArray[l++]=K(b,t),this.positionsArray[l++]=-K(d+1,r),this.indexArray[h++]=u+0,this.indexArray[h++]=u+1,this.indexArray[h++]=u+2,this.indexArray[h++]=u+0,this.indexArray[h++]=u+2,this.indexArray[h++]=u+3,u+=4;this.positionBuffer=o.createBuffer(),this.indexBuffer=o.createBuffer(),this.textureBuffer=o.createBuffer(),this.foregroundBuffer=o.createBuffer(),this.backgroundBuffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this.positionBuffer),o.bufferData(o.ARRAY_BUFFER,this.positionsArray,o.STATIC_DRAW),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,this.indexArray,o.STATIC_DRAW),this.texture=this.loadTexture(this.font.url),this.lastRenderTime=0,this.renderDelta=0,this.fps=0,this.averageFps=0,this.maxFps===void 0?this.requestAnimationFrame():window.setInterval(()=>this.renderLoop(performance.now()),1e3/this.maxFps)}handleResize(){let e=this.canvas.parentElement;if(!e)return;let t=e.offsetWidth/this.pixelWidth,r=e.offsetHeight/this.pixelHeight,i=Math.min(t,r),o=i*this.pixelWidth|0,n=i*this.pixelHeight|0;this.canvas.style.width=o+\"px\",this.canvas.style.height=n+\"px\"}getAttribLocation(e){let t=this.gl.getAttribLocation(this.program,e);return this.gl.enableVertexAttribArray(t),t}flush(){let e=0,t=0;for(let r=0;r<this.height;r++)for(let i=0;i<this.width;i++){let o=this.getCell(i,r);if(!o.dirty){e+=8,t+=16;continue}let n=o.charCode%16,s=o.charCode/16|0;this.textureArray[e++]=n,this.textureArray[e++]=s,this.textureArray[e++]=n+1,this.textureArray[e++]=s,this.textureArray[e++]=n+1,this.textureArray[e++]=s+1,this.textureArray[e++]=n,this.textureArray[e++]=s+1;for(let l=0;l<4;l++)this.foregroundDataView.setUint32(t,o.fg,!1),this.backgroundDataView.setUint32(t,o.bg,!1),t+=4;o.dirty=!1}}isKeyDown(e){return this.keys.getKey(e).down}isKeyPressed(e){return this.keys.getKey(e).isPressed()}getKeyDownCount(e){return this.keys.getKey(e).downCount}getMovementKey(e=_e){for(let[t,r]of Object.entries(e))if(this.isKeyPressed(t))return r}buildShader(e,t){let r=this.gl,i=r.createShader(e);if(!i)throw new Error(\"An error occurred compiling the shader: \");if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error(\"An error occurred compiling the shader: \"+r.getShaderInfoLog(i));return i}loadTexture(e){let t=this.gl,r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);let i=0,o=t.RGBA,n=1,s=1,l=0,h=t.RGBA,u=t.UNSIGNED_BYTE,d=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,i,o,n,s,l,h,u,d);let b=new Image;return b.onload=()=>{t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,i,o,h,u,b),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST)},b.src=e,r}render(){let e=this.gl;e.clearColor(0,0,0,1),e.clearDepth(1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.crt?e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer):e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this.pixelWidth,this.pixelHeight);{let r=e.FLOAT,i=!1,o=0,n=0;e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.vertexAttribPointer(this.positionAttribLocation,2,r,i,o,n)}{let r=e.FLOAT,i=!1,o=0,n=0;e.bindBuffer(e.ARRAY_BUFFER,this.textureBuffer),e.bufferData(e.ARRAY_BUFFER,this.textureArray,e.DYNAMIC_DRAW),e.vertexAttribPointer(this.textureAttribLocation,2,r,i,o,n)}{let r=e.UNSIGNED_BYTE,i=!0,o=0,n=0;e.bindBuffer(e.ARRAY_BUFFER,this.foregroundBuffer),e.bufferData(e.ARRAY_BUFFER,this.foregroundUint8Array,e.DYNAMIC_DRAW),e.vertexAttribPointer(this.fgColorAttribLocation,4,r,i,o,n)}{let r=e.UNSIGNED_BYTE,i=!0,o=0,n=0;e.bindBuffer(e.ARRAY_BUFFER,this.backgroundBuffer),e.bufferData(e.ARRAY_BUFFER,this.backgroundUint8Array,e.DYNAMIC_DRAW),e.vertexAttribPointer(this.bgColorAttribLocation,4,r,i,o,n)}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.useProgram(this.program),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture);{let t=this.width*this.height*6,r=e.UNSIGNED_SHORT;e.drawElements(e.TRIANGLES,t,r,0)}}renderCrt(){let e=this.crt;if(!e)return;let t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.pixelWidth*this.pixelScale,this.pixelHeight*this.pixelScale),t.useProgram(this.crtProgram),t.uniform1f(this.crtBlurLocation,e.blur),t.uniform1f(this.crtCurvatureLocation,e.curvature),t.uniform1f(this.crtChromaLocation,e.chroma),t.uniform1f(this.crtVignetteLocation,e.vignette),t.uniform1f(this.crtScanlineWidthLocation,e.scanlineWidth),t.uniform1f(this.crtScanlineIntensityLocation,e.scanlineIntensity),t.bindBuffer(t.ARRAY_BUFFER,this.crtPositionBuffer),t.vertexAttribPointer(this.crtPositionLocation,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this.crtTexCoordBuffer),t.vertexAttribPointer(this.crtTexCoordLocation,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.frameBufferTexture),t.drawArrays(t.TRIANGLES,0,6)}requestAnimationFrame(){window.requestAnimationFrame(e=>this.renderLoop(e))}renderLoop(e){this.lastRenderTime===0?(this.lastRenderTime=e,this.fps=0):(this.renderDelta=e-this.lastRenderTime,this.lastRenderTime=e,this.fps=1e3/this.renderDelta,this.averageFps=.95*this.averageFps+.05*this.fps),this.keys.updateKeys(e),this.mouse.update(e),this.update&&this.update(),this.flush(),this.render(),this.crt&&this.renderCrt(),this.maxFps===void 0&&this.requestAnimationFrame()}};export{N as Cell,g as Chars,lr as ColodorePalette,y as Colors,nr as Commodore64Palette,D as Console,Q as DEFAULT_FONT,P as DefaultDialogRenderer,w as Dialog,F as DialogState,z as Font,ut as FovOctants,O as FovQuadrants,oe as GUI,j as Input,U as InputSet,V as Keyboard,m as Keys,B as Message,X as MessageAlign,ie as MessageDialog,G as Mouse,cr as Pico8Palette,f as Point,M as RNG,T as Rect,ne as ScrollableMessageDialog,se as SelectDialog,be as Terminal,$e as capitalize,mr as computePath,He as deserialize,Ue as fixBoxCells,Ie as fromHsv,c as fromRgb,ct as getFovQuadrant,Jt as loadImage,$t as loadImage2x,L as serializable,Ge as serialize,re as wordWrap};\n//# sourceMappingURL=index.mjs.map\n","import { Console } from './console';\n\n/**\n * Details about box characters.\n * The first element is the array of details for the first box char (0xB3).\n * Each sub array is the count of stems for top, right, bottom, and left.\n */\nconst BOX_CHAR_DETAILS = [\n  [1, 0, 1, 0], // 0xB3\n  [1, 0, 1, 1], // 0xB4\n  [1, 0, 1, 2], // 0xB5\n  [2, 0, 2, 1], // 0xB6\n  [0, 0, 2, 1], // 0xB7\n  [0, 0, 1, 2], // 0xB8\n  [2, 0, 2, 2], // 0xB9\n  [2, 0, 2, 0], // 0xBA\n  [0, 0, 2, 2], // 0xBB\n  [2, 0, 0, 2], // 0xBC\n  [2, 0, 0, 1], // 0xBD\n  [1, 0, 0, 2], // 0xBE\n  [0, 0, 1, 1], // 0xBF\n  [1, 1, 0, 0], // 0xC0\n  [1, 1, 0, 1], // 0xC1\n  [0, 1, 1, 1], // 0xC2\n  [1, 1, 1, 0], // 0xC3\n  [0, 1, 0, 1], // 0xC4\n  [1, 1, 1, 1], // 0xC5\n  [1, 2, 1, 0], // 0xC6\n  [2, 1, 2, 0], // 0xC7\n  [2, 2, 0, 0], // 0xC8\n  [0, 2, 2, 0], // 0xC9\n  [2, 2, 0, 2], // 0xCA\n  [0, 2, 2, 2], // 0xCB\n  [2, 2, 2, 0], // 0xCC\n  [0, 2, 0, 2], // 0xCD\n  [2, 2, 2, 2], // 0xCE\n  [1, 2, 0, 2], // 0xCF\n  [2, 1, 0, 1], // 0xD0\n  [0, 2, 1, 2], // 0xD1\n  [0, 1, 2, 1], // 0xD2\n  [2, 1, 0, 0], // 0xD3\n  [1, 2, 0, 0], // 0xD4\n  [0, 2, 1, 0], // 0xD5\n  [0, 1, 2, 0], // 0xD6\n  [2, 1, 2, 1], // 0xD7\n  [1, 2, 1, 2], // 0xD8\n  [1, 0, 0, 1], // 0xD9\n  [0, 1, 1, 0], // 0xDA\n];\n\nfunction isBoxCell(con: Console, x: number, y: number): boolean {\n  const charCode = con.getCharCode(x, y);\n  return charCode !== undefined && charCode >= 0xb3 && charCode <= 0xda;\n}\n\nfunction getBoxCount(con: Console, x: number, y: number, index: number): number {\n  if (x < 0 || y < 0 || x >= con.width || y >= con.height) {\n    return 0;\n  }\n  const charCode = con.getCharCode(x, y);\n  if (charCode === undefined || charCode < 0xb3 || charCode > 0xda) {\n    return 0;\n  }\n  return BOX_CHAR_DETAILS[charCode - 0xb3][index];\n}\n\nfunction getBoxCell(up: number, right: number, down: number, left: number): number {\n  for (let i = 0; i < BOX_CHAR_DETAILS.length; i++) {\n    const row = BOX_CHAR_DETAILS[i];\n    if (row[0] === up && row[1] === right && row[2] === down && row[3] === left) {\n      return 0xb3 + i;\n    }\n  }\n  return 0;\n}\n\nexport function fixBoxCells(con: Console): void {\n  for (let y = 0; y < con.height; y++) {\n    for (let x = 0; x < con.width; x++) {\n      if (isBoxCell(con, x, y)) {\n        let up = getBoxCount(con, x, y - 1, 2);\n        let right = getBoxCount(con, x + 1, y, 3);\n        let down = getBoxCount(con, x, y + 1, 0);\n        let left = getBoxCount(con, x - 1, y, 1);\n\n        // There are no single-direction stubs.\n        // If we need one, then we create a full vertical or horizontal pipe.\n        if (up > 0 && right === 0 && down === 0 && left === 0) {\n          down = up;\n        } else if (up === 0 && right > 0 && down === 0 && left === 0) {\n          left = right;\n        } else if (up === 0 && right === 0 && down > 0 && left === 0) {\n          up = down;\n        } else if (up === 0 && right === 0 && down === 0 && left > 0) {\n          right = left;\n        }\n\n        // Vertical and horizontal axis must have same width.\n        if (left > 0 && right > 0) {\n          left = right = Math.max(left, right);\n        }\n        if (up > 0 && down > 0) {\n          up = down = Math.max(up, down);\n        }\n\n        const charCode = getBoxCell(up, right, down, left);\n\n        if ((up || right || down || left) && !(charCode >= 0xb3 && charCode <= 0xda)) {\n          throw new Error(\n            'invalid char code! (up=' + up + ', right=' + right + ', down=' + down + ', left=' + left + ')'\n          );\n        }\n\n        con.drawChar(x, y, charCode);\n      }\n    }\n  }\n}\n","export type Color = number;\n\n/**\n * Creates a big-endian 32-bit RGBA color from red, green, and blue components.\n * @param r - Red (0-255).\n * @param g - Green (0-255).\n * @param b - Blue (0-255).\n * @param a - Optional alpha (0-255).\n * @returns A 32-bit unsigned integer color.\n */\nexport function fromRgb(r: number, g: number, b: number, a?: number): Color {\n  if (a === undefined) {\n    a = 255;\n  }\n  return (r << 24) + (g << 16) + (b << 8) + a;\n}\n\n/**\n * Converts a color from HSV format to RGBA format.\n *\n * Based on: https://stackoverflow.com/a/17243070/2051724\n *\n * @param h - Hue (0.0 - 1.0).\n * @param s - Saturation (0.0 - 1.0).\n * @param v - Value (0.0 - 1.0).\n * @param a - Optional alpha (0.0 - 1.0).\n * @returns A 32-bit unsigned integer color.\n */\nexport function fromHsv(h: number, s: number, v: number, a?: number): Color {\n  const i = (h * 6) | 0;\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  let r, g, b;\n  switch (i % 6) {\n    case 0:\n      (r = v), (g = t), (b = p);\n      break;\n    case 1:\n      (r = q), (g = v), (b = p);\n      break;\n    case 2:\n      (r = p), (g = v), (b = t);\n      break;\n    case 3:\n      (r = p), (g = q), (b = v);\n      break;\n    case 4:\n      (r = t), (g = p), (b = v);\n      break;\n    case 5:\n      (r = v), (g = p), (b = q);\n      break;\n    default:\n      r = 0;\n      g = 0;\n      b = 0;\n  }\n  if (a === undefined) {\n    a = 1.0;\n  }\n  return fromRgb((r * 255) | 0, (g * 255) | 0, (b * 255) | 0, (a * 255) | 0);\n}\n","import { fromRgb } from '../color';\n\n/**\n * Orignal CGA palette.\n * See: https://en.wikipedia.org/wiki/Color_Graphics_Adapter\n * See: https://lospec.com/palette-list/color-graphics-adapter\n */\nexport const Colors = {\n  BLACK: fromRgb(0, 0, 0),\n  WHITE: fromRgb(0xff, 0xff, 0xff),\n  LIGHT_GRAY: fromRgb(0xaa, 0xaa, 0xaa),\n  DARK_GRAY: fromRgb(0x55, 0x55, 0x55),\n  YELLOW: fromRgb(0xff, 0xff, 0x55),\n  BROWN: fromRgb(0xaa, 0x55, 0x00),\n  LIGHT_RED: fromRgb(0xff, 0x55, 0x55),\n  DARK_RED: fromRgb(0xaa, 0x00, 0x00),\n  LIGHT_GREEN: fromRgb(0x55, 0xff, 0x55),\n  DARK_GREEN: fromRgb(0x00, 0xaa, 0x00),\n  LIGHT_CYAN: fromRgb(0x55, 0xff, 0xff),\n  DARK_CYAN: fromRgb(0x00, 0xaa, 0xaa),\n  LIGHT_BLUE: fromRgb(0x55, 0x55, 0xff),\n  DARK_BLUE: fromRgb(0x00, 0x00, 0xaa),\n  LIGHT_MAGENTA: fromRgb(0xff, 0x55, 0xff),\n  DARK_MAGENTA: fromRgb(0xaa, 0x00, 0xaa),\n  ORANGE: fromRgb(0xff, 0x88, 0x00),\n};\n","interface SerializationBundle {\n  instances: InstancePlaceholder[];\n  root: unknown;\n}\n\ninterface InstancePlaceholder {\n  $type?: string;\n}\n\ninterface ReferencePlaceholder {\n  $ref: number;\n}\n\nconst classDefinitions = new Map<string, ObjectConstructor>();\n\n/**\n * Decorates a class to make serializable.\n * Any class with the `@serializable` decorator will be serialized and deserialized.\n * @param value - The TypeScript class to mark as serializable.\n */\nexport function serializable(value: { name: string }): void {\n  classDefinitions.set(value.name, value as ObjectConstructor);\n}\n\n/**\n * Serializes a value to JSON.\n * Handles circular references and class instances.\n * @param obj - The root object to serialize.\n * @returns A string representation of the object graph.\n */\nexport function serialize(obj: unknown): string {\n  const instances: InstancePlaceholder[] = [];\n  const instancesMap = new WeakMap<object, number>();\n  const root = replace(obj);\n  return JSON.stringify({ instances, root });\n\n  function replace(input: unknown): unknown {\n    if (Array.isArray(input)) {\n      return replaceArray(input);\n    } else if (input && typeof input === 'object') {\n      return replaceObject(input as Record<string, unknown>);\n    } else {\n      return input;\n    }\n  }\n\n  function replaceArray(input: unknown[]): unknown[] {\n    const result = [];\n    for (let i = 0; i < input.length; i++) {\n      result[i] = replace(input[i]);\n    }\n    return result;\n  }\n\n  function replaceObject(input: Record<string, unknown>): Record<string, unknown> {\n    if (input && input.constructor.name && input.constructor.name !== 'Object') {\n      if (!classDefinitions.has(input.constructor.name)) {\n        throw new Error(`Class ${input.constructor.name} is not serializable.`);\n      }\n      if (instancesMap.has(input)) {\n        return { $ref: instancesMap.get(input) };\n      }\n      const $ref = instances.length;\n      instances.push({ $type: input.constructor.name });\n      instancesMap.set(input, $ref);\n      instances[$ref] = { ...replaceObjectProperties(input), $type: input.constructor.name };\n      return { $ref };\n    }\n    return replaceObjectProperties(input);\n  }\n\n  function replaceObjectProperties(input: Record<string, unknown>): Record<string, unknown> {\n    const result: Record<string, unknown> = {};\n    for (const key of Object.keys(input)) {\n      result[key] = replace(input[key]);\n    }\n    return result;\n  }\n}\n\n/**\n * Deserializes a JSON string to an object graph.\n * Handles circular references and class instances.\n * @param str - The JSON string to deserialize.\n * @returns The deserialized object graph.\n */\nexport function deserialize(str: string): unknown {\n  const input = JSON.parse(str) as SerializationBundle;\n  const instances = input.instances;\n\n  // First, replace all objects with class instances\n  for (let i = 0; i < instances.length; i++) {\n    const instance = instances[i];\n    const classDefinition = classDefinitions.get(instance.$type as string) as ObjectConstructor;\n    delete instance.$type;\n    instances[i] = Object.create(classDefinition.prototype, Object.getOwnPropertyDescriptors(instance));\n  }\n\n  // Second, replace all references in the list of class instances\n  for (let i = 0; i < instances.length; i++) {\n    replaceObjectProperties(instances[i] as unknown as Record<string, unknown>);\n  }\n\n  // Finally, replace all references in the root object graph\n  return replace(input.root);\n\n  function replace(input: unknown): unknown {\n    if (Array.isArray(input)) {\n      return replaceArray(input);\n    } else if (input && typeof input === 'object') {\n      return replaceObject(input as Record<string, unknown>);\n    } else {\n      return input;\n    }\n  }\n\n  function replaceArray(input: unknown[]): unknown[] {\n    for (let i = 0; i < input.length; i++) {\n      input[i] = replace(input[i]);\n    }\n    return input;\n  }\n\n  function replaceObject(input: Record<string, unknown>): InstancePlaceholder | Record<string, unknown> {\n    if (isRef(input)) {\n      return instances[input.$ref];\n    }\n    replaceObjectProperties(input);\n    return input;\n  }\n\n  function replaceObjectProperties(input: Record<string, unknown>): void {\n    for (const [key, value] of Object.entries(input)) {\n      input[key] = replace(value);\n    }\n  }\n}\n\nfunction isRef(value: unknown): value is ReferencePlaceholder {\n  return !!(value && typeof value === 'object' && '$ref' in value);\n}\n","import { BlendMode } from './blendmode';\nimport { Color, fromRgb } from './color';\nimport { Colors } from './palettes/colors';\nimport { serializable } from './serialize';\n\nfunction convertCharCode(charCode: string | number): number {\n  if (typeof charCode === 'string' && charCode.length > 0) {\n    return charCode.charCodeAt(0);\n  } else {\n    return charCode as number;\n  }\n}\n\n@serializable\nexport class Cell {\n  charCode: number;\n  fg: Color;\n  bg: Color;\n  dirty: boolean;\n  blocked: boolean;\n  blockedSight: boolean;\n  explored: boolean;\n  visible: boolean;\n  pathId: number;\n  g: number;\n  h: number;\n  prev: Cell | null;\n\n  constructor(\n    readonly x: number,\n    readonly y: number,\n    charCode?: string | number,\n    fg: Color = Colors.WHITE,\n    bg: Color = Colors.BLACK\n  ) {\n    if (charCode !== undefined) {\n      this.charCode = convertCharCode(charCode);\n    } else {\n      this.charCode = ' '.charCodeAt(0);\n    }\n\n    this.fg = fg;\n    this.bg = bg;\n    this.dirty = true;\n    this.blocked = false;\n    this.blockedSight = false;\n    this.explored = false;\n    this.visible = false;\n    this.pathId = -1;\n    this.g = 0;\n    this.h = 0;\n    this.prev = null;\n  }\n\n  setCharCode(charCode: number): void {\n    if (this.charCode !== charCode) {\n      this.charCode = charCode;\n      this.dirty = true;\n    }\n  }\n\n  setForeground(fg: Color): void {\n    if (fg !== undefined && fg !== null && fg !== this.fg) {\n      this.fg = fg;\n      this.dirty = true;\n    }\n  }\n\n  setBackground(bg: Color): void {\n    if (bg !== undefined && bg !== null && bg !== this.bg) {\n      this.bg = bg;\n      this.dirty = true;\n    }\n  }\n\n  setValue(charCode: string | number, fg?: Color, bg?: Color): boolean {\n    if (typeof charCode === 'string') {\n      charCode = charCode.charCodeAt(0);\n    }\n    if (typeof charCode === 'number') {\n      this.setCharCode(charCode);\n\n      if (fg !== undefined) {\n        this.setForeground(fg);\n      }\n      if (bg !== undefined) {\n        this.setBackground(bg);\n      }\n    } else {\n      this.drawCell(charCode);\n    }\n    return this.dirty;\n  }\n\n  drawCell(otherCell: Cell, blendMode?: BlendMode): void {\n    const alpha = otherCell.bg & 0xff;\n\n    if (!blendMode || otherCell.charCode > 0) {\n      this.setCharCode(otherCell.charCode);\n      this.setForeground(otherCell.fg);\n    } else if (alpha > 0 && alpha < 255) {\n      this.setForeground(this.blendColors(this.fg, otherCell.bg, blendMode));\n    }\n\n    if (!blendMode || alpha === 255) {\n      this.setBackground(otherCell.bg);\n    } else if (alpha > 0) {\n      this.setBackground(this.blendColors(this.bg, otherCell.bg, blendMode));\n    }\n  }\n\n  private blendColors(c1: Color, c2: Color, blendMode?: BlendMode): Color {\n    const alpha = c2 & 0xff;\n    const w1 = (255 - alpha) / 255.0;\n    const w2 = 1.0 - w1;\n    const r1 = (c1 >> 24) & 0xff;\n    const g1 = (c1 >> 16) & 0xff;\n    const b1 = (c1 >> 8) & 0xff;\n    const r2 = (c2 >> 24) & 0xff;\n    const g2 = (c2 >> 16) & 0xff;\n    const b2 = (c2 >> 8) & 0xff;\n\n    switch (blendMode) {\n      case 'blend':\n        return fromRgb((w1 * r1 + w2 * r2) | 0, (w1 * g1 + w2 * g2) | 0, (w1 * b1 + w2 * b2) | 0);\n\n      case 'add':\n        return fromRgb(this.clamp((r1 + w2 * r2) | 0), this.clamp((g1 + w2 * g2) | 0), this.clamp((b1 + w2 * b2) | 0));\n\n      default:\n        return c2;\n    }\n  }\n\n  private clamp(x: number): number {\n    return Math.min(255, x);\n  }\n}\n","// https://en.wikipedia.org/wiki/Code_page_437\n// https://en.wikipedia.org/wiki/Block_Elements\n// https://en.wikipedia.org/wiki/Box-drawing_character\n\nexport const Chars = {\n  SMILEY: 1,\n  INVERSE_SMILEY: 2,\n  HEART: 3,\n  DIAMOND: 4,\n  CLUB: 5,\n  SPADE: 6,\n  BULLET: 7,\n  INVERSE_BULLET: 8,\n\n  LIGHT_SHADE: 176,\n  MEDIUM_SHADE: 177,\n  DARK_SHADE: 178,\n\n  BOX_SINGLE_VERTICAL: 179,\n  BOX_SINGLE_VERTICAL_AND_SINGLE_LEFT: 180,\n  BOX_DOUBLE_VERTICAL_AND_DOUBLE_LEFT: 185,\n  BOX_DOUBLE_VERTICAL: 186,\n  BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT: 187,\n  BOX_DOUBLE_UP_AND_DOUBLE_LEFT: 188,\n  BOX_SINGLE_DOWN_AND_SINGLE_LEFT: 191,\n  BOX_SINGLE_UP_AND_SINGLE_RIGHT: 192,\n  BOX_SINGLE_HORIZONTAL_AND_SINGLE_UP: 193,\n  BOX_SINGLE_HORIZONTAL_AND_SINGLE_DOWN: 194,\n  BOX_SINGLE_VERTICAL_AND_SINGLE_RIGHT: 195,\n  BOX_SINGLE_HORIZONTAL: 196,\n  BOX_SINGLE_VERTICAL_AND_SINGLE_HORIZONTAL: 197,\n  BOX_DOUBLE_UP_AND_DOUBLE_RIGHT: 200,\n  BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT: 201,\n  BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_UP: 202,\n  BOX_DOUBLE_HORIZONTAL_AND_DOUBLE_DOWN: 203,\n  BOX_DOUBLE_VERTICAL_AND_DOUBLE_RIGHT: 204,\n  BOX_DOUBLE_HORIZONTAL: 205,\n  BOX_DOUBLE_VERTICAL_AND_DOUBLE_HORIZONTAL: 206,\n  BOX_SINGLE_UP_AND_SINGLE_LEFT: 13 * 16 + 9,\n  BOX_SINGLE_DOWN_AND_SINGLE_RIGHT: 13 * 16 + 10,\n\n  BLOCK_FULL: 219,\n  BLOCK_BOTTOM_HALF: 13 * 16 + 12,\n  BLOCK_LEFT_HALF: 13 * 16 + 13,\n  BLOCK_RIGHT_HALF: 13 * 16 + 14,\n  BLOCK_TOP_HALF: 13 * 16 + 15,\n};\n","import { Color } from '../color';\nimport { serializable } from '../serialize';\n\nexport const MessageAlign = {\n  LEFT: 'left',\n  CENTER: 'center',\n  RIGHT: 'right',\n};\n\n@serializable\nexport class Message {\n  constructor(\n    readonly text: string | undefined,\n    readonly fg?: Color | undefined,\n    readonly bg?: Color | undefined,\n    readonly children?: Message[],\n    readonly align?: string | undefined\n  ) {}\n\n  getWidth(): number {\n    let width = 0;\n\n    if (this.text) {\n      for (const line of this.text.split('\\n')) {\n        width = Math.max(width, line.length);\n      }\n    }\n\n    if (this.children) {\n      for (const child of this.children) {\n        width = Math.max(width, child.getWidth());\n      }\n    }\n\n    return width;\n  }\n\n  getHeight(): number {\n    let result = 0;\n\n    if (this.text) {\n      result += this.text.split('\\n').length;\n    }\n\n    if (this.children) {\n      for (const child of this.children) {\n        result += child.getHeight();\n      }\n    }\n\n    return result;\n  }\n}\n","/**\n * Returns the input string wrapped to the maximum line length.\n * @param str - The original input string.\n * @param maxLength - The maximum length of a single line.\n * @returns Array of word wrapped lines.\n */\nexport function wordWrap(str: string, maxLength: number): string[] {\n  const regex = new RegExp('(\\\\S(.{0,' + maxLength + '}\\\\S)?)\\\\s+', 'g');\n  return (str + ' ')\n    .replace(regex, '$1\\n')\n    .trim()\n    .split('\\n')\n    .map((line) => line.trim());\n}\n\n/**\n * Capitalizes the first letter of the input string.\n * @param str - The original input string.\n * @returns The capitalized string.\n */\nexport function capitalize(str: string): string {\n  if (!str) {\n    return str;\n  }\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","import { BlendMode } from './blendmode';\nimport { Cell } from './cell';\nimport { Chars } from './chars';\nimport { Color } from './color';\nimport { Message, MessageAlign } from './gui/message';\nimport { Rect } from './rect';\nimport { serializable } from './serialize';\nimport { wordWrap } from './utils';\n\n@serializable\nexport class Console {\n  readonly grid: Cell[][];\n  originX: number;\n  originY: number;\n  minX: number;\n  maxX: number;\n  minY: number;\n  maxY: number;\n  radius: number;\n  clip?: Rect;\n\n  constructor(\n    readonly width: number,\n    readonly height: number,\n    blockedFunc?: (x: number, y: number) => boolean\n  ) {\n    this.grid = [];\n    this.originX = 0;\n    this.originY = 0;\n    this.minX = 0;\n    this.maxX = 0;\n    this.minY = 0;\n    this.maxY = 0;\n    this.radius = 0;\n\n    for (let y = 0; y < height; y++) {\n      const row = [];\n      for (let x = 0; x < width; x++) {\n        row.push(new Cell(x, y));\n      }\n      this.grid.push(row);\n    }\n\n    this.clear();\n\n    if (blockedFunc) {\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          this.grid[y][x].blocked = this.grid[y][x].blockedSight = blockedFunc(x, y);\n        }\n      }\n    }\n  }\n\n  clear(): void {\n    for (let y = 0; y < this.height; y++) {\n      for (let x = 0; x < this.width; x++) {\n        this.drawChar(x, y, 0);\n      }\n    }\n  }\n\n  getCell(x: number, y: number): Cell | undefined {\n    if (x < 0 || y < 0 || x >= this.width || y >= this.height) {\n      return undefined;\n    }\n    return this.grid[y][x];\n  }\n\n  getCharCode(x: number, y: number): number | undefined {\n    if (x < 0 || y < 0 || x >= this.width || y >= this.height) {\n      return undefined;\n    }\n    return this.grid[y][x].charCode;\n  }\n\n  drawChar(x: number, y: number, c: string | number, fg?: Color, bg?: Color): void {\n    if (this.clip && !this.clip.contains({ x, y })) {\n      return;\n    }\n    if (x >= 0 && x < this.width && y >= 0 && y < this.height) {\n      this.grid[y | 0][x | 0].setValue(c, fg, bg);\n    }\n  }\n\n  drawString(x: number, y: number, str: string, fg?: Color, bg?: Color): void {\n    const lines = str.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n      this.drawStringLine(x, y + i, lines[i], fg, bg);\n    }\n  }\n\n  drawStringLine(x: number, y: number, line: string, fg?: Color, bg?: Color): void {\n    for (let j = 0; j < line.length; j++) {\n      this.drawChar(x + j, y, line.charCodeAt(j), fg, bg);\n    }\n  }\n\n  drawCenteredString(x: number, y: number, str: string, fg?: Color, bg?: Color): void {\n    this.drawString(x - Math.floor(str.length / 2), y, str, fg, bg);\n  }\n\n  drawMessage(x: number, y: number, message: Message, maxWidth: number): number {\n    if (message.text) {\n      if (message.align === MessageAlign.RIGHT) {\n        x += maxWidth - message.text.length;\n      } else if (message.align === MessageAlign.CENTER) {\n        x += maxWidth / 2 - message.text.length / 2;\n      }\n\n      const lines = wordWrap(message.text, maxWidth || this.width - x);\n      for (const line of lines) {\n        this.drawStringLine(x, y, line, message.fg, message.bg);\n        y++;\n      }\n    }\n    if (message.children) {\n      for (const child of message.children) {\n        y = this.drawMessage(x, y, child, maxWidth);\n      }\n    }\n    return y;\n  }\n\n  drawHLine(x: number, y: number, width: number, c: string | number, fg?: Color, bg?: Color): void {\n    for (let xi = x; xi < x + width; xi++) {\n      this.drawChar(xi, y, c, fg, bg);\n    }\n  }\n\n  drawVLine(x: number, y: number, height: number, c: string | number, fg?: Color, bg?: Color): void {\n    for (let yi = y; yi < y + height; yi++) {\n      this.drawChar(x, yi, c, fg, bg);\n    }\n  }\n\n  drawRect(x: number, y: number, width: number, height: number, c: string | number, fg?: Color, bg?: Color): void {\n    this.drawHLine(x, y, width, c, fg, bg);\n    this.drawHLine(x, y + height - 1, width, c, fg, bg);\n    this.drawVLine(x, y, height, c, fg, bg);\n    this.drawVLine(x + width - 1, y, height, c, fg, bg);\n  }\n\n  drawBox(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    topChar: number,\n    rightChar: number,\n    bottomChar: number,\n    leftChar: number,\n    topLeftChar: number,\n    topRightChar: number,\n    bottomRightChar: number,\n    bottomLeftChar: number,\n    fg?: Color,\n    bg?: Color\n  ): void {\n    this.drawHLine(x, y, width, topChar, fg, bg);\n    this.drawHLine(x, y + height - 1, width, bottomChar, fg, bg);\n\n    this.drawVLine(x, y, height, leftChar, fg, bg);\n    this.drawVLine(x + width - 1, y, height, rightChar, fg, bg);\n\n    this.drawChar(x, y, topLeftChar, fg, bg);\n    this.drawChar(x + width - 1, y, topRightChar, fg, bg);\n    this.drawChar(x, y + height - 1, bottomLeftChar, fg, bg);\n    this.drawChar(x + width - 1, y + height - 1, bottomRightChar, fg, bg);\n  }\n\n  drawSingleBox(x: number, y: number, width: number, height: number, fg?: Color, bg?: Color): void {\n    this.drawBox(\n      x,\n      y,\n      width,\n      height,\n      Chars.BOX_SINGLE_HORIZONTAL,\n      Chars.BOX_SINGLE_VERTICAL,\n      Chars.BOX_SINGLE_HORIZONTAL,\n      Chars.BOX_SINGLE_VERTICAL,\n      Chars.BOX_SINGLE_DOWN_AND_SINGLE_RIGHT,\n      Chars.BOX_SINGLE_DOWN_AND_SINGLE_LEFT,\n      Chars.BOX_SINGLE_UP_AND_SINGLE_LEFT,\n      Chars.BOX_SINGLE_UP_AND_SINGLE_RIGHT,\n      fg,\n      bg\n    );\n  }\n\n  drawDoubleBox(x: number, y: number, width: number, height: number, fg?: Color, bg?: Color): void {\n    this.drawBox(\n      x,\n      y,\n      width,\n      height,\n      Chars.BOX_DOUBLE_HORIZONTAL,\n      Chars.BOX_DOUBLE_VERTICAL,\n      Chars.BOX_DOUBLE_HORIZONTAL,\n      Chars.BOX_DOUBLE_VERTICAL,\n      Chars.BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT,\n      Chars.BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT,\n      Chars.BOX_DOUBLE_UP_AND_DOUBLE_LEFT,\n      Chars.BOX_DOUBLE_UP_AND_DOUBLE_RIGHT,\n      fg,\n      bg\n    );\n  }\n\n  fillRect(x: number, y: number, width: number, height: number, c: string | number, fg?: Color, bg?: Color): void {\n    for (let yi = y; yi < y + height; yi++) {\n      this.drawHLine(x, yi, width, c, fg, bg);\n    }\n  }\n\n  drawConsole(\n    dstX: number,\n    dstY: number,\n    srcConsole: Console,\n    srcX: number,\n    srcY: number,\n    srcWidth: number,\n    srcHeight: number,\n    blendMode?: BlendMode\n  ): void {\n    for (let y = 0; y < srcHeight; y++) {\n      for (let x = 0; x < srcWidth; x++) {\n        const cell = srcConsole.getCell(srcX + x, srcY + y);\n        if (cell) {\n          this.drawCell(dstX + x, dstY + y, cell, blendMode);\n        }\n      }\n    }\n  }\n\n  drawCell(x: number, y: number, cell: Cell, blendMode?: BlendMode): void {\n    if (x >= 0 && x < this.width && y >= 0 && y < this.height) {\n      this.grid[y][x].drawCell(cell, blendMode);\n    }\n  }\n\n  setBlocked(x: number, y: number, blocked: boolean): void {\n    if (x >= 0 && x < this.width && y >= 0 && y < this.height) {\n      this.grid[y][x].blocked = blocked;\n    }\n  }\n\n  setBlockedSight(x: number, y: number, blockedSight: boolean): void {\n    if (x >= 0 && x < this.width && y >= 0 && y < this.height) {\n      this.grid[y][x].blockedSight = blockedSight;\n    }\n  }\n\n  isVisible(x: number, y: number): boolean {\n    if (x < this.minX || x > this.maxX || y < this.minY || y > this.maxY) {\n      return false;\n    }\n    return this.grid[y][x].visible;\n  }\n\n  isBlocked(x: number, y: number): boolean {\n    if (x < 0 || x > this.width || y < 0 || y > this.height) {\n      return true;\n    }\n    return this.grid[y][x].blocked;\n  }\n\n  isBlockedSight(x: number, y: number): boolean {\n    if (x < 0 || x > this.width || y < 0 || y > this.height) {\n      return true;\n    }\n    return this.grid[y][x].blockedSight;\n  }\n\n  /**\n   * Compute the FOV in an octant adjacent to the Y axis\n   */\n  private computeOctantY(deltaX: number, deltaY: number): void {\n    const startSlopes: number[] = [];\n    const endSlopes: number[] = [];\n    let iteration = 1;\n    let totalObstacles = 0;\n    let obstaclesInLastLine = 0;\n    let minSlope = 0;\n    let x;\n    let y;\n    let halfSlope;\n    let processedCell;\n    let visible;\n    let extended;\n    let centreSlope;\n    let startSlope;\n    let endSlope;\n    let previousEndSlope;\n\n    for (\n      y = this.originY + deltaY;\n      y >= this.minY && y <= this.maxY;\n      y += deltaY, obstaclesInLastLine = totalObstacles, ++iteration\n    ) {\n      halfSlope = 0.5 / iteration;\n      previousEndSlope = -1;\n      for (\n        processedCell = Math.floor(minSlope * iteration + 0.5), x = this.originX + processedCell * deltaX;\n        processedCell <= iteration && x >= this.minX && x <= this.maxX;\n        x += deltaX, ++processedCell, previousEndSlope = endSlope\n      ) {\n        visible = true;\n        extended = false;\n        centreSlope = processedCell / iteration;\n        startSlope = previousEndSlope;\n        endSlope = centreSlope + halfSlope;\n\n        if (obstaclesInLastLine > 0) {\n          if (\n            !(this.grid[y - deltaY][x].visible && !this.grid[y - deltaY][x].blockedSight) &&\n            !(this.grid[y - deltaY][x - deltaX].visible && !this.grid[y - deltaY][x - deltaX].blockedSight)\n          ) {\n            visible = false;\n          } else {\n            for (let idx = 0; idx < obstaclesInLastLine && visible; ++idx) {\n              if (startSlope <= endSlopes[idx] && endSlope >= startSlopes[idx]) {\n                if (!this.grid[y][x].blockedSight) {\n                  if (centreSlope > startSlopes[idx] && centreSlope < endSlopes[idx]) {\n                    visible = false;\n                    break;\n                  }\n                } else {\n                  if (startSlope >= startSlopes[idx] && endSlope <= endSlopes[idx]) {\n                    visible = false;\n                    break;\n                  } else {\n                    startSlopes[idx] = Math.min(startSlopes[idx], startSlope);\n                    endSlopes[idx] = Math.max(endSlopes[idx], endSlope);\n                    extended = true;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (visible) {\n          this.grid[y][x].visible = true;\n          if (this.grid[y][x].blockedSight) {\n            if (minSlope >= startSlope) {\n              minSlope = endSlope;\n            } else if (!extended) {\n              startSlopes[totalObstacles] = startSlope;\n              endSlopes[totalObstacles++] = endSlope;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Compute the FOV in an octant adjacent to the X axis\n   */\n  private computeOctantX(deltaX: number, deltaY: number): void {\n    const startSlopes: number[] = [];\n    const endSlopes: number[] = [];\n    let iteration = 1;\n    let totalObstacles = 0;\n    let obstaclesInLastLine = 0;\n    let minSlope = 0;\n    let x;\n    let y;\n    let halfSlope;\n    let processedCell;\n    let visible;\n    let extended;\n    let centreSlope;\n    let startSlope;\n    let endSlope;\n    let previousEndSlope;\n\n    for (\n      x = this.originX + deltaX;\n      x >= this.minX && x <= this.maxX;\n      x += deltaX, obstaclesInLastLine = totalObstacles, ++iteration\n    ) {\n      halfSlope = 0.5 / iteration;\n      previousEndSlope = -1;\n      for (\n        processedCell = Math.floor(minSlope * iteration + 0.5), y = this.originY + processedCell * deltaY;\n        processedCell <= iteration && y >= this.minY && y <= this.maxY;\n        y += deltaY, ++processedCell, previousEndSlope = endSlope\n      ) {\n        visible = true;\n        extended = false;\n        centreSlope = processedCell / iteration;\n        startSlope = previousEndSlope;\n        endSlope = centreSlope + halfSlope;\n\n        if (obstaclesInLastLine > 0) {\n          if (\n            !(this.grid[y][x - deltaX].visible && !this.grid[y][x - deltaX].blockedSight) &&\n            !(this.grid[y - deltaY][x - deltaX].visible && !this.grid[y - deltaY][x - deltaX].blockedSight)\n          ) {\n            visible = false;\n          } else {\n            for (let idx = 0; idx < obstaclesInLastLine && visible; ++idx) {\n              if (startSlope <= endSlopes[idx] && endSlope >= startSlopes[idx]) {\n                if (!this.grid[y][x].blockedSight) {\n                  if (centreSlope > startSlopes[idx] && centreSlope < endSlopes[idx]) {\n                    visible = false;\n                    break;\n                  }\n                } else {\n                  if (startSlope >= startSlopes[idx] && endSlope <= endSlopes[idx]) {\n                    visible = false;\n                    break;\n                  } else {\n                    startSlopes[idx] = Math.min(startSlopes[idx], startSlope);\n                    endSlopes[idx] = Math.max(endSlopes[idx], endSlope);\n                    extended = true;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (visible) {\n          this.grid[y][x].visible = true;\n          if (this.grid[y][x].blockedSight) {\n            if (minSlope >= startSlope) {\n              minSlope = endSlope;\n            } else if (!extended) {\n              startSlopes[totalObstacles] = startSlope;\n              endSlopes[totalObstacles++] = endSlope;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  computeFov(originX: number, originY: number, radius: number, opt_noClear?: boolean, opt_octants?: number): void {\n    this.originX = originX;\n    this.originY = originY;\n    this.radius = radius;\n\n    if (opt_noClear) {\n      this.minX = Math.min(this.minX, Math.max(0, originX - radius));\n      this.minY = Math.min(this.minY, Math.max(0, originY - radius));\n      this.maxX = Math.max(this.maxX, Math.min(this.width - 1, originX + radius));\n      this.maxY = Math.max(this.maxY, Math.min(this.height - 1, originY + radius));\n    } else {\n      this.minX = Math.max(0, originX - radius);\n      this.minY = Math.max(0, originY - radius);\n      this.maxX = Math.min(this.width - 1, originX + radius);\n      this.maxY = Math.min(this.height - 1, originY + radius);\n\n      for (let y = this.minY; y <= this.maxY; y++) {\n        for (let x = this.minX; x <= this.maxX; x++) {\n          this.grid[y][x].visible = false;\n        }\n      }\n    }\n\n    this.grid[originY][originX].visible = true;\n\n    if (opt_octants === undefined) {\n      this.computeOctantY(1, 1);\n      this.computeOctantX(1, 1);\n      this.computeOctantX(1, -1);\n      this.computeOctantY(1, -1);\n      this.computeOctantY(-1, -1);\n      this.computeOctantX(-1, -1);\n      this.computeOctantX(-1, 1);\n      this.computeOctantY(-1, 1);\n    } else {\n      //   \\ 4 | 3 /\n      //    \\  |  /\n      //  5  \\ | /  2\n      //      \\|/\n      // ------+-------\n      //      /|\\\n      //  6  / | \\  1\n      //    /  |  \\\n      //   / 7 | 0 \\\n      if (opt_octants & 0x001) {\n        this.computeOctantY(1, 1);\n      }\n\n      if (opt_octants & 0x002) {\n        this.computeOctantX(1, 1);\n      }\n\n      if (opt_octants & 0x004) {\n        this.computeOctantX(1, -1);\n      }\n\n      if (opt_octants & 0x008) {\n        this.computeOctantY(1, -1);\n      }\n\n      if (opt_octants & 0x010) {\n        this.computeOctantY(-1, -1);\n      }\n\n      if (opt_octants & 0x020) {\n        this.computeOctantX(-1, -1);\n      }\n\n      if (opt_octants & 0x040) {\n        this.computeOctantX(-1, 1);\n      }\n\n      if (opt_octants & 0x080) {\n        this.computeOctantY(-1, 1);\n      }\n    }\n  }\n\n  /**\n   * All visible tiles are marked as explored.\n   */\n  updateExplored(): void {\n    for (let y = this.minY; y <= this.maxY; y++) {\n      for (let x = this.minX; x <= this.maxX; x++) {\n        const tile = this.grid[y][x];\n        tile.explored = tile.explored || tile.visible;\n      }\n    }\n  }\n}\n","export class Font {\n  constructor(\n    readonly url: string,\n    readonly charWidth: number,\n    readonly charHeight: number\n  ) {}\n}\n\n/**\n * Font image as data URL.\n * IBM terminal font.\n * See img/font.png.\n */\nconst FONT_IMAGE =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQ' +\n  'MAAAD58POIAAAABlBMVEUAAAD///+l2Z/dAAAEhklEQVRIx42Sv4oUQRDGC4UzadSwwMUD8' +\n  'QEKlbWD4Q58B/NGpTVocKO1wXHUzMAH0AcwMTYVGg5ag0IzEXaRjdZEZKNzkKbHqtnzHypY' +\n  '09M9+5uvqr7pbYCuC6ftaRhgONXs30eAh0O1rYDm4IS/eH0B8GxRW2vxo396yu/fb0ZFrW1' +\n  'zcOXlPU/XPwK8PGjbWhVwM4KnH61912oK4+zmmHJaQotyt1kvtC2Atdo24iohPDiG/v4eIC' +\n  'JsY3Wy8Yvr0DSIBOdxgH6v8wsriWhc8s0AtaK/GzSl1jR0nSjQnwki6FQxNFKjgzO2a7BBq' +\n  'ucH7dL4M9z96CIhT1Fs/AgKgcA6dKCxI29DaHNwRJ4EGAU1sU0OG9rmE4SIc3A4FChACqqh' +\n  'JRwpxkqh9wxag4DSmEJ5DtpFwAP4GUf6lmKcFFti1BYuQp4xN8kxM2kNhjdkTOiTUeAKGvh' +\n  'A1rLpMbYACQzCITlTDRMbLYoEa2JWPSMRFZIupcSzMVKcEUkX+sOG+ChNX2vD8ex6k7OFHL' +\n  '0P1655JuPd53WAD+yTv3UrCQiuHmYBbfIxpkImuvpBQBkVb5g4XHv3JkNireG8AO9zDhBZu' +\n  '2z2OMZ11S5/RIlyMefMNaZ4GsCz5xcjyM6hHYEjAYEfO8Ig1rklAe9sRIeYAdwyoIBq6YIz' +\n  'CAKiWoifA3m3o2AzWcdYKOdY47EIf8QABCuYgIUVmdVMEYEDA0Hmo/3D6KKJbh5mxhP3UsW' +\n  'IE97wnEygyizOfOLi2JOJW8CeOblW9IHeKZgv4zxuzDryOmb+4aQH+MXV6e0ywdUcxqCjBW' +\n  'l5GpbzZduOG1QEiGXP86T7EfiJfkMQ4OO4H0yqyNC2zlziWEN7Ywuc2fQ4p5BNkS5QYXP2h' +\n  '5NtRJh0vCKQidtVJmCGAwDSSQpYggSxiRIyzewsgCh4xxiTPDMh5aj//l7btqkr6rQyIOtL' +\n  'ji4lVRQwXdzvus40Y53M33fh50GZwF4ExQeMlvuTggLzSi4ElKczUO7zVtpwdyMKdqZKOWb' +\n  '2nDblawPxPmuMwFEWBW+jlZR1eYtS442kiBGMWCi/h1/+GAR6NYOJWiqNJXFygFtrkx5C0O' +\n  '3IeFGs67HhEEhmBu/BUOT+0551pXxYIF+Elpi5AKRkLl5GUbCCZddyMv621ujEBPP4vSy2f' +\n  'otTx3U+d3WBiFOA6VSGSB49v/M7GBX9FPrDaT2c9qr4PCpwZ7qz813R94dVFIe19v33GlMZ' +\n  'UghQFb8BrfE7QBmgBMbrn2B3enn/y3B5+DL8UBAdnejdYdBxeV9ejwoYNTgW0Ok/gA7UG2G' +\n  'AzanhL0DG7q4svynwF8UwDPu7u/vD0IudzSltMtVbP+J/gUbR29oJ7Fg9s6Uy+DnpiTCOYc' +\n  '4cXOeXMWfsusSw7FOg9x655nax6BlecwpOQQ68WBwp+H2LMQTuOq2RUigzh2Q/R3CWARJIJ' +\n  'G199EwOTyKBlQMznshCRGeQ5gHABAQl6M4gLEdAzVaBWMCiANdsayDCHBA/hagKYfielrJI' +\n  'lipKKQIA9Nf3wBloTHT6BuAx15zRNa1nAAAAAElFTkSuQmCC';\n\nexport const DEFAULT_FONT = new Font(FONT_IMAGE, 8, 8);\n","/**\n * The FovOctants constants provide bitmasks for various directions.\n *\n * @example\n * ```\n *     \\ 4 | 3 /\n *      \\  |  /\n *    5  \\ | /  2\n *        \\|/\n *   ------+-------\n *        /|\\\n *    6  / | \\  1\n *      /  |  \\\n *     / 7 | 0 \\\n *```\n */\nexport const FovOctants = {\n  OCTANT_SOUTH_SOUTHEAST: 0x001,\n  OCTANT_EAST_SOUTHEAST: 0x002,\n  OCTANT_EAST_NORTHTHEAST: 0x004,\n  OCTANT_NORTH_NORTHEAST: 0x008,\n  OCTANT_NORTH_NORTHWEST: 0x010,\n  OCTANT_WEST_NORTHEAST: 0x020,\n  OCTANT_WEST_SOUTHWEST: 0x040,\n  OCTANT_SOUTH_SOUTHWEST: 0x080,\n};\n\nexport const FovQuadrants = {\n  QUADRANT_SOUTHEAST: 0x001 + 0x002,\n  QUADRANT_EAST: 0x002 + 0x004,\n  QUADRANT_NORTHEAST: 0x004 + 0x008,\n  QUADRANT_NORTH: 0x008 + 0x010,\n  QUADRANT_NORTHWEST: 0x010 + 0x020,\n  QUADRANT_WEST: 0x020 + 0x040,\n  QUADRANT_SOUTHWEST: 0x040 + 0x080,\n  QUADRANT_SOUTH: 0x080 + 0x001,\n};\n\nexport function getFovQuadrant(dx: number, dy: number): number {\n  if (dx > 0) {\n    if (dy > 0) {\n      return FovQuadrants.QUADRANT_SOUTHEAST;\n    } else if (dy === 0) {\n      return FovQuadrants.QUADRANT_EAST;\n    } else {\n      return FovQuadrants.QUADRANT_NORTHEAST;\n    }\n  } else if (dx < 0) {\n    if (dy > 0) {\n      return FovQuadrants.QUADRANT_SOUTHWEST;\n    } else if (dy === 0) {\n      return FovQuadrants.QUADRANT_WEST;\n    } else {\n      return FovQuadrants.QUADRANT_NORTHWEST;\n    }\n  } else {\n    if (dy > 0) {\n      return FovQuadrants.QUADRANT_SOUTH;\n    } else {\n      return FovQuadrants.QUADRANT_NORTH;\n    }\n  }\n}\n","import { serializable } from './serialize';\n\nexport interface PointLike {\n  readonly x: number;\n  readonly y: number;\n}\n\n@serializable\nexport class Point implements PointLike {\n  constructor(\n    readonly x: number,\n    readonly y: number\n  ) {}\n}\n","import { Point } from './point';\nimport { serializable } from './serialize';\n\n@serializable\nexport class Rect {\n  constructor(\n    readonly x: number,\n    readonly y: number,\n    readonly width: number,\n    readonly height: number\n  ) {}\n\n  get left(): number {\n    return this.x;\n  }\n\n  get top(): number {\n    return this.y;\n  }\n\n  get x2(): number {\n    return this.x + this.width;\n  }\n\n  get y2(): number {\n    return this.y + this.height;\n  }\n\n  getCenter(): Point {\n    return new Point((this.x + this.width / 2) | 0, (this.y + this.height / 2) | 0);\n  }\n\n  intersects(other: Rect): boolean {\n    return this.x <= other.x2 && this.x2 >= other.x && this.y <= other.y2 && this.y2 >= other.y;\n  }\n\n  contains(point: Point | Rect): boolean {\n    return point.x >= this.x && point.x < this.x2 && point.y >= this.y && point.y < this.y2;\n  }\n}\n","import { Console } from '../console';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Dialog } from './dialog';\n\nexport class DialogState {\n  open = false;\n  count = 0;\n  buffer?: Console;\n\n  constructor(\n    readonly dialog: Dialog,\n    readonly rect: Rect,\n    readonly contentsOffset: Point\n  ) {}\n}\n","import { Colors } from '../palettes/colors';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Terminal } from '../terminal';\nimport { Dialog } from './dialog';\nimport { DialogState } from './dialogstate';\n\nexport class DefaultDialogRenderer {\n  getState(terminal: Terminal, dialog: Dialog): DialogState {\n    const width = dialog.contentsRect.width + 4;\n    const height = dialog.contentsRect.height + 4;\n    const x = ((terminal.width - width) / 2) | 0;\n    const y = ((terminal.height - height) / 2) | 0;\n    return new DialogState(dialog, new Rect(x, y, width, height), new Point(x + 2, y + 2));\n  }\n\n  draw(term: Terminal, dialogState: DialogState): void {\n    const dialog = dialogState.dialog;\n    const { x, y, width, height } = dialogState.rect;\n    term.fillRect(x, y, width, height, 0, Colors.WHITE, Colors.BLACK);\n    term.drawSingleBox(x, y, width, height);\n    term.drawCenteredString((x + width / 2) | 0, y, ' ' + dialog.title + ' ');\n    dialog.drawContents(term, dialogState.contentsOffset);\n  }\n}\n","import { DefaultDialogRenderer } from './gui/defaultdialogrenderer';\nimport { Dialog } from './gui/dialog';\nimport { DialogRenderer } from './gui/dialogrenderer';\nimport { DialogState } from './gui/dialogstate';\nimport { Terminal } from './terminal';\n\nexport class GUI {\n  constructor(\n    readonly terminal: Terminal,\n    readonly renderer: DialogRenderer = new DefaultDialogRenderer(),\n    readonly dialogs: DialogState[] = []\n  ) {}\n\n  add(dialog: Dialog): void {\n    this.dialogs.push(this.renderer.getState(this.terminal, dialog));\n  }\n\n  /**\n   * Handles input for currently active dialog.\n   * Returns true if the input was handled.\n   * Returns false otherwise.\n   */\n  handleInput(): boolean {\n    if (this.dialogs.length === 0) {\n      return false;\n    }\n\n    const activeIndex = this.dialogs.length - 1;\n    const activeState = this.dialogs[this.dialogs.length - 1];\n    const activeDialog = activeState.dialog;\n    if (activeDialog.handleInput(this.terminal, activeState.contentsOffset)) {\n      this.dialogs.splice(activeIndex, 1);\n    }\n\n    return true;\n  }\n\n  draw(): void {\n    for (let i = 0; i < this.dialogs.length; i++) {\n      this.renderer.draw(this.terminal, this.dialogs[i]);\n    }\n  }\n}\n","import { Console } from '../console';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Terminal } from '../terminal';\n\nexport abstract class Dialog {\n  constructor(\n    readonly contentsRect: Rect,\n    readonly title: string\n  ) {}\n\n  abstract drawContents(console: Console, offset: Point): void;\n\n  abstract handleInput(terminal: Terminal, offset: Point): boolean;\n}\n","/**\n * The delay in frames before input repeating.\n * Time in milliseconds.\n */\nconst INPUT_REPEAT_DELAY = 200.0;\n\n/**\n * The delay between subsequent repeat firing.\n * Time in milliseconds.\n */\nconst INPUT_REPEAT_RATE = 1000.0 / 15.0;\n\n/**\n * The Input class represents a physical input.\n * Example: keyboard key or mouse button.\n */\nexport class Input {\n  down = false;\n  downTime = 0;\n  repeat = false;\n  repeatTime = 0;\n  downCount = 0;\n  upCount = 100;\n\n  setDown(down: boolean): void {\n    if (this.down !== down) {\n      this.down = down;\n      this.repeat = false;\n      this.downTime = this.repeatTime = performance.now();\n    }\n  }\n\n  update(time: number): void {\n    this.repeat = false;\n    if (this.down) {\n      this.downCount++;\n      this.upCount = 0;\n      if (time - this.downTime >= INPUT_REPEAT_DELAY && time - this.repeatTime >= INPUT_REPEAT_RATE) {\n        this.repeat = true;\n        this.repeatTime = time;\n      }\n    } else {\n      this.downCount = 0;\n      this.upCount++;\n    }\n  }\n\n  /**\n   * Returns true if the input is \"pressed\".\n   * Pressed is a one time event when the input first goes down.\n   * It then repeats on repeat delay.\n   */\n  isPressed(): boolean {\n    return this.downCount === 1 || this.repeat;\n  }\n\n  /**\n   * Returns true if the input is \"clicked\".\n   * Clicked is a one time event when the input first goes up.\n   */\n  isClicked(): boolean {\n    return this.upCount === 1;\n  }\n}\n\nexport class InputSet<T> {\n  readonly inputs = new Map<T, Input>();\n\n  clear(): void {\n    this.inputs.clear();\n  }\n\n  get(key: T): Input {\n    let input = this.inputs.get(key);\n    if (!input) {\n      input = new Input();\n      this.inputs.set(key, input);\n    }\n    return input;\n  }\n\n  updateAll(time: number): void {\n    this.inputs.forEach((input) => input.update(time));\n  }\n}\n","import { Input, InputSet } from './input';\n\nexport class Keyboard {\n  readonly keys = new InputSet<KeyCode>();\n\n  /**\n   * Creates a new keyboard module.\n   *\n   * @param el - DOM el to attach listeners.\n   */\n  constructor(el: HTMLElement) {\n    el.addEventListener('keydown', (e) => this.setKey(e, true));\n    el.addEventListener('keyup', (e) => this.setKey(e, false));\n  }\n\n  clear(): void {\n    this.keys.clear();\n  }\n\n  getKey(key: KeyCode): Input {\n    return this.keys.get(key);\n  }\n\n  setKey(e: KeyboardEvent, state: boolean): void {\n    const key = e.code as KeyCode;\n    if (key === Keys.VK_F11) {\n      // Allow fullscreen requests to go through\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    this.keys.get(key).setDown(state);\n  }\n\n  updateKeys(time: number): void {\n    this.keys.updateAll(time);\n  }\n}\n\nexport const Keys = {\n  VK_BACKSPACE: 'Backspace',\n  VK_TAB: 'Tab',\n  VK_ENTER: 'Enter',\n  VK_SHIFT_LEFT: 'ShiftLeft',\n  VK_SHIFT_RIGHT: 'ShiftRight',\n  VK_CONTROL_LEFT: 'ControlLeft',\n  VK_CONTROL_RIGHT: 'ControlRight',\n  VK_ALT_LEFT: 'AltLeft',\n  VK_ALT_RIGHT: 'AltRight',\n  VK_PAUSE: 'Pause',\n  VK_CAPS_LOCK: 'CapsLock',\n  VK_ESCAPE: 'Escape',\n  VK_SPACE: 'Space',\n  VK_PAGE_UP: 'PageUp',\n  VK_PAGE_DOWN: 'PageDown',\n  VK_END: 'End',\n  VK_HOME: 'Home',\n  VK_LEFT: 'ArrowLeft',\n  VK_UP: 'ArrowUp',\n  VK_RIGHT: 'ArrowRight',\n  VK_DOWN: 'ArrowDown',\n  VK_INSERT: 'Insert',\n  VK_DELETE: 'Delete',\n  VK_0: 'Digit0',\n  VK_1: 'Digit1',\n  VK_2: 'Digit2',\n  VK_3: 'Digit3',\n  VK_4: 'Digit4',\n  VK_5: 'Digit5',\n  VK_6: 'Digit6',\n  VK_7: 'Digit7',\n  VK_8: 'Digit8',\n  VK_9: 'Digit9',\n  VK_SEMICOLON: 'Semicolon',\n  VK_EQUALS: 'Equal',\n  VK_A: 'KeyA',\n  VK_B: 'KeyB',\n  VK_C: 'KeyC',\n  VK_D: 'KeyD',\n  VK_E: 'KeyE',\n  VK_F: 'KeyF',\n  VK_G: 'KeyG',\n  VK_H: 'KeyH',\n  VK_I: 'KeyI',\n  VK_J: 'KeyJ',\n  VK_K: 'KeyK',\n  VK_L: 'KeyL',\n  VK_M: 'KeyM',\n  VK_N: 'KeyN',\n  VK_O: 'KeyO',\n  VK_P: 'KeyP',\n  VK_Q: 'KeyQ',\n  VK_R: 'KeyR',\n  VK_S: 'KeyS',\n  VK_T: 'KeyT',\n  VK_U: 'KeyU',\n  VK_V: 'KeyV',\n  VK_W: 'KeyW',\n  VK_X: 'KeyX',\n  VK_Y: 'KeyY',\n  VK_Z: 'KeyZ',\n  VK_CONTEXT_MENU: 'ContextMenu',\n  VK_NUMPAD0: 'Numpad0',\n  VK_NUMPAD1: 'Numpad1',\n  VK_NUMPAD2: 'Numpad2',\n  VK_NUMPAD3: 'Numpad3',\n  VK_NUMPAD4: 'Numpad4',\n  VK_NUMPAD5: 'Numpad5',\n  VK_NUMPAD6: 'Numpad6',\n  VK_NUMPAD7: 'Numpad7',\n  VK_NUMPAD8: 'Numpad8',\n  VK_NUMPAD9: 'Numpad9',\n  VK_NUMPAD_ENTER: 'NumpadEnter',\n  VK_MULTIPLY: 'NumpadMultiply',\n  VK_ADD: 'NumpadAdd',\n  VK_SEPARATOR: 'NumpadSeparator',\n  VK_SUBTRACT: 'NumpadSubtract',\n  VK_DECIMAL: 'NumpadDecimal',\n  VK_DIVIDE: 'NumpadDivide',\n  VK_F1: 'F1',\n  VK_F2: 'F2',\n  VK_F3: 'F3',\n  VK_F4: 'F4',\n  VK_F5: 'F5',\n  VK_F6: 'F6',\n  VK_F7: 'F7',\n  VK_F8: 'F8',\n  VK_F9: 'F9',\n  VK_F10: 'F10',\n  VK_F11: 'F11',\n  VK_F12: 'F12',\n  VK_F13: 'F13',\n  VK_F14: 'F14',\n  VK_F15: 'F15',\n  VK_F16: 'F16',\n  VK_F17: 'F17',\n  VK_F18: 'F18',\n  VK_F19: 'F19',\n  VK_F20: 'F20',\n  VK_F21: 'F21',\n  VK_F22: 'F22',\n  VK_F23: 'F23',\n  VK_F24: 'F24',\n  VK_NUM_LOCK: 'NumLock',\n  VK_SCROLL_LOCK: 'ScrollLock',\n  VK_COMMA: 'Comma',\n  VK_PERIOD: 'Period',\n  VK_SLASH: 'Slash',\n  VK_BACKQUOTE: 'Backquote',\n  VK_OPEN_BRACKET: 'BracketLeft',\n  VK_BACK_SLASH: 'Backslash',\n  VK_CLOSE_BRACKET: 'BracketRight',\n  VK_QUOTE: 'Quote',\n  VK_META: 'OSLeft',\n} as const;\n\nexport type Key = keyof typeof Keys;\nexport type KeyCode = (typeof Keys)[Key];\n","import { Console } from '../console';\nimport { Keys } from '../keys';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Terminal } from '../terminal';\nimport { Dialog } from './dialog';\nimport { Message } from './message';\n\nexport class MessageDialog extends Dialog {\n  constructor(\n    title: string,\n    readonly message: string | Message\n  ) {\n    let rect;\n    if (message instanceof Message) {\n      rect = new Rect(0, 0, message.getWidth(), message.getHeight());\n    } else {\n      rect = new Rect(0, 0, message.length, 1);\n    }\n    super(rect, title);\n  }\n\n  drawContents(console: Console, offset: Point): void {\n    if (this.message instanceof Message) {\n      console.drawMessage(offset.x, offset.y, this.message, this.message.getWidth());\n    } else {\n      console.drawString(offset.x, offset.y, this.message);\n    }\n  }\n\n  handleInput(terminal: Terminal): boolean {\n    return terminal.isKeyPressed(Keys.VK_ESCAPE);\n  }\n}\n","import { Chars } from '../chars';\nimport { Console } from '../console';\nimport { Keys } from '../keys';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Terminal } from '../terminal';\nimport { Dialog } from './dialog';\nimport { Message } from './message';\n\nexport class ScrollableMessageDialog extends Dialog {\n  readonly messagesHeight: number;\n  readonly scrollMax: number;\n  readonly scrollbarHeight: number;\n  scrollY = 0;\n\n  constructor(\n    rect: Rect,\n    title: string,\n    readonly message: Message\n  ) {\n    super(rect, title);\n    this.messagesHeight = message.getHeight();\n    this.scrollMax = Math.max(1, this.messagesHeight - this.contentsRect.height);\n    this.scrollbarHeight = (this.contentsRect.height * this.contentsRect.height) / (this.messagesHeight + 1);\n  }\n\n  drawContents(console: Console, offset: Point): void {\n    console.clip = this.contentsRect;\n    console.drawMessage(offset.x, offset.y - this.scrollY, this.message, this.message.getWidth());\n    console.clip = undefined;\n\n    // Draw scrollbar\n    const scrollbarY = (this.scrollY / this.scrollMax) * (this.contentsRect.height - this.scrollbarHeight);\n    console.drawVLine(\n      this.contentsRect.x + this.contentsRect.width + 1,\n      this.contentsRect.y + scrollbarY,\n      this.scrollbarHeight,\n      Chars.MEDIUM_SHADE\n    );\n  }\n\n  handleInput(terminal: Terminal): boolean {\n    const moveKey = terminal.getMovementKey();\n    if (moveKey) {\n      this.scrollY += moveKey.y;\n    }\n    if (terminal.isKeyPressed(Keys.VK_PAGE_DOWN)) {\n      this.scrollY += this.contentsRect.height;\n    }\n    if (terminal.isKeyPressed(Keys.VK_PAGE_UP)) {\n      this.scrollY -= this.contentsRect.height;\n    }\n    if (terminal.mouse.wheelDeltaY !== 0) {\n      this.scrollY += terminal.mouse.wheelDeltaY < 0 ? -5 : 5;\n      terminal.mouse.wheelDeltaY = 0;\n    }\n    this.scrollY = Math.max(0, Math.min(this.scrollMax, this.scrollY));\n    return terminal.isKeyPressed(Keys.VK_ESCAPE);\n  }\n}\n","import { Console } from '../console';\nimport { KeyCode, Keys } from '../keys';\nimport { Colors } from '../palettes/colors';\nimport { Point } from '../point';\nimport { Rect } from '../rect';\nimport { Terminal } from '../terminal';\nimport { Dialog } from './dialog';\n\nexport class SelectDialog extends Dialog {\n  readonly options: string[];\n  readonly callback: (i: number) => void;\n  private hoverIndex: number;\n\n  constructor(title: string, options: string[], callback: (i: number) => void) {\n    let width = title.length;\n    for (let i = 0; i < options.length; i++) {\n      width = Math.max(width, options[i].length + 4);\n    }\n\n    const height = options.length;\n    const rect = new Rect(0, 0, width, height);\n    super(rect, title);\n    this.options = options;\n    this.callback = callback;\n    this.hoverIndex = -1;\n  }\n\n  drawContents(console: Console, offset: Point): void {\n    for (let i = 0; i < this.options.length; i++) {\n      const str = String.fromCharCode(65 + i) + ' - ' + this.options[i];\n      if (i === this.hoverIndex) {\n        console.drawString(offset.x, offset.y + i, str, Colors.BLACK, Colors.WHITE);\n      } else {\n        console.drawString(offset.x, offset.y + i, str, Colors.WHITE, Colors.BLACK);\n      }\n    }\n  }\n\n  handleInput(terminal: Terminal, offset: Point): boolean {\n    const moveKey = terminal.getMovementKey();\n    if (moveKey && moveKey.y !== 0) {\n      this.hoverIndex = (this.hoverIndex + this.options.length + moveKey.y) % this.options.length;\n    }\n    if (this.hoverIndex >= 0 && (terminal.isKeyPressed(Keys.VK_ENTER) || terminal.isKeyPressed(Keys.VK_NUMPAD_ENTER))) {\n      this.callback(this.hoverIndex);\n      return true;\n    }\n    if (\n      terminal.mouse.x >= offset.x &&\n      terminal.mouse.x < offset.x + this.contentsRect.width &&\n      terminal.mouse.y >= offset.y &&\n      terminal.mouse.y < offset.y + this.contentsRect.height\n    ) {\n      this.hoverIndex = terminal.mouse.y - offset.y;\n      if (terminal.mouse.buttons.get(0).isClicked()) {\n        terminal.mouse.buttons.clear();\n        this.callback(this.hoverIndex);\n        return true;\n      }\n    }\n    const startCharCode = 'A'.charCodeAt(0);\n    for (let i = 0; i < this.options.length; i++) {\n      if (terminal.isKeyPressed(('Key' + String.fromCharCode(startCharCode + i)) as KeyCode)) {\n        this.callback(i);\n        return true;\n      }\n    }\n    return terminal.isKeyPressed(Keys.VK_ESCAPE);\n  }\n\n  isMouseOverOption(terminal: Terminal, offset: Point, index: number): boolean {\n    return (\n      terminal.mouse.x >= offset.x &&\n      terminal.mouse.x < offset.x + this.contentsRect.width &&\n      terminal.mouse.y === offset.y + index\n    );\n  }\n}\n","import { Cell } from './cell';\nimport { Chars } from './chars';\nimport { Color, fromRgb } from './color';\nimport { Console } from './console';\n\n/**\n * All available 2x2 patterns for 2x image loading.\n * Note: The strict IBM CGA font only has halves, not quadrants.\n */\nconst PATTERNS = [\n  { charCode: Chars.BLOCK_TOP_HALF, active: [1, 1, 0, 0] },\n  { charCode: Chars.BLOCK_RIGHT_HALF, active: [0, 1, 0, 1] },\n];\n\nexport function loadImage(url: string, callback: (img: Console) => void): void {\n  const img = new Image();\n  img.onload = () => {\n    const w = img.width;\n    const h = img.height;\n    const data = getImageData(img);\n    const result = new Console(w, h);\n    let i = 0;\n\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        const cell = result.getCell(x, y) as Cell;\n        cell.setBackground(fromRgb(data[i++], data[i++], data[i++], data[i++]));\n      }\n    }\n\n    callback(result);\n  };\n  img.src = url;\n}\n\nexport function loadImage2x(url: string, callback: (img: Console) => void): void {\n  const img = new Image();\n  img.onload = () => {\n    const w = img.width;\n    const h = img.height;\n    const data = getImageData(img);\n    const result = new Console(w / 2, h / 2);\n\n    for (let y = 0; y < h; y += 2) {\n      for (let x = 0; x < w; x += 2) {\n        draw2x2(result, data, x, y, w);\n      }\n    }\n\n    callback(result);\n  };\n  img.src = url;\n}\n\nfunction getImageData(img: HTMLImageElement): Uint8ClampedArray {\n  const canvas = document.createElement('canvas');\n  canvas.width = img.width;\n  canvas.height = img.height;\n\n  const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n  ctx.drawImage(img, 0, 0);\n\n  return ctx.getImageData(0, 0, img.width, img.height).data;\n}\n\nfunction draw2x2(con: Console, data: Uint8ClampedArray, x: number, y: number, w: number): void {\n  // Top left\n  const i1 = 4 * (y * w + x);\n  const r1 = data[i1];\n  const g1 = data[i1 + 1];\n  const b1 = data[i1 + 2];\n\n  // Top right\n  const i2 = 4 * (y * w + x + 1);\n  const r2 = data[i2];\n  const g2 = data[i2 + 1];\n  const b2 = data[i2 + 2];\n\n  // Bottom left\n  const i3 = 4 * ((y + 1) * w + x);\n  const r3 = data[i3];\n  const g3 = data[i3 + 1];\n  const b3 = data[i3 + 2];\n\n  // Bottom right\n  const i4 = 4 * ((y + 1) * w + x + 1);\n  const r4 = data[i4];\n  const g4 = data[i4 + 1];\n  const b4 = data[i4 + 2];\n\n  const colors = [\n    [r1, g1, b1],\n    [r2, g2, b2],\n    [r3, g3, b3],\n    [r4, g4, b4],\n  ];\n\n  // For each possible pattern, calculate the total error\n  // Find the pattern with minum error\n\n  let minError = Number.MAX_VALUE;\n  let bestCharCode = 0;\n  let bestBg = null;\n  let bestFg = null;\n\n  for (let i = 0; i < PATTERNS.length; i++) {\n    const pattern = PATTERNS[i];\n    const patternColors = computeColors(pattern.active, colors);\n    if (patternColors.error < minError) {\n      minError = patternColors.error;\n      bestCharCode = pattern.charCode;\n      bestBg = patternColors.bg;\n      bestFg = patternColors.fg;\n    }\n  }\n\n  con.drawChar(x / 2, y / 2, bestCharCode, arrayToColor(bestFg as number[]), arrayToColor(bestBg as number[]));\n}\n\nfunction computeColors(pattern: number[], colors: number[][]): { error: number; bg: number[]; fg: number[] } {\n  const sum = [\n    [0, 0, 0],\n    [0, 0, 0],\n  ];\n  const avg = [\n    [0, 0, 0],\n    [0, 0, 0],\n  ];\n  const count = [0, 0];\n\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 3; j++) {\n      sum[pattern[i]][j] += colors[i][j];\n    }\n    count[pattern[i]]++;\n  }\n\n  for (let i = 0; i < 2; i++) {\n    for (let j = 0; j < 3; j++) {\n      avg[i][j] = sum[i][j] / count[i];\n    }\n  }\n\n  let error = 0.0;\n\n  for (let i = 0; i < 4; i++) {\n    let cellError = 0.0;\n    for (let j = 0; j < 3; j++) {\n      const delta = colors[i][j] - avg[pattern[i]][j];\n      cellError += delta * delta;\n    }\n    error += Math.sqrt(cellError);\n  }\n\n  return { bg: avg[0], fg: avg[1], error };\n}\n\nfunction arrayToColor(rgb: number[]): Color {\n  return fromRgb(rgb[0], rgb[1], rgb[2]);\n}\n","import { InputSet } from './input';\nimport { Rect } from './rect';\nimport { Terminal } from './terminal';\n\nexport class Mouse {\n  readonly el: HTMLCanvasElement;\n  readonly width: number;\n  readonly height: number;\n  readonly buttons = new InputSet<number>();\n  private prevX: number;\n  private prevY: number;\n  x: number;\n  y: number;\n  dx: number;\n  dy: number;\n  wheelDeltaX: number;\n  wheelDeltaY: number;\n\n  constructor(terminal: Terminal) {\n    this.el = terminal.canvas;\n    this.width = terminal.width;\n    this.height = terminal.height;\n    this.prevX = 0;\n    this.prevY = 0;\n    this.x = 0;\n    this.y = 0;\n    this.dx = 0;\n    this.dy = 0;\n    this.wheelDeltaX = 0;\n    this.wheelDeltaY = 0;\n\n    const el = this.el;\n    el.addEventListener('mousedown', (e) => this.handleEvent(e));\n    el.addEventListener('mouseup', (e) => this.handleEvent(e));\n    el.addEventListener('mousemove', (e) => this.handleEvent(e));\n    el.addEventListener('contextmenu', (e) => this.handleEvent(e));\n    el.addEventListener('touchstart', (e) => this.handleTouchEvent(e));\n    el.addEventListener('touchend', (e) => this.handleTouchEvent(e));\n    el.addEventListener('touchcancel', (e) => this.handleTouchEvent(e));\n    el.addEventListener('touchmove', (e) => this.handleTouchEvent(e));\n    el.addEventListener('wheel', (e) => this.handleWheelEvent(e));\n  }\n\n  private handleTouchEvent(e: TouchEvent): void {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (e.touches.length > 0) {\n      const touch = e.touches[0];\n      this.updatePosition(touch.clientX, touch.clientY);\n      this.buttons.get(0).setDown(true);\n    } else {\n      this.buttons.get(0).setDown(false);\n    }\n  }\n\n  private handleEvent(e: MouseEvent): void {\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.updatePosition(e.clientX, e.clientY);\n\n    if (e.type === 'mousedown') {\n      this.buttons.get(e.button).setDown(true);\n      this.el.focus();\n    }\n\n    if (e.type === 'mouseup') {\n      this.buttons.get(e.button).setDown(false);\n    }\n  }\n\n  private handleWheelEvent(e: WheelEvent): void {\n    e.stopPropagation();\n    e.preventDefault();\n    this.wheelDeltaX = e.deltaX;\n    this.wheelDeltaY = e.deltaY;\n  }\n\n  private updatePosition(clientX: number, clientY: number): void {\n    let rect: Rect | DOMRect = this.el.getBoundingClientRect();\n\n    // If the client rect is not the same aspect ratio as canvas,\n    // then we are fullscreen.\n    // Need to update client rect accordingly.\n\n    const terminalAspectRatio = this.width / this.height;\n    const rectAspectRatio = rect.width / rect.height;\n\n    if (rectAspectRatio - terminalAspectRatio > 0.01) {\n      const actualWidth = terminalAspectRatio * rect.height;\n      const excess = rect.width - actualWidth;\n      rect = new Rect(Math.floor(excess / 2), 0, actualWidth, rect.height);\n    }\n\n    if (rectAspectRatio - terminalAspectRatio < -0.01) {\n      const actualHeight = rect.width / terminalAspectRatio;\n      const excess = rect.height - actualHeight;\n      rect = new Rect(0, Math.floor(excess / 2), rect.width, actualHeight);\n    }\n\n    this.x = ((this.width * (clientX - rect.left)) / rect.width) | 0;\n    this.y = ((this.height * (clientY - rect.top)) / rect.height) | 0;\n  }\n\n  update(time: number): void {\n    this.dx = this.x - this.prevX;\n    this.dy = this.y - this.prevY;\n    this.prevX = this.x;\n    this.prevY = this.y;\n    this.buttons.updateAll(time);\n  }\n}\n","import { fromRgb } from '../color';\n\n/**\n * Commodore 64 palette.\n * See: https://www.c64-wiki.com/wiki/Color\n * See: https://lospec.com/palette-list/commodore64\n */\nexport const Commodore64Palette = {\n  BLACK: fromRgb(0, 0, 0),\n  WHITE: fromRgb(255, 255, 255),\n  RED: fromRgb(136, 0, 0),\n  CYAN: fromRgb(170, 255, 238),\n  VIOLET: fromRgb(204, 68, 204),\n  GREEN: fromRgb(0, 204, 85),\n  BLUE: fromRgb(0, 0, 170),\n  YELLOW: fromRgb(238, 238, 119),\n  ORANGE: fromRgb(221, 136, 85),\n  BROWN: fromRgb(102, 68, 0),\n  LIGHT_RED: fromRgb(255, 119, 119),\n  DARK_GRAY: fromRgb(51, 51, 51),\n  GRAY: fromRgb(119, 119, 119),\n  LIGHT_GREEN: fromRgb(170, 255, 102),\n  LIGHT_BLUE: fromRgb(0, 136, 255),\n  LIGHT_GRAY: fromRgb(187, 187, 187),\n};\n","import { fromRgb } from '../color';\n\n/**\n * Colodore palette.\n * Recalculated palette for the VIC II (Commodore 64) by Pepto.\n * See: https://www.pepto.de/projects/colorvic/\n * See: https://lospec.com/palette-list/colodore\n */\nexport const ColodorePalette = {\n  BLACK: fromRgb(0, 0, 0),\n  WHITE: fromRgb(255, 255, 255),\n  RED: fromRgb(136, 0, 0),\n  CYAN: fromRgb(170, 255, 238),\n  VIOLET: fromRgb(204, 68, 204),\n  GREEN: fromRgb(0, 204, 85),\n  BLUE: fromRgb(0, 0, 170),\n  YELLOW: fromRgb(238, 238, 119),\n  ORANGE: fromRgb(221, 136, 85),\n  BROWN: fromRgb(102, 68, 0),\n  LIGHT_RED: fromRgb(255, 119, 119),\n  DARK_GRAY: fromRgb(51, 51, 51),\n  GRAY: fromRgb(119, 119, 119),\n  LIGHT_GREEN: fromRgb(170, 255, 102),\n  LIGHT_BLUE: fromRgb(0, 136, 255),\n  LIGHT_GRAY: fromRgb(187, 187, 187),\n};\n","import { fromRgb } from '../color';\n\n/**\n * PICO 8 palette.\n * See: https://pico-8.fandom.com/wiki/Palette\n * See: https://lospec.com/palette-list/pico-8\n */\nexport const Pico8Palette = {\n  BLACK: fromRgb(0, 0, 0),\n  DARK_BLUE: fromRgb(29, 43, 83),\n  DARK_PURPLE: fromRgb(126, 37, 83),\n  DARK_GREEN: fromRgb(0, 135, 81),\n  BROWN: fromRgb(171, 82, 54),\n  DARK_GRAY: fromRgb(95, 87, 79),\n  LIGHT_GRAY: fromRgb(194, 195, 199),\n  WHITE: fromRgb(255, 241, 232),\n  RED: fromRgb(255, 0, 77),\n  ORANGE: fromRgb(255, 163, 0),\n  YELLOW: fromRgb(255, 236, 39),\n  GREEN: fromRgb(0, 228, 54),\n  BLUE: fromRgb(41, 173, 255),\n  LAVENDER: fromRgb(131, 118, 156),\n  PINK: fromRgb(255, 119, 168),\n  LIGHT_PEACH: fromRgb(255, 204, 170),\n};\n","import { Cell } from './cell';\nimport { Console } from './console';\nimport { PointLike } from './point';\n\nconst dxs = [-1, 0, 1, -1, 1, -1, 0, 1];\nconst dys = [-1, -1, -1, 0, 0, 1, 1, 1];\nconst costs = [1.4, 1, 1.4, 1, 1, 1.4, 1, 1.4];\nlet pathId = 0;\n\n/**\n * Calculates path between two points using Dijkstra's algorithm.\n *\n * @param source - Starting point, must have x and y properties.\n * @param dest - Destination point, must have x and y properties.\n * @param maxDist - Maximum distance to examine.\n * @returns Array of steps if destination found; undefined otherwise.\n */\nexport function computePath(map: Console, source: PointLike, dest: PointLike, maxDist: number): Cell[] | undefined {\n  pathId++;\n\n  const sourceCell = map.grid[source.y][source.x];\n  sourceCell.pathId = pathId;\n  sourceCell.g = 0.0;\n  sourceCell.h = Math.hypot(source.x - dest.x, source.y - dest.y);\n  sourceCell.prev = null;\n\n  const q = new SortedSet([sourceCell]);\n\n  while (q.size() > 0) {\n    const u = q.pop() as Cell;\n\n    if (u.x === dest.x && u.y === dest.y) {\n      return buildPath(u);\n    }\n\n    for (let i = 0; i < dxs.length; i++) {\n      const x = u.x + dxs[i];\n      const y = u.y + dys[i];\n      if (x >= 0 && x < map.width && y >= 0 && y < map.height) {\n        const v = map.grid[y][x];\n        if (v.blocked && v.explored && (x !== dest.x || y !== dest.y)) {\n          continue;\n        }\n        if (v.pathId !== pathId) {\n          v.pathId = pathId;\n          v.g = Infinity;\n          v.h = Math.hypot(x - dest.x, y - dest.y);\n          v.prev = null;\n        }\n        const alt = u.g + costs[i];\n        if (alt < v.g && alt <= maxDist) {\n          v.g = alt;\n          v.prev = u;\n          q.insert(v);\n        }\n      }\n    }\n  }\n  return undefined;\n}\n\nfunction buildPath(cell: Cell): Cell[] {\n  const result = [];\n  let curr: Cell | null = cell;\n  while (curr) {\n    result.push(curr);\n    curr = curr.prev;\n  }\n  result.reverse();\n  return result;\n}\n\nclass SortedSet {\n  private readonly values: Cell[];\n\n  constructor(initialValues: Cell[]) {\n    this.values = initialValues;\n  }\n\n  insert(cell: Cell): void {\n    const array = this.values;\n    let low = 0;\n    let high = array.length;\n    let index = 0;\n\n    while (low < high) {\n      const mid = (low + high) >>> 1;\n      const midCell = array[mid];\n      if (midCell.g + midCell.h > cell.g + cell.h) {\n        low = mid + 1;\n        index = low;\n      } else {\n        high = mid;\n        index = high;\n      }\n    }\n    array.splice(index, 0, cell);\n  }\n\n  pop(): Cell | undefined {\n    return this.values.pop();\n  }\n\n  size(): number {\n    return this.values.length;\n  }\n}\n","import { serializable } from './serialize';\n\n/**\n * Random number generator.\n *\n * LCG\n * https://stackoverflow.com/a/424445/2051724\n */\n@serializable\nexport class RNG {\n  private m: number;\n  private a: number;\n  private c: number;\n  private state: number;\n\n  /**\n   * Creates a new random number generator.\n   *\n   * @param seed - The integer seed.\n   */\n  constructor(seed = 1) {\n    // LCG using GCC's constants\n    this.m = 0x80000000; // 2**31;\n    this.a = 1103515245;\n    this.c = 12345;\n    this.state = seed;\n  }\n\n  nextInt(): number {\n    this.state = (this.a * this.state + this.c) % this.m;\n    return this.state;\n  }\n\n  /**\n   * Returns a floating point number between 0.0 and 1.0.\n   */\n  nextFloat(): number {\n    // returns in range [0,1]\n    return this.nextInt() / (this.m - 1);\n  }\n\n  /**\n   * Returns an integer in the range start (inclusive) to end (exclusive).\n   * @param start - Lower bound, inclusive.\n   * @param end - Upper bound, exclusive.\n   */\n  nextRange(start: number, end: number): number {\n    // returns in range [start, end): including start, excluding end\n    // can't modulu nextInt because of weak randomness in lower bits\n    const rangeSize = end - start;\n    const randomUnder1 = this.nextInt() / this.m;\n    const result = start + ((randomUnder1 * rangeSize) | 0);\n    if (isNaN(result)) {\n      throw new Error('rand nan');\n    }\n    return result;\n  }\n\n  chooseIndex(chances: number[]): number {\n    const total = chances.reduce((a, b) => a + b);\n    const roll = this.nextRange(1, total + 1);\n    let runningTotal = 0;\n\n    for (let i = 0; i < chances.length; i++) {\n      runningTotal += chances[i];\n      if (roll <= runningTotal) {\n        return i;\n      }\n    }\n\n    return chances.length - 1;\n  }\n\n  chooseKey(chancesMap: Record<string, number>): string {\n    const values = Object.keys(chancesMap);\n    const chances = values.map((value) => chancesMap[value]);\n    return values[this.chooseIndex(chances)];\n  }\n}\n","/**\n * Vertex shader program.\n *\n * a = attribute vec2 aVertexPosition;\n * b = attribute vec2 aTextureCoord;\n * c = attribute vec3 aFgColor;\n * d = attribute vec3 aBgColor;\n * e = varying vec2 vTextureCoord;\n * f = varying vec4 vFgColor;\n * g = varying vec4 vBgColor;\n */\nexport const VERTEX_SHADER_SOURCE =\n  '#version 300 es\\n' +\n  'precision highp float;' +\n  'in vec2 a;' +\n  'in vec2 b;' +\n  'in vec3 c;' +\n  'in vec3 d;' +\n  'out vec2 e;' +\n  'out vec4 f;' +\n  'out vec4 g;' +\n  'void main(void){' +\n  'gl_Position=vec4(a.x,a.y,0,1);' +\n  'e=b/16.0;' +\n  'f=vec4(c.r,c.g,c.b,1);' +\n  'g=vec4(d.r,d.g,d.b,1);' +\n  '}';\n\n/**\n * Fragment shader program.\n *\n * e = varying vec2 vTextureCoord;\n * f = varying vec4 vFgColor;\n * g = varying vec4 vBgColor;\n * s = uniform sampler2D uSampler;\n * o = out vec4 oColor;\n */\nexport const FRAGMENT_SHADER_SOURCE =\n  '#version 300 es\\n' +\n  'precision highp float;' +\n  'in vec2 e;' +\n  'in vec4 f;' +\n  'in vec4 g;' +\n  'uniform sampler2D s;' +\n  'out vec4 o;' +\n  'void main(void){' +\n  'o=texture(s,e);' +\n  // Using ASCII characters\n  'if(o.r<0.1) {' +\n  // Black background, so use bgColor\n  'o=g;' +\n  '} else {' +\n  // White background, so use fgColor\n  'o=f;' +\n  '}' +\n  '}';\n\nexport const CRT_VERTEX_SHADER_SOURCE = `#version 300 es\nprecision highp float;\nin vec2 a_position;\nin vec2 a_texCoord;\nout vec2 v_texCoord;\nvoid main(void) {\n  gl_Position=vec4(a_position.x, a_position.y, 0.0, 1.0);\n  v_texCoord = a_texCoord;\n}`;\n\nexport const CRT_FRAGMENT_SHADER_SOURCE = `#version 300 es\n#define PI 3.1415926535897932384626433832795\nprecision highp float;\nin vec2 v_texCoord;\nuniform sampler2D u_texture;\nuniform float u_blur;\nuniform float u_curvature;\nuniform float u_chroma;\nuniform float u_scanlineWidth;\nuniform float u_scanlineIntensity;\nuniform float u_vignette;\nout vec4 outputColor;\n\nvec2 curve(vec2 uv) {\n  uv = (uv - 0.5) * 2.0;\n  uv *= 1.1;\n  uv.x *= 1.0 + pow((abs(uv.y) * u_curvature), 2.0);\n  uv.y *= 1.0 + pow((abs(uv.x) * u_curvature), 2.0);\n  uv /= 1.1;\n  uv = (uv / 2.0) + 0.5;\n  return uv;\n}\n\nvoid main() {\n  vec2 iResolution = vec2(640.0, 360.0);\n  vec2 q = v_texCoord;\n  vec2 fragCoord = v_texCoord;\n  vec2 uv = q;\n  uv = curve(uv);\n\n  // Outside of range is black\n  if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {\n    outputColor = vec4(0.0, 0.0, 0.0, 1.0);\n    return;\n  }\n\n  vec4 col;\n\n  // Chromatic aberration\n  // col = texture(u_texture, uv.xy);\n  col.r = 0.7 * texture(u_texture, vec2(uv.x + 0.001 * u_chroma, uv.y + 0.001 * u_chroma)).r;\n  col.g = 0.7 * texture(u_texture, vec2(uv.x + 0.000 * u_chroma, uv.y - 0.002 * u_chroma)).g;\n  col.b = 0.7 * texture(u_texture, vec2(uv.x - 0.002 * u_chroma, uv.y + 0.000 * u_chroma)).b;\n  \n  // Blur\n  col += 0.05 * texture(u_texture, vec2(uv.x - 2.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x - 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.10 * texture(u_texture, vec2(uv.x + 1.0 * u_blur / iResolution.x, uv.y));\n  col += 0.05 * texture(u_texture, vec2(uv.x + 2.0 * u_blur / iResolution.x, uv.y));\n\n  // Vignette\n  col *= pow(16.0 * uv.x * uv.y * (1.0 - uv.x) * (1.0 - uv.y), u_vignette);\n\n  // Scanlines\n  col *= clamp(1.0 + u_scanlineWidth * sin(uv.y * iResolution.y * 2.0 * PI), 1.0 - u_scanlineIntensity, 1.0);\n\n  outputColor = vec4(col.rgb, 1.0);\n}`;\n","import { Cell } from './cell';\nimport { Console } from './console';\nimport { DEFAULT_FONT, Font } from './font';\nimport { KeyCode, Keyboard, Keys } from './keys';\nimport { Mouse } from './mouse';\nimport { Point } from './point';\nimport {\n  CRT_FRAGMENT_SHADER_SOURCE,\n  CRT_VERTEX_SHADER_SOURCE,\n  FRAGMENT_SHADER_SOURCE,\n  VERTEX_SHADER_SOURCE,\n} from './shaders';\n\n/**\n * Linearly interpolates a number in the range 0-max to -1.0-1.0.\n *\n * @param i - The value between 0 and max.\n * @param max - The maximum value.\n * @returns The interpolated value between -1.0 and 1.0.\n */\nfunction interpolate(i: number, max: number): number {\n  return -1.0 + 2.0 * (i / max);\n}\n\nexport interface TerminalOptions {\n  font?: Font;\n  movementKeys?: Partial<Record<KeyCode, Point>>;\n  crt?: CrtOptions;\n  maxFps?: number;\n}\n\nexport interface CrtOptions {\n  scale: number;\n  blur: number;\n  curvature: number;\n  chroma: number;\n  vignette: number;\n  scanlineWidth: number;\n  scanlineIntensity: number;\n}\n\nconst DEFAULT_MOVEMENT_KEYS: Partial<Record<KeyCode, Point>> = {\n  // Up\n  [Keys.VK_K]: new Point(0, -1),\n  [Keys.VK_UP]: new Point(0, -1),\n  [Keys.VK_NUMPAD8]: new Point(0, -1),\n  // Down\n  [Keys.VK_J]: new Point(0, 1),\n  [Keys.VK_DOWN]: new Point(0, 1),\n  [Keys.VK_NUMPAD2]: new Point(0, 1),\n  // Left\n  [Keys.VK_H]: new Point(-1, 0),\n  [Keys.VK_LEFT]: new Point(-1, 0),\n  [Keys.VK_NUMPAD4]: new Point(-1, 0),\n  // Right\n  [Keys.VK_L]: new Point(1, 0),\n  [Keys.VK_RIGHT]: new Point(1, 0),\n  [Keys.VK_NUMPAD6]: new Point(1, 0),\n  // Top-left\n  [Keys.VK_Y]: new Point(-1, -1),\n  [Keys.VK_NUMPAD7]: new Point(-1, -1),\n  // Top-right\n  [Keys.VK_U]: new Point(1, -1),\n  [Keys.VK_NUMPAD9]: new Point(1, -1),\n  // Bottom-left\n  [Keys.VK_B]: new Point(-1, 1),\n  [Keys.VK_NUMPAD1]: new Point(-1, 1),\n  // Bottom-right\n  [Keys.VK_N]: new Point(1, 1),\n  [Keys.VK_NUMPAD3]: new Point(1, 1),\n  // Wait\n  [Keys.VK_PERIOD]: new Point(0, 0),\n  [Keys.VK_NUMPAD5]: new Point(0, 0),\n};\n\nconst DEFAULT_OPTIONS: TerminalOptions = {\n  font: DEFAULT_FONT,\n  movementKeys: DEFAULT_MOVEMENT_KEYS,\n};\n\nexport class Terminal extends Console {\n  readonly canvas: HTMLCanvasElement;\n  readonly font: Font;\n  readonly crt?: CrtOptions;\n  readonly maxFps?: number;\n  readonly pixelWidth: number;\n  readonly pixelHeight: number;\n  readonly pixelScale: number;\n  readonly keys: Keyboard;\n  readonly mouse: Mouse;\n  readonly gl: WebGLRenderingContext;\n  readonly program: WebGLProgram;\n  readonly positionAttribLocation: number;\n  readonly textureAttribLocation: number;\n  readonly fgColorAttribLocation: number;\n  readonly bgColorAttribLocation: number;\n  readonly positionsArray: Float32Array;\n  readonly indexArray: Uint16Array;\n  readonly textureArray: Float32Array;\n  readonly foregroundUint8Array: Uint8Array;\n  readonly foregroundDataView: DataView;\n  readonly backgroundUint8Array: Uint8Array;\n  readonly backgroundDataView: DataView;\n  readonly positionBuffer: WebGLBuffer;\n  readonly indexBuffer: WebGLBuffer;\n  readonly textureBuffer: WebGLBuffer;\n  readonly foregroundBuffer: WebGLBuffer;\n  readonly backgroundBuffer: WebGLBuffer;\n  readonly texture: WebGLTexture;\n  readonly frameBufferTexture: WebGLTexture;\n  readonly frameBuffer: WebGLFramebuffer;\n  readonly crtProgram: WebGLProgram;\n  readonly crtBlurLocation: WebGLUniformLocation;\n  readonly crtCurvatureLocation: WebGLUniformLocation;\n  readonly crtChromaLocation: WebGLUniformLocation;\n  readonly crtScanlineWidthLocation: WebGLUniformLocation;\n  readonly crtScanlineIntensityLocation: WebGLUniformLocation;\n  readonly crtVignetteLocation: WebGLUniformLocation;\n  readonly crtPositionLocation: number;\n  readonly crtTexCoordLocation: number;\n  readonly crtPositionBuffer: WebGLBuffer;\n  readonly crtTexCoordBuffer: WebGLBuffer;\n  private lastRenderTime: number;\n  private renderDelta: number;\n  fps: number;\n  averageFps: number;\n  update?: () => void;\n\n  constructor(canvas: HTMLCanvasElement, width: number, height: number, options: TerminalOptions = DEFAULT_OPTIONS) {\n    super(width, height);\n\n    this.canvas = canvas;\n    this.font = options.font ?? DEFAULT_FONT;\n    this.crt = options.crt;\n    this.maxFps = options.maxFps;\n    this.pixelWidth = width * this.font.charWidth;\n    this.pixelHeight = height * this.font.charHeight;\n    this.pixelScale = options.crt?.scale ?? 1.0;\n\n    canvas.width = this.pixelWidth * this.pixelScale;\n    canvas.height = this.pixelHeight * this.pixelScale;\n    canvas.style.imageRendering = 'pixelated';\n    canvas.style.outline = 'none';\n    canvas.tabIndex = 0;\n    this.handleResize();\n    window.addEventListener('resize', () => this.handleResize());\n\n    this.keys = new Keyboard(canvas);\n    this.mouse = new Mouse(this);\n\n    // Get the WebGL context from the canvas\n    const gl = canvas.getContext('webgl2', { antialias: false });\n    if (!gl) {\n      throw new Error('Unable to initialize WebGL. Your browser may not support it.');\n    }\n\n    const program = gl.createProgram();\n    if (!program) {\n      throw new Error('Unable to initialize WebGL. Your browser may not support it.');\n    }\n\n    this.gl = gl;\n    this.program = program;\n\n    gl.attachShader(program, this.buildShader(gl.VERTEX_SHADER, VERTEX_SHADER_SOURCE));\n    gl.attachShader(program, this.buildShader(gl.FRAGMENT_SHADER, FRAGMENT_SHADER_SOURCE));\n    gl.linkProgram(program);\n    gl.useProgram(program);\n\n    this.crtProgram = gl.createProgram() as WebGLProgram;\n    gl.attachShader(this.crtProgram, this.buildShader(gl.VERTEX_SHADER, CRT_VERTEX_SHADER_SOURCE));\n    gl.attachShader(this.crtProgram, this.buildShader(gl.FRAGMENT_SHADER, CRT_FRAGMENT_SHADER_SOURCE));\n    gl.linkProgram(this.crtProgram);\n    gl.useProgram(this.crtProgram);\n\n    this.crtBlurLocation = gl.getUniformLocation(this.crtProgram, 'u_blur') as WebGLUniformLocation;\n    this.crtCurvatureLocation = gl.getUniformLocation(this.crtProgram, 'u_curvature') as WebGLUniformLocation;\n    this.crtChromaLocation = gl.getUniformLocation(this.crtProgram, 'u_chroma') as WebGLUniformLocation;\n    this.crtScanlineWidthLocation = gl.getUniformLocation(this.crtProgram, 'u_scanlineWidth') as WebGLUniformLocation;\n    this.crtScanlineIntensityLocation = gl.getUniformLocation(\n      this.crtProgram,\n      'u_scanlineIntensity'\n    ) as WebGLUniformLocation;\n    this.crtVignetteLocation = gl.getUniformLocation(this.crtProgram, 'u_vignette') as WebGLUniformLocation;\n\n    this.crtPositionLocation = gl.getAttribLocation(this.crtProgram, 'a_position');\n    this.crtPositionBuffer = gl.createBuffer() as WebGLBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.crtPositionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, 1]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(this.crtPositionLocation);\n    gl.vertexAttribPointer(this.crtPositionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    this.crtTexCoordLocation = gl.getAttribLocation(this.crtProgram, 'a_texCoord');\n    this.crtTexCoordBuffer = gl.createBuffer() as WebGLBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.crtTexCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(this.crtTexCoordLocation);\n    gl.vertexAttribPointer(this.crtTexCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    this.positionAttribLocation = this.getAttribLocation('a');\n    this.textureAttribLocation = this.getAttribLocation('b');\n    this.fgColorAttribLocation = this.getAttribLocation('c');\n    this.bgColorAttribLocation = this.getAttribLocation('d');\n\n    const cellCount = width * height;\n    this.positionsArray = new Float32Array(cellCount * 3 * 4);\n    this.indexArray = new Uint16Array(cellCount * 6);\n    this.textureArray = new Float32Array(cellCount * 2 * 4);\n    this.foregroundUint8Array = new Uint8Array(cellCount * 4 * 4);\n    this.foregroundDataView = new DataView(this.foregroundUint8Array.buffer);\n    this.backgroundUint8Array = new Uint8Array(cellCount * 4 * 4);\n    this.backgroundDataView = new DataView(this.backgroundUint8Array.buffer);\n\n    // Init the frame buffer\n    this.frameBufferTexture = gl.createTexture() as WebGLTexture;\n    gl.bindTexture(gl.TEXTURE_2D, this.frameBufferTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.pixelWidth, this.pixelHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    this.frameBuffer = gl.createFramebuffer() as WebGLFramebuffer;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.frameBufferTexture, 0);\n\n    // Init the positions buffer\n    let i = 0;\n    let j = 0;\n    let k = 0;\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        // Top-left\n        this.positionsArray[i++] = interpolate(x, width);\n        this.positionsArray[i++] = -interpolate(y, height);\n\n        // Top-right\n        this.positionsArray[i++] = interpolate(x + 1, width);\n        this.positionsArray[i++] = -interpolate(y, height);\n\n        // Bottom-right\n        this.positionsArray[i++] = interpolate(x + 1, width);\n        this.positionsArray[i++] = -interpolate(y + 1, height);\n\n        // Bottom-left\n        this.positionsArray[i++] = interpolate(x, width);\n        this.positionsArray[i++] = -interpolate(y + 1, height);\n\n        this.indexArray[j++] = k + 0;\n        this.indexArray[j++] = k + 1;\n        this.indexArray[j++] = k + 2;\n        this.indexArray[j++] = k + 0;\n        this.indexArray[j++] = k + 2;\n        this.indexArray[j++] = k + 3;\n\n        k += 4;\n      }\n    }\n\n    this.positionBuffer = gl.createBuffer() as WebGLBuffer;\n    this.indexBuffer = gl.createBuffer() as WebGLBuffer;\n    this.textureBuffer = gl.createBuffer() as WebGLBuffer;\n    this.foregroundBuffer = gl.createBuffer() as WebGLBuffer;\n    this.backgroundBuffer = gl.createBuffer() as WebGLBuffer;\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, this.positionsArray, gl.STATIC_DRAW);\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indexArray, gl.STATIC_DRAW);\n\n    this.texture = this.loadTexture(this.font.url);\n\n    this.lastRenderTime = 0;\n    this.renderDelta = 0;\n    this.fps = 0;\n    this.averageFps = 0;\n\n    if (this.maxFps === undefined) {\n      this.requestAnimationFrame();\n    } else {\n      window.setInterval(() => this.renderLoop(performance.now()), 1000 / this.maxFps);\n    }\n  }\n\n  private handleResize(): void {\n    const parent = this.canvas.parentElement;\n    if (!parent) {\n      return;\n    }\n    const widthFactor = parent.offsetWidth / this.pixelWidth;\n    const heightFactor = parent.offsetHeight / this.pixelHeight;\n    const factor = Math.min(widthFactor, heightFactor);\n    const width = (factor * this.pixelWidth) | 0;\n    const height = (factor * this.pixelHeight) | 0;\n    this.canvas.style.width = width + 'px';\n    this.canvas.style.height = height + 'px';\n  }\n\n  private getAttribLocation(name: string): number {\n    const location = this.gl.getAttribLocation(this.program, name);\n    this.gl.enableVertexAttribArray(location);\n    return location;\n  }\n\n  private flush(): void {\n    let textureArrayIndex = 0;\n    let colorArrayIndex = 0;\n\n    for (let y = 0; y < this.height; y++) {\n      for (let x = 0; x < this.width; x++) {\n        const cell = this.getCell(x, y) as Cell;\n\n        if (!cell.dirty) {\n          textureArrayIndex += 8;\n          colorArrayIndex += 16;\n          continue;\n        }\n\n        const textureX = cell.charCode % 16;\n        const textureY = (cell.charCode / 16) | 0;\n\n        this.textureArray[textureArrayIndex++] = textureX;\n        this.textureArray[textureArrayIndex++] = textureY;\n\n        this.textureArray[textureArrayIndex++] = textureX + 1;\n        this.textureArray[textureArrayIndex++] = textureY;\n\n        this.textureArray[textureArrayIndex++] = textureX + 1;\n        this.textureArray[textureArrayIndex++] = textureY + 1;\n\n        this.textureArray[textureArrayIndex++] = textureX;\n        this.textureArray[textureArrayIndex++] = textureY + 1;\n\n        for (let i = 0; i < 4; i++) {\n          this.foregroundDataView.setUint32(colorArrayIndex, cell.fg, false);\n          this.backgroundDataView.setUint32(colorArrayIndex, cell.bg, false);\n          colorArrayIndex += 4;\n        }\n\n        cell.dirty = false;\n      }\n    }\n  }\n\n  isKeyDown(key: KeyCode): boolean {\n    return this.keys.getKey(key).down;\n  }\n\n  isKeyPressed(key: KeyCode): boolean {\n    return this.keys.getKey(key).isPressed();\n  }\n\n  getKeyDownCount(key: KeyCode): number {\n    return this.keys.getKey(key).downCount;\n  }\n\n  /**\n   * Returns a standard roguelike movement key if pressed.\n   * Implemented control systems:\n   * 1) Numpad arrows\n   * 2) VIM keys\n   * 3) Normal arrows (4 directions only)\n   * 4) Numpad 5 and '.' (period) for \"wait\"\n   * If a key is pressed, returns the movement delta.\n   * If no key is pressed, returns undefined.\n   * See: http://www.roguebasin.com/index.php?title=Preferred_Key_Controls\n   */\n  getMovementKey(movementKeys: Partial<Record<KeyCode, Point>> = DEFAULT_MOVEMENT_KEYS): Point | undefined {\n    for (const [key, delta] of Object.entries(movementKeys) as [KeyCode, Point][]) {\n      if (this.isKeyPressed(key)) {\n        return delta;\n      }\n    }\n    return undefined;\n  }\n\n  private buildShader(type: number, source: string): WebGLShader {\n    const gl = this.gl;\n    const sh = gl.createShader(type);\n    if (!sh) {\n      throw new Error('An error occurred compiling the shader: ');\n    }\n    gl.shaderSource(sh, source);\n    gl.compileShader(sh);\n    if (!gl.getShaderParameter(sh, gl.COMPILE_STATUS)) {\n      throw new Error('An error occurred compiling the shader: ' + gl.getShaderInfoLog(sh));\n    }\n    return sh;\n  }\n\n  /**\n   * Initialize a texture and load an image.\n   * When the image finished loading copy it into the texture.\n   * @param url - The texture image URL.\n   */\n  private loadTexture(url: string): WebGLTexture {\n    const gl = this.gl;\n    const texture = gl.createTexture() as WebGLTexture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Because images have to be download over the internet\n    // they might take a moment until they are ready.\n    // Until then put a single pixel in the texture so we can\n    // use it immediately. When the image has finished downloading\n    // we'll update the texture with the contents of the image.\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([0, 0, 0, 255]); // opaque black\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel);\n\n    const image = new Image();\n    image.onload = () => {\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, image);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    };\n    image.src = url;\n\n    return texture;\n  }\n\n  //\n  // Draw the scene.\n  //\n  private render(): void {\n    const gl = this.gl;\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clearDepth(1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    if (this.crt) {\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n    } else {\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n    gl.viewport(0, 0, this.pixelWidth, this.pixelHeight);\n\n    // Tell WebGL how to pull out the positions from the position\n    // buffer into the vertexPosition attribute\n    {\n      const numComponents = 2;\n      const type = gl.FLOAT;\n      const normalize = false;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n      gl.vertexAttribPointer(this.positionAttribLocation, numComponents, type, normalize, stride, offset);\n    }\n\n    // Tell WebGL how to pull out the texture coordinates from\n    // the texture coordinate buffer into the textureCoord attribute.\n    {\n      const numComponents = 2;\n      const type = gl.FLOAT;\n      const normalize = false;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.textureBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.textureArray, gl.DYNAMIC_DRAW);\n      gl.vertexAttribPointer(this.textureAttribLocation, numComponents, type, normalize, stride, offset);\n    }\n\n    // Foreground color\n    {\n      const numComponents = 4;\n      const type = gl.UNSIGNED_BYTE;\n      const normalize = true;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.foregroundBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.foregroundUint8Array, gl.DYNAMIC_DRAW);\n      gl.vertexAttribPointer(this.fgColorAttribLocation, numComponents, type, normalize, stride, offset);\n    }\n\n    // Background color\n    {\n      const numComponents = 4;\n      const type = gl.UNSIGNED_BYTE;\n      const normalize = true;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.backgroundBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.backgroundUint8Array, gl.DYNAMIC_DRAW);\n      gl.vertexAttribPointer(this.bgColorAttribLocation, numComponents, type, normalize, stride, offset);\n    }\n\n    // Tell WebGL which indices to use to index the vertices\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n\n    // Tell WebGL to use our program when drawing\n    gl.useProgram(this.program);\n\n    // Tell WebGL we want to affect texture unit 0\n    gl.activeTexture(gl.TEXTURE0);\n\n    // Bind the texture to texture unit 0\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n\n    // Tell the shader we bound the texture to texture unit 0\n    {\n      const vertexCount = this.width * this.height * 6;\n      const type = gl.UNSIGNED_SHORT;\n      const offset = 0;\n      gl.drawElements(gl.TRIANGLES, vertexCount, type, offset);\n    }\n  }\n\n  private renderCrt(): void {\n    const crt = this.crt;\n    if (!crt) {\n      return;\n    }\n    const gl = this.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.viewport(0, 0, this.pixelWidth * this.pixelScale, this.pixelHeight * this.pixelScale);\n    gl.useProgram(this.crtProgram);\n    gl.uniform1f(this.crtBlurLocation, crt.blur);\n    gl.uniform1f(this.crtCurvatureLocation, crt.curvature);\n    gl.uniform1f(this.crtChromaLocation, crt.chroma);\n    gl.uniform1f(this.crtVignetteLocation, crt.vignette);\n    gl.uniform1f(this.crtScanlineWidthLocation, crt.scanlineWidth);\n    gl.uniform1f(this.crtScanlineIntensityLocation, crt.scanlineIntensity);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.crtPositionBuffer);\n    gl.vertexAttribPointer(this.crtPositionLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.crtTexCoordBuffer);\n    gl.vertexAttribPointer(this.crtTexCoordLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.frameBufferTexture);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n  }\n\n  private requestAnimationFrame(): void {\n    window.requestAnimationFrame((t) => this.renderLoop(t));\n  }\n\n  private renderLoop(time: number): void {\n    if (this.lastRenderTime === 0) {\n      this.lastRenderTime = time;\n      this.fps = 0;\n    } else {\n      this.renderDelta = time - this.lastRenderTime;\n      this.lastRenderTime = time;\n      this.fps = 1000.0 / this.renderDelta;\n      this.averageFps = 0.95 * this.averageFps + 0.05 * this.fps;\n    }\n\n    this.keys.updateKeys(time);\n    this.mouse.update(time);\n    if (this.update) {\n      this.update();\n    }\n    this.flush();\n    this.render();\n    if (this.crt) {\n      this.renderCrt();\n    }\n    if (this.maxFps === undefined) {\n      this.requestAnimationFrame();\n    }\n  }\n}\n","import debug, { type Debugger } from \"debug\";\r\nimport deepcopy from \"deepcopy\";\r\n\r\nimport {\r\n  areaBank,\r\n  areaHeight,\r\n  areaWidth,\r\n  dimNames,\r\n  dimSizes,\r\n  type PlanID,\r\n  tileColours,\r\n  tiledeco,\r\n  tilejunk,\r\n  walls,\r\n} from \"./aagStuff\";\r\nimport type { XY } from \"./events\";\r\nimport { sqrt } from \"./formulae\";\r\nimport type Game from \"./Game\";\r\nimport GameMap from \"./GameMap\";\r\nimport Grid from \"./Grid\";\r\n\r\nconst times = <T>(count: number, fn: (n: number) => T): T[] => {\r\n  const results: T[] = [];\r\n\r\n  for (let i = 0; i < count; i++) results.push(fn(i));\r\n\r\n  return results;\r\n};\r\n\r\nexport default class AmorphousAreaGenerator {\r\n  areaBank: typeof areaBank;\r\n  debug: Debugger;\r\n  decor: string[];\r\n  floorplan: Grid<PlanID | \"X\">;\r\n  map: GameMap;\r\n  player!: XY;\r\n  tiles!: Grid<string>;\r\n\r\n  constructor(\r\n    public g: Game,\r\n    public floorlv: number,\r\n  ) {\r\n    this.debug = debug(\"aag\");\r\n    this.decor = times(3, () => g.choose(tiledeco));\r\n    this.floorplan = new Grid(5, 5, () => \"V\");\r\n\r\n    const tries = g.rng.randRange(4, 48);\r\n    for (let n = 0; n < tries; n++) {\r\n      const xtend_x = this.floorplan.width;\r\n      const xtend_y = this.floorplan.height;\r\n      let xtarg = g.rng.randRange(0, xtend_x - 1);\r\n      let ytarg = g.rng.randRange(0, xtend_y - 1);\r\n\r\n      if (n === 0) {\r\n        xtarg = 0;\r\n        ytarg = 0;\r\n      }\r\n\r\n      const roomcode = g.choose(dimNames);\r\n      const [xdim, ydim] = dimSizes[roomcode];\r\n      this.empty_check(xtarg, ytarg, xdim, ydim, roomcode, true);\r\n      this.expand_plan(xtend_x, xtend_y);\r\n    }\r\n\r\n    this.wasteland();\r\n    this.simpleplan();\r\n\r\n    this.areaBank = deepcopy(areaBank);\r\n    this.pickrooms();\r\n\r\n    this.map = new GameMap(this.tiles.width, this.tiles.height, (x, y) => {\r\n      const glyph = this.tiles.get(x, y);\r\n      const opaque = walls.includes(glyph);\r\n      const blocks = opaque;\r\n      const name = tileColours[glyph] || \"white\";\r\n      const colour = g.palette[name];\r\n      return { glyph, colour, opaque, blocks };\r\n    });\r\n  }\r\n\r\n  empty_check(\r\n    xt: number,\r\n    yt: number,\r\n    xw: number,\r\n    yw: number,\r\n    rc: PlanID,\r\n    draw = false,\r\n  ) {\r\n    let out = true;\r\n    const points: XY[] = [];\r\n\r\n    for (let y = 0; y < yw; y++) {\r\n      if (yt + y < this.floorplan.height) {\r\n        for (let x = 0; x < xw; x++) {\r\n          if (xt + x < this.floorplan.width) {\r\n            points.push([xt + x, yt + y]);\r\n            if (this.floorplan.get(xt + x, yt + y) !== \"V\") {\r\n              // console.log(\"Already taken.\");\r\n              out = false;\r\n            }\r\n          } else {\r\n            // console.log(\"No room on X.\");\r\n            out = false;\r\n          }\r\n        }\r\n      } else {\r\n        // console.log(\"No room on Y.\");\r\n        out = false;\r\n      }\r\n    }\r\n\r\n    if (draw && out) {\r\n      let first = true;\r\n      for (const [x, y] of points) {\r\n        const char = first ? rc : \"X\";\r\n        this.floorplan.set(x, y, char);\r\n\r\n        first = false;\r\n      }\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  expand_plan(xt: number, yt: number) {\r\n    let expandUp = false,\r\n      expandDown = false,\r\n      expandLeft = false,\r\n      expandRight = false;\r\n\r\n    for (let n = 0; n < xt; n++) {\r\n      if (this.floorplan.get(n, 0) !== \"V\") expandUp = true;\r\n      if (this.floorplan.get(n, yt - 1) !== \"V\") expandDown = true;\r\n    }\r\n    for (let n = 0; n < yt; n++) {\r\n      if (this.floorplan.get(0, n) !== \"V\") expandLeft = true;\r\n      if (this.floorplan.get(xt - 1, n) !== \"V\") expandRight = true;\r\n    }\r\n\r\n    const { width, height } = this.floorplan;\r\n\r\n    if (expandUp)\r\n      this.floorplan = this.floorplan.expand(0, 1, (x, y) =>\r\n        y === 0 ? \"V\" : this.floorplan.get(x, y - 1),\r\n      );\r\n    if (expandDown)\r\n      this.floorplan = this.floorplan.expand(0, 1, (x, y) =>\r\n        y === height ? \"V\" : this.floorplan.get(x, y),\r\n      );\r\n    if (expandLeft)\r\n      this.floorplan.expand(1, 0, (x, y) =>\r\n        x === 0 ? \"V\" : this.floorplan.get(x - 1, y),\r\n      );\r\n    if (expandRight)\r\n      this.floorplan.expand(1, 0, (x, y) =>\r\n        x === width ? \"V\" : this.floorplan.get(x, y),\r\n      );\r\n  }\r\n\r\n  wasteland() {\r\n    const points: XY[] = [];\r\n\r\n    for (let y = 0; y < this.floorplan.height; y++) {\r\n      for (let x = 0; x < this.floorplan.width; x++) {\r\n        if (\r\n          this.scan_around(this.floorplan, x, y, \"V\", [\r\n            \"A\",\r\n            \"B\",\r\n            \"C\",\r\n            \"D\",\r\n            \"E\",\r\n            \"F\",\r\n            \"X\",\r\n          ])\r\n        )\r\n          points.push([x, y]);\r\n      }\r\n    }\r\n\r\n    for (const [x, y] of points) this.floorplan.set(x, y, \"W\");\r\n  }\r\n\r\n  scan_around<T>(fp: Grid<T>, xt: number, yt: number, ifim: T, lookfor: T[]) {\r\n    let out = false;\r\n    if (fp.get(xt, yt) === ifim) {\r\n      const offx = [0, 1, 0, -1];\r\n      const offy = [-1, 0, 1, 0];\r\n      for (let n = 0; n < 4; n++) {\r\n        const xn = xt + offx[n];\r\n        const yn = yt + offy[n];\r\n        if (fp.contains(xn, yn) && lookfor.includes(fp.get(xn, yn))) out = true;\r\n      }\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  simpleplan() {\r\n    this.debug(\r\n      \"simple plan\",\r\n      \"\\n\" +\r\n        this.floorplan.toString((ch) => {\r\n          if (ch === \"V\") return \" \";\r\n          if (ch === \"W\") return \"_\";\r\n          return \"#\";\r\n        }),\r\n    );\r\n  }\r\n\r\n  pickrooms() {\r\n    let xtw = this.floorplan.width * areaWidth;\r\n    let ytw = this.floorplan.height * areaHeight;\r\n    this.tiles = new Grid(xtw, ytw, () => \" \");\r\n\r\n    // fill it in\r\n    for (let y = 0; y < this.floorplan.height; y++) {\r\n      for (let x = 0; x < this.floorplan.width; x++) {\r\n        const plan = this.floorplan.get(x, y);\r\n        if (plan !== \"V\" && plan !== \"X\")\r\n          this.pasteroom(x * areaWidth, y * areaHeight, plan);\r\n      }\r\n    }\r\n\r\n    // pair off joins\r\n    const joins: XY[] = [];\r\n    for (let y = 0; y < ytw; y++) {\r\n      for (let x = 0; x < xtw; x++) {\r\n        if (this.scan_around(this.tiles, x, y, \"J\", [\"J\"])) joins.push([x, y]);\r\n      }\r\n    }\r\n    for (const [x, y] of joins) this.tiles.set(x, y, \" \");\r\n\r\n    // wall in\r\n    this.tiles = this.tiles.expand(2, 2, (x, y) => {\r\n      const nx = x - 1;\r\n      const ny = y - 1;\r\n\r\n      return this.tiles.contains(nx, ny) ? this.tiles.get(nx, ny) : \"%\";\r\n    });\r\n    xtw += 2;\r\n    ytw += 2;\r\n\r\n    // populate\r\n    const empty: XY[] = [];\r\n    for (let y = 0; y < ytw; y++) {\r\n      for (let x = 0; x < xtw; x++) {\r\n        if (this.scan_around(this.tiles, x, y, \" \", [\"#\"])) empty.push([x, y]);\r\n      }\r\n    }\r\n    const spawns = Math.min(\r\n      empty.length,\r\n      sqrt(xtw + ytw + this.floorlv + this.g.rng.randRange(1, this.floorlv)),\r\n    );\r\n    for (let n = 0; n < spawns; n++) {\r\n      const index = this.g.rng.randRange(0, empty.length - 1);\r\n      const [x, y] = empty[index];\r\n      empty.splice(index, 1);\r\n      // const spz = this.g.choose([\"®\", \"®\", \"®\", \"®\", \"®\", \"Ø\", \"Ø\", \"²\"]);\r\n      if (n === 0) this.player = [x, y];\r\n      else this.g.spawnRandomMonster(x, y, this.floorlv);\r\n    }\r\n\r\n    // flavour\r\n    for (let y = 0; y < ytw; y++) {\r\n      for (let x = 0; x < xtw; x++) {\r\n        let ch = this.tiles.get(x, y);\r\n        if (ch === \"J\") ch = this.g.choose([\"~\", \".\"]);\r\n        if (ch === \"~\") this.tiles.set(x, y, this.g.choose(this.decor));\r\n        if (ch === \".\") this.tiles.set(x, y, this.g.choose(tilejunk));\r\n      }\r\n    }\r\n  }\r\n\r\n  pasteroom(x: number, y: number, plan: PlanID) {\r\n    const prints = this.areaBank[plan];\r\n    const blueprint = this.g.choose(prints);\r\n    const i = prints.indexOf(blueprint);\r\n    prints.splice(i, 1);\r\n\r\n    let room = new Grid(\r\n      blueprint[0].length,\r\n      blueprint.length,\r\n      (x, y) => blueprint[y][x],\r\n    );\r\n\r\n    if (this.g.rng.bool()) room = room.flipH();\r\n    if (this.g.rng.bool()) room = room.flipV();\r\n\r\n    this.tiles.paste(x, y, room);\r\n  }\r\n}\r\n","/*!\n * @license deepcopy.js Copyright(c) 2013 sasa+1\n * https://github.com/sasaplus1/deepcopy.js\n * Released under the MIT license.\n *\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.deepcopy = factory());\n}(this, (function () { 'use strict';\n\n\tvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar typeDetect = createCommonjsModule(function (module, exports) {\n\t(function (global, factory) {\n\t\t module.exports = factory() ;\n\t}(commonjsGlobal, (function () {\n\t/* !\n\t * type-detect\n\t * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n\t * MIT Licensed\n\t */\n\tvar promiseExists = typeof Promise === 'function';\n\n\t/* eslint-disable no-undef */\n\tvar globalObject = typeof self === 'object' ? self : commonjsGlobal; // eslint-disable-line id-blacklist\n\n\tvar symbolExists = typeof Symbol !== 'undefined';\n\tvar mapExists = typeof Map !== 'undefined';\n\tvar setExists = typeof Set !== 'undefined';\n\tvar weakMapExists = typeof WeakMap !== 'undefined';\n\tvar weakSetExists = typeof WeakSet !== 'undefined';\n\tvar dataViewExists = typeof DataView !== 'undefined';\n\tvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\n\tvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\n\tvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\n\tvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\n\tvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\n\tvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\n\tvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\n\tvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\n\tvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\n\tvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\n\tvar toStringLeftSliceLength = 8;\n\tvar toStringRightSliceLength = -1;\n\t/**\n\t * ### typeOf (obj)\n\t *\n\t * Uses `Object.prototype.toString` to determine the type of an object,\n\t * normalising behaviour across engine versions & well optimised.\n\t *\n\t * @param {Mixed} object\n\t * @return {String} object type\n\t * @api public\n\t */\n\tfunction typeDetect(obj) {\n\t  /* ! Speed optimisation\n\t   * Pre:\n\t   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n\t   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n\t   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n\t   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n\t   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n\t   * Post:\n\t   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n\t   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n\t   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n\t   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n\t   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n\t   */\n\t  var typeofObj = typeof obj;\n\t  if (typeofObj !== 'object') {\n\t    return typeofObj;\n\t  }\n\n\t  /* ! Speed optimisation\n\t   * Pre:\n\t   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n\t   * Post:\n\t   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n\t   */\n\t  if (obj === null) {\n\t    return 'null';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * Test: `Object.prototype.toString.call(window)``\n\t   *  - Node === \"[object global]\"\n\t   *  - Chrome === \"[object global]\"\n\t   *  - Firefox === \"[object Window]\"\n\t   *  - PhantomJS === \"[object Window]\"\n\t   *  - Safari === \"[object Window]\"\n\t   *  - IE 11 === \"[object Window]\"\n\t   *  - IE Edge === \"[object Window]\"\n\t   * Test: `Object.prototype.toString.call(this)``\n\t   *  - Chrome Worker === \"[object global]\"\n\t   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n\t   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n\t   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n\t   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n\t   */\n\t  if (obj === globalObject) {\n\t    return 'global';\n\t  }\n\n\t  /* ! Speed optimisation\n\t   * Pre:\n\t   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n\t   * Post:\n\t   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n\t   */\n\t  if (\n\t    Array.isArray(obj) &&\n\t    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n\t  ) {\n\t    return 'Array';\n\t  }\n\n\t  // Not caching existence of `window` and related properties due to potential\n\t  // for `window` to be unset before tests in quasi-browser environments.\n\t  if (typeof window === 'object' && window !== null) {\n\t    /* ! Spec Conformance\n\t     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n\t     * WhatWG HTML$7.7.3 - The `Location` interface\n\t     * Test: `Object.prototype.toString.call(window.location)``\n\t     *  - IE <=11 === \"[object Object]\"\n\t     *  - IE Edge <=13 === \"[object Object]\"\n\t     */\n\t    if (typeof window.location === 'object' && obj === window.location) {\n\t      return 'Location';\n\t    }\n\n\t    /* ! Spec Conformance\n\t     * (https://html.spec.whatwg.org/#document)\n\t     * WhatWG HTML$3.1.1 - The `Document` object\n\t     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n\t     *       which suggests that browsers should use HTMLTableCellElement for\n\t     *       both TD and TH elements. WhatWG separates these.\n\t     *       WhatWG HTML states:\n\t     *         > For historical reasons, Window objects must also have a\n\t     *         > writable, configurable, non-enumerable property named\n\t     *         > HTMLDocument whose value is the Document interface object.\n\t     * Test: `Object.prototype.toString.call(document)``\n\t     *  - Chrome === \"[object HTMLDocument]\"\n\t     *  - Firefox === \"[object HTMLDocument]\"\n\t     *  - Safari === \"[object HTMLDocument]\"\n\t     *  - IE <=10 === \"[object Document]\"\n\t     *  - IE 11 === \"[object HTMLDocument]\"\n\t     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n\t     */\n\t    if (typeof window.document === 'object' && obj === window.document) {\n\t      return 'Document';\n\t    }\n\n\t    if (typeof window.navigator === 'object') {\n\t      /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n\t       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n\t       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n\t       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n\t       */\n\t      if (typeof window.navigator.mimeTypes === 'object' &&\n\t          obj === window.navigator.mimeTypes) {\n\t        return 'MimeTypeArray';\n\t      }\n\n\t      /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n\t       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n\t       * Test: `Object.prototype.toString.call(navigator.plugins)``\n\t       *  - IE <=10 === \"[object MSPluginsCollection]\"\n\t       */\n\t      if (typeof window.navigator.plugins === 'object' &&\n\t          obj === window.navigator.plugins) {\n\t        return 'PluginArray';\n\t      }\n\t    }\n\n\t    if ((typeof window.HTMLElement === 'function' ||\n\t        typeof window.HTMLElement === 'object') &&\n\t        obj instanceof window.HTMLElement) {\n\t      /* ! Spec Conformance\n\t      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n\t      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n\t      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n\t      *  - IE <=10 === \"[object HTMLBlockElement]\"\n\t      */\n\t      if (obj.tagName === 'BLOCKQUOTE') {\n\t        return 'HTMLQuoteElement';\n\t      }\n\n\t      /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n\t       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n\t       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n\t       *       which suggests that browsers should use HTMLTableCellElement for\n\t       *       both TD and TH elements. WhatWG separates these.\n\t       * Test: Object.prototype.toString.call(document.createElement('td'))\n\t       *  - Chrome === \"[object HTMLTableCellElement]\"\n\t       *  - Firefox === \"[object HTMLTableCellElement]\"\n\t       *  - Safari === \"[object HTMLTableCellElement]\"\n\t       */\n\t      if (obj.tagName === 'TD') {\n\t        return 'HTMLTableDataCellElement';\n\t      }\n\n\t      /* ! Spec Conformance\n\t       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n\t       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n\t       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n\t       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n\t       *       which suggests that browsers should use HTMLTableCellElement for\n\t       *       both TD and TH elements. WhatWG separates these.\n\t       * Test: Object.prototype.toString.call(document.createElement('th'))\n\t       *  - Chrome === \"[object HTMLTableCellElement]\"\n\t       *  - Firefox === \"[object HTMLTableCellElement]\"\n\t       *  - Safari === \"[object HTMLTableCellElement]\"\n\t       */\n\t      if (obj.tagName === 'TH') {\n\t        return 'HTMLTableHeaderCellElement';\n\t      }\n\t    }\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n\t  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n\t  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n\t  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n\t  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n\t  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n\t  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n\t  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n\t  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n\t  * Post:\n\t  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n\t  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n\t  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n\t  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n\t  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n\t  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n\t  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n\t  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n\t  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n\t  */\n\t  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n\t  if (typeof stringTag === 'string') {\n\t    return stringTag;\n\t  }\n\n\t  var objPrototype = Object.getPrototypeOf(obj);\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n\t  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n\t  * Post:\n\t  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n\t  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n\t  */\n\t  if (objPrototype === RegExp.prototype) {\n\t    return 'RegExp';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n\t  * Post:\n\t  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n\t  */\n\t  if (objPrototype === Date.prototype) {\n\t    return 'Date';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n\t   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n\t   * Test: `Object.prototype.toString.call(Promise.resolve())``\n\t   *  - Chrome <=47 === \"[object Object]\"\n\t   *  - Edge <=20 === \"[object Object]\"\n\t   *  - Firefox 29-Latest === \"[object Promise]\"\n\t   *  - Safari 7.1-Latest === \"[object Promise]\"\n\t   */\n\t  if (promiseExists && objPrototype === Promise.prototype) {\n\t    return 'Promise';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n\t  * Post:\n\t  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n\t  */\n\t  if (setExists && objPrototype === Set.prototype) {\n\t    return 'Set';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n\t  * Post:\n\t  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n\t  */\n\t  if (mapExists && objPrototype === Map.prototype) {\n\t    return 'Map';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n\t  * Post:\n\t  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n\t  */\n\t  if (weakSetExists && objPrototype === WeakSet.prototype) {\n\t    return 'WeakSet';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n\t  * Post:\n\t  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n\t  */\n\t  if (weakMapExists && objPrototype === WeakMap.prototype) {\n\t    return 'WeakMap';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n\t   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n\t   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */\n\t  if (dataViewExists && objPrototype === DataView.prototype) {\n\t    return 'DataView';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n\t   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n\t   * Test: `Object.prototype.toString.call(new Map().entries())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */\n\t  if (mapExists && objPrototype === mapIteratorPrototype) {\n\t    return 'Map Iterator';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n\t   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n\t   * Test: `Object.prototype.toString.call(new Set().entries())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */\n\t  if (setExists && objPrototype === setIteratorPrototype) {\n\t    return 'Set Iterator';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n\t   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n\t   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */\n\t  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n\t    return 'Array Iterator';\n\t  }\n\n\t  /* ! Spec Conformance\n\t   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n\t   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n\t   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n\t   *  - Edge <=13 === \"[object Object]\"\n\t   */\n\t  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n\t    return 'String Iterator';\n\t  }\n\n\t  /* ! Speed optimisation\n\t  * Pre:\n\t  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n\t  * Post:\n\t  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n\t  */\n\t  if (objPrototype === null) {\n\t    return 'Object';\n\t  }\n\n\t  return Object\n\t    .prototype\n\t    .toString\n\t    .call(obj)\n\t    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n\t}\n\n\treturn typeDetect;\n\n\t})));\n\t});\n\n\tconst isBufferExists = typeof Buffer !== 'undefined';\n\tconst isBufferFromExists = isBufferExists && typeof Buffer.from !== 'undefined';\n\n\tconst isBuffer = isBufferExists\n\t  ? /**\n\t     * is value is Buffer?\n\t     *\n\t     * @param {*} value\n\t     * @return {boolean}\n\t     */\n\t    function isBuffer(value) {\n\t      return Buffer.isBuffer(value);\n\t    }\n\t  : /**\n\t     * return false\n\t     *\n\t     * NOTE: for Buffer unsupported\n\t     *\n\t     * @return {boolean}\n\t     */\n\t    function isBuffer() {\n\t      return false;\n\t    };\n\n\tconst copy = isBufferFromExists\n\t  ? /**\n\t     * copy Buffer\n\t     *\n\t     * @param {Buffer} value\n\t     * @return {Buffer}\n\t     */\n\t    function copy(value) {\n\t      return Buffer.from(value);\n\t    }\n\t  : isBufferExists\n\t  ? /**\n\t     * copy Buffer\n\t     *\n\t     * NOTE: for old node.js\n\t     *\n\t     * @param {Buffer} value\n\t     * @return {Buffer}\n\t     */\n\t    function copy(value) {\n\t      return new Buffer(value);\n\t    }\n\t  : /**\n\t     * shallow copy\n\t     *\n\t     * NOTE: for Buffer unsupported\n\t     *\n\t     * @param {*}\n\t     * @return {*}\n\t     */\n\t    function copy(value) {\n\t      return value;\n\t    };\n\n\t/**\n\t * detect type of value\n\t *\n\t * @param {*} value\n\t * @return {string}\n\t */\n\tfunction detectType(value) {\n\t  // NOTE: isBuffer must execute before type-detect,\n\t  // because type-detect returns 'Uint8Array'.\n\t  if (isBuffer(value)) {\n\t    return 'Buffer';\n\t  }\n\n\t  return typeDetect(value);\n\t}\n\n\t/**\n\t * collection types\n\t */\n\tconst collectionTypeSet = new Set([\n\t  'Arguments',\n\t  'Array',\n\t  'Map',\n\t  'Object',\n\t  'Set'\n\t]);\n\n\t/**\n\t * get value from collection\n\t *\n\t * @param {Array|Object|Map|Set} collection\n\t * @param {string|number|symbol} key\n\t * @param {string} [type=null]\n\t * @return {*}\n\t */\n\tfunction get(collection, key, type = null) {\n\t  const valueType = type || detectType(collection);\n\n\t  switch (valueType) {\n\t    case 'Arguments':\n\t    case 'Array':\n\t    case 'Object':\n\t      return collection[key];\n\t    case 'Map':\n\t      return collection.get(key);\n\t    case 'Set':\n\t      // NOTE: Set.prototype.keys is alias of Set.prototype.values\n\t      // it means key is equals value\n\t      return key;\n\t  }\n\t}\n\n\t/**\n\t * check to type string is collection\n\t *\n\t * @param {string} type\n\t */\n\tfunction isCollection(type) {\n\t  return collectionTypeSet.has(type);\n\t}\n\n\t/**\n\t * set value to collection\n\t *\n\t * @param {Array|Object|Map|Set} collection\n\t * @param {string|number|symbol} key\n\t * @param {*} value\n\t * @param {string} [type=null]\n\t * @return {Array|Object|Map|Set}\n\t */\n\tfunction set(collection, key, value, type = null) {\n\t  const valueType = type || detectType(collection);\n\n\t  switch (valueType) {\n\t    case 'Arguments':\n\t    case 'Array':\n\t    case 'Object':\n\t      collection[key] = value;\n\t      break;\n\t    case 'Map':\n\t      collection.set(key, value);\n\t      break;\n\t    case 'Set':\n\t      collection.add(value);\n\t      break;\n\t  }\n\n\t  return collection;\n\t}\n\n\tconst freeGlobalThis =\n\t  typeof globalThis !== 'undefined' &&\n\t  globalThis !== null &&\n\t  globalThis.Object === Object &&\n\t  globalThis;\n\n\tconst freeGlobal =\n\t  typeof global !== 'undefined' &&\n\t  global !== null &&\n\t  global.Object === Object &&\n\t  global;\n\n\tconst freeSelf =\n\t  typeof self !== 'undefined' &&\n\t  self !== null &&\n\t  self.Object === Object &&\n\t  self;\n\n\tconst globalObject =\n\t  freeGlobalThis || freeGlobal || freeSelf || Function('return this')();\n\n\t/**\n\t * copy ArrayBuffer\n\t *\n\t * @param {ArrayBuffer} value\n\t * @return {ArrayBuffer}\n\t */\n\tfunction copyArrayBuffer(value) {\n\t  return value.slice(0);\n\t}\n\n\t/**\n\t * copy Boolean\n\t *\n\t * @param {Boolean} value\n\t * @return {Boolean}\n\t */\n\tfunction copyBoolean(value) {\n\t  return new Boolean(value.valueOf());\n\t}\n\n\t/**\n\t * copy DataView\n\t *\n\t * @param {DataView} value\n\t * @return {DataView}\n\t */\n\tfunction copyDataView(value) {\n\t  // TODO: copy ArrayBuffer?\n\t  return new DataView(value.buffer);\n\t}\n\n\t/**\n\t * copy Buffer\n\t *\n\t * @param {Buffer} value\n\t * @return {Buffer}\n\t */\n\tfunction copyBuffer(value) {\n\t  return copy(value);\n\t}\n\n\t/**\n\t * copy Date\n\t *\n\t * @param {Date} value\n\t * @return {Date}\n\t */\n\tfunction copyDate(value) {\n\t  return new Date(value.getTime());\n\t}\n\n\t/**\n\t * copy Number\n\t *\n\t * @param {Number} value\n\t * @return {Number}\n\t */\n\tfunction copyNumber(value) {\n\t  return new Number(value);\n\t}\n\n\t/**\n\t * copy RegExp\n\t *\n\t * @param {RegExp} value\n\t * @return {RegExp}\n\t */\n\tfunction copyRegExp(value) {\n\t  return new RegExp(value.source, value.flags);\n\t}\n\n\t/**\n\t * copy String\n\t *\n\t * @param {String} value\n\t * @return {String}\n\t */\n\tfunction copyString(value) {\n\t  return new String(value);\n\t}\n\n\t/**\n\t * copy TypedArray\n\t *\n\t * @param {*} value\n\t * @return {*}\n\t */\n\tfunction copyTypedArray(value, type) {\n\t  const typedArray = globalObject[type];\n\n\t  if (typedArray.from) {\n\t    return globalObject[type].from(value);\n\t  }\n\n\t  return new globalObject[type](value);\n\t}\n\n\t/**\n\t * shallow copy\n\t *\n\t * @param {*} value\n\t * @return {*}\n\t */\n\tfunction shallowCopy(value) {\n\t  return value;\n\t}\n\n\t/**\n\t * get empty Array\n\t *\n\t * @return {Array}\n\t */\n\tfunction getEmptyArray() {\n\t  return [];\n\t}\n\n\t/**\n\t * get empty Map\n\t *\n\t * @return {Map}\n\t */\n\tfunction getEmptyMap() {\n\t  return new Map();\n\t}\n\n\t/**\n\t * get empty Object\n\t *\n\t * @return {Object}\n\t */\n\tfunction getEmptyObject() {\n\t  return {};\n\t}\n\n\t/**\n\t * get empty Set\n\t *\n\t * @return {Set}\n\t */\n\tfunction getEmptySet() {\n\t  return new Set();\n\t}\n\n\tvar copyMap = new Map([\n\t  // deep copy\n\t  ['ArrayBuffer', copyArrayBuffer],\n\t  ['Boolean', copyBoolean],\n\t  ['Buffer', copyBuffer],\n\t  ['DataView', copyDataView],\n\t  ['Date', copyDate],\n\t  ['Number', copyNumber],\n\t  ['RegExp', copyRegExp],\n\t  ['String', copyString],\n\n\t  // typed arrays\n\t  // TODO: pass bound function\n\t  ['Float32Array', copyTypedArray],\n\t  ['Float64Array', copyTypedArray],\n\t  ['Int16Array', copyTypedArray],\n\t  ['Int32Array', copyTypedArray],\n\t  ['Int8Array', copyTypedArray],\n\t  ['Uint16Array', copyTypedArray],\n\t  ['Uint32Array', copyTypedArray],\n\t  ['Uint8Array', copyTypedArray],\n\t  ['Uint8ClampedArray', copyTypedArray],\n\n\t  // shallow copy\n\t  ['Array Iterator', shallowCopy],\n\t  ['Map Iterator', shallowCopy],\n\t  ['Promise', shallowCopy],\n\t  ['Set Iterator', shallowCopy],\n\t  ['String Iterator', shallowCopy],\n\t  ['function', shallowCopy],\n\t  ['global', shallowCopy],\n\t  // NOTE: WeakMap and WeakSet cannot get entries\n\t  ['WeakMap', shallowCopy],\n\t  ['WeakSet', shallowCopy],\n\n\t  // primitives\n\t  ['boolean', shallowCopy],\n\t  ['null', shallowCopy],\n\t  ['number', shallowCopy],\n\t  ['string', shallowCopy],\n\t  ['symbol', shallowCopy],\n\t  ['undefined', shallowCopy],\n\n\t  // collections\n\t  // NOTE: return empty value, because recursively copy later.\n\t  ['Arguments', getEmptyArray],\n\t  ['Array', getEmptyArray],\n\t  ['Map', getEmptyMap],\n\t  ['Object', getEmptyObject],\n\t  ['Set', getEmptySet]\n\n\t  // NOTE: type-detect returns following types\n\t  // 'Location'\n\t  // 'Document'\n\t  // 'MimeTypeArray'\n\t  // 'PluginArray'\n\t  // 'HTMLQuoteElement'\n\t  // 'HTMLTableDataCellElement'\n\t  // 'HTMLTableHeaderCellElement'\n\n\t  // TODO: is type-detect never return 'object'?\n\t  // 'object'\n\t]);\n\n\t/**\n\t * no operation\n\t */\n\tfunction noop() {}\n\n\t/**\n\t * copy value\n\t *\n\t * @param {*} value\n\t * @param {string} [type=null]\n\t * @param {Function} [customizer=noop]\n\t * @return {*}\n\t */\n\tfunction copy$1(value, type = null, customizer = noop) {\n\t  if (arguments.length === 2 && typeof type === 'function') {\n\t    customizer = type;\n\t    type = null;\n\t  }\n\n\t  const valueType = type || detectType(value);\n\t  const copyFunction = copyMap.get(valueType);\n\n\t  if (valueType === 'Object') {\n\t    const result = customizer(value, valueType);\n\n\t    if (result !== undefined) {\n\t      return result;\n\t    }\n\t  }\n\n\t  // NOTE: TypedArray needs pass type to argument\n\t  return copyFunction ? copyFunction(value, valueType) : value;\n\t}\n\n\t/**\n\t * deepcopy function\n\t *\n\t * @param {*} value\n\t * @param {Object|Function} [options]\n\t * @return {*}\n\t */\n\tfunction deepcopy(value, options = {}) {\n\t  if (typeof options === 'function') {\n\t    options = {\n\t      customizer: options\n\t    };\n\t  }\n\n\t  const {\n\t    // TODO: before/after customizer\n\t    customizer\n\t    // TODO: max depth\n\t    // depth = Infinity,\n\t  } = options;\n\n\t  const valueType = detectType(value);\n\n\t  if (!isCollection(valueType)) {\n\t    return recursiveCopy(value, null, null, null);\n\t  }\n\n\t  const copiedValue = copy$1(value, valueType, customizer);\n\n\t  const references = new WeakMap([[value, copiedValue]]);\n\t  const visited = new WeakSet([value]);\n\n\t  return recursiveCopy(value, copiedValue, references, visited);\n\t}\n\n\t/**\n\t * recursively copy\n\t *\n\t * @param {*} value target value\n\t * @param {*} clone clone of value\n\t * @param {WeakMap} references visited references of clone\n\t * @param {WeakSet} visited visited references of value\n\t * @param {Function} customizer user customize function\n\t * @return {*}\n\t */\n\tfunction recursiveCopy(value, clone, references, visited, customizer) {\n\t  const type = detectType(value);\n\t  const copiedValue = copy$1(value, type);\n\n\t  // return if not a collection value\n\t  if (!isCollection(type)) {\n\t    return copiedValue;\n\t  }\n\n\t  let keys;\n\n\t  switch (type) {\n\t    case 'Arguments':\n\t    case 'Array':\n\t      keys = Object.keys(value);\n\t      break;\n\t    case 'Object':\n\t      keys = Object.keys(value);\n\t      keys.push(...Object.getOwnPropertySymbols(value));\n\t      break;\n\t    case 'Map':\n\t    case 'Set':\n\t      keys = value.keys();\n\t      break;\n\t  }\n\n\t  // walk within collection with iterator\n\t  for (let collectionKey of keys) {\n\t    const collectionValue = get(value, collectionKey, type);\n\n\t    if (visited.has(collectionValue)) {\n\t      // for [Circular]\n\t      set(clone, collectionKey, references.get(collectionValue), type);\n\t    } else {\n\t      const collectionValueType = detectType(collectionValue);\n\t      const copiedCollectionValue = copy$1(collectionValue, collectionValueType);\n\n\t      // save reference if value is collection\n\t      if (isCollection(collectionValueType)) {\n\t        references.set(collectionValue, copiedCollectionValue);\n\t        visited.add(collectionValue);\n\t      }\n\n\t      set(\n\t        clone,\n\t        collectionKey,\n\t        recursiveCopy(\n\t          collectionValue,\n\t          copiedCollectionValue,\n\t          references,\n\t          visited),\n\t        type\n\t      );\n\t    }\n\t  }\n\n\t  // TODO: isSealed/isFrozen/isExtensible\n\n\t  return clone;\n\t}\n\n\treturn deepcopy;\n\n})));\n//# sourceMappingURL=deepcopy.js.map\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","const isBufferExists = typeof Buffer !== 'undefined';\nconst isBufferFromExists = isBufferExists && typeof Buffer.from !== 'undefined';\n\nexport const isBuffer = isBufferExists\n  ? /**\n     * is value is Buffer?\n     *\n     * @param {*} value\n     * @return {boolean}\n     */\n    function isBuffer(value) {\n      return Buffer.isBuffer(value);\n    }\n  : /**\n     * return false\n     *\n     * NOTE: for Buffer unsupported\n     *\n     * @return {boolean}\n     */\n    function isBuffer() {\n      return false;\n    };\n\nexport const copy = isBufferFromExists\n  ? /**\n     * copy Buffer\n     *\n     * @param {Buffer} value\n     * @return {Buffer}\n     */\n    function copy(value) {\n      return Buffer.from(value);\n    }\n  : isBufferExists\n  ? /**\n     * copy Buffer\n     *\n     * NOTE: for old node.js\n     *\n     * @param {Buffer} value\n     * @return {Buffer}\n     */\n    function copy(value) {\n      return new Buffer(value);\n    }\n  : /**\n     * shallow copy\n     *\n     * NOTE: for Buffer unsupported\n     *\n     * @param {*}\n     * @return {*}\n     */\n    function copy(value) {\n      return value;\n    };\n","import typeDetect from 'type-detect';\n\nimport { isBuffer } from './buffer.mjs';\n\n/**\n * detect type of value\n *\n * @param {*} value\n * @return {string}\n */\nexport function detectType(value) {\n  // NOTE: isBuffer must execute before type-detect,\n  // because type-detect returns 'Uint8Array'.\n  if (isBuffer(value)) {\n    return 'Buffer';\n  }\n\n  return typeDetect(value);\n}\n","import { detectType } from './detector.mjs';\n\n/**\n * collection types\n */\nconst collectionTypeSet = new Set([\n  'Arguments',\n  'Array',\n  'Map',\n  'Object',\n  'Set'\n]);\n\n/**\n * get value from collection\n *\n * @param {Array|Object|Map|Set} collection\n * @param {string|number|symbol} key\n * @param {string} [type=null]\n * @return {*}\n */\nexport function get(collection, key, type = null) {\n  const valueType = type || detectType(collection);\n\n  switch (valueType) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      return collection[key];\n    case 'Map':\n      return collection.get(key);\n    case 'Set':\n      // NOTE: Set.prototype.keys is alias of Set.prototype.values\n      // it means key is equals value\n      return key;\n    default:\n  }\n}\n\n/**\n * check to type string is collection\n *\n * @param {string} type\n */\nexport function isCollection(type) {\n  return collectionTypeSet.has(type);\n}\n\n/**\n * set value to collection\n *\n * @param {Array|Object|Map|Set} collection\n * @param {string|number|symbol} key\n * @param {*} value\n * @param {string} [type=null]\n * @return {Array|Object|Map|Set}\n */\nexport function set(collection, key, value, type = null) {\n  const valueType = type || detectType(collection);\n\n  switch (valueType) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      collection[key] = value;\n      break;\n    case 'Map':\n      collection.set(key, value);\n      break;\n    case 'Set':\n      collection.add(value);\n      break;\n    default:\n  }\n\n  return collection;\n}\n","const freeGlobalThis =\n  typeof globalThis !== 'undefined' &&\n  globalThis !== null &&\n  globalThis.Object === Object &&\n  globalThis;\n\nconst freeGlobal =\n  typeof global !== 'undefined' &&\n  global !== null &&\n  global.Object === Object &&\n  global;\n\nconst freeSelf =\n  typeof self !== 'undefined' &&\n  self !== null &&\n  self.Object === Object &&\n  self;\n\nexport const globalObject =\n  freeGlobalThis || freeGlobal || freeSelf || Function('return this')();\n","import { copy as cloneBuffer } from './buffer.mjs';\nimport { globalObject } from './global.mjs';\n\n/**\n * copy ArrayBuffer\n *\n * @param {ArrayBuffer} value\n * @return {ArrayBuffer}\n */\nfunction copyArrayBuffer(value) {\n  return value.slice(0);\n}\n\n/**\n * copy Boolean\n *\n * @param {Boolean} value\n * @return {Boolean}\n */\nfunction copyBoolean(value) {\n  return new Boolean(value.valueOf());\n}\n\n/**\n * copy DataView\n *\n * @param {DataView} value\n * @return {DataView}\n */\nfunction copyDataView(value) {\n  // TODO: copy ArrayBuffer?\n  return new DataView(value.buffer);\n}\n\n/**\n * copy Buffer\n *\n * @param {Buffer} value\n * @return {Buffer}\n */\nfunction copyBuffer(value) {\n  return cloneBuffer(value);\n}\n\n/**\n * copy Date\n *\n * @param {Date} value\n * @return {Date}\n */\nfunction copyDate(value) {\n  return new Date(value.getTime());\n}\n\n/**\n * copy Number\n *\n * @param {Number} value\n * @return {Number}\n */\nfunction copyNumber(value) {\n  return new Number(value);\n}\n\n/**\n * copy RegExp\n *\n * @param {RegExp} value\n * @return {RegExp}\n */\nfunction copyRegExp(value) {\n  return new RegExp(value.source, value.flags);\n}\n\n/**\n * copy String\n *\n * @param {String} value\n * @return {String}\n */\nfunction copyString(value) {\n  return new String(value);\n}\n\n/**\n * copy TypedArray\n *\n * @param {*} value\n * @return {*}\n */\nfunction copyTypedArray(value, type) {\n  const typedArray = globalObject[type];\n\n  if (typedArray.from) {\n    return globalObject[type].from(value);\n  }\n\n  return new globalObject[type](value);\n}\n\n/**\n * shallow copy\n *\n * @param {*} value\n * @return {*}\n */\nfunction shallowCopy(value) {\n  return value;\n}\n\n/**\n * get empty Array\n *\n * @return {Array}\n */\nfunction getEmptyArray() {\n  return [];\n}\n\n/**\n * get empty Map\n *\n * @return {Map}\n */\nfunction getEmptyMap() {\n  return new Map();\n}\n\n/**\n * get empty Object\n *\n * @return {Object}\n */\nfunction getEmptyObject() {\n  return {};\n}\n\n/**\n * get empty Set\n *\n * @return {Set}\n */\nfunction getEmptySet() {\n  return new Set();\n}\n\nexport default new Map([\n  // deep copy\n  ['ArrayBuffer', copyArrayBuffer],\n  ['Boolean', copyBoolean],\n  ['Buffer', copyBuffer],\n  ['DataView', copyDataView],\n  ['Date', copyDate],\n  ['Number', copyNumber],\n  ['RegExp', copyRegExp],\n  ['String', copyString],\n\n  // typed arrays\n  // TODO: pass bound function\n  ['Float32Array', copyTypedArray],\n  ['Float64Array', copyTypedArray],\n  ['Int16Array', copyTypedArray],\n  ['Int32Array', copyTypedArray],\n  ['Int8Array', copyTypedArray],\n  ['Uint16Array', copyTypedArray],\n  ['Uint32Array', copyTypedArray],\n  ['Uint8Array', copyTypedArray],\n  ['Uint8ClampedArray', copyTypedArray],\n\n  // shallow copy\n  ['Array Iterator', shallowCopy],\n  ['Map Iterator', shallowCopy],\n  ['Promise', shallowCopy],\n  ['Set Iterator', shallowCopy],\n  ['String Iterator', shallowCopy],\n  ['function', shallowCopy],\n  ['global', shallowCopy],\n  // NOTE: WeakMap and WeakSet cannot get entries\n  ['WeakMap', shallowCopy],\n  ['WeakSet', shallowCopy],\n\n  // primitives\n  ['boolean', shallowCopy],\n  ['null', shallowCopy],\n  ['number', shallowCopy],\n  ['string', shallowCopy],\n  ['symbol', shallowCopy],\n  ['undefined', shallowCopy],\n\n  // collections\n  // NOTE: return empty value, because recursively copy later.\n  ['Arguments', getEmptyArray],\n  ['Array', getEmptyArray],\n  ['Map', getEmptyMap],\n  ['Object', getEmptyObject],\n  ['Set', getEmptySet]\n\n  // NOTE: type-detect returns following types\n  // 'Location'\n  // 'Document'\n  // 'MimeTypeArray'\n  // 'PluginArray'\n  // 'HTMLQuoteElement'\n  // 'HTMLTableDataCellElement'\n  // 'HTMLTableHeaderCellElement'\n\n  // TODO: is type-detect never return 'object'?\n  // 'object'\n]);\n","import copyMap from './copy_map.mjs';\nimport { detectType } from './detector.mjs';\n\n/**\n * no operation\n */\nfunction noop() {}\n\n/**\n * copy value\n *\n * @param {*} value\n * @param {string} [type=null]\n * @param {Function} [customizer=noop]\n * @return {*}\n */\nexport function copy(value, type = null, customizer = noop) {\n  if (arguments.length === 2 && typeof type === 'function') {\n    customizer = type;\n    type = null;\n  }\n\n  const valueType = type || detectType(value);\n  const copyFunction = copyMap.get(valueType);\n\n  if (valueType === 'Object') {\n    const result = customizer(value, valueType);\n\n    if (result !== undefined) {\n      return result;\n    }\n  }\n\n  // NOTE: TypedArray needs pass type to argument\n  return copyFunction ? copyFunction(value, valueType) : value;\n}\n","import { detectType } from './detector.mjs';\nimport { get, isCollection, set } from './collection.mjs';\nimport { copy } from './copier.mjs';\n\n/**\n * deepcopy function\n *\n * @param {*} value\n * @param {Object|Function} [options]\n * @return {*}\n */\nexport default function deepcopy(value, options = {}) {\n  if (typeof options === 'function') {\n    options = {\n      customizer: options\n    };\n  }\n\n  const {\n    // TODO: before/after customizer\n    customizer\n    // TODO: max depth\n    // depth = Infinity,\n  } = options;\n\n  const valueType = detectType(value);\n\n  if (!isCollection(valueType)) {\n    return recursiveCopy(value, null, null, null, customizer);\n  }\n\n  const copiedValue = copy(value, valueType, customizer);\n\n  const references = new WeakMap([[value, copiedValue]]);\n  const visited = new WeakSet([value]);\n\n  return recursiveCopy(value, copiedValue, references, visited, customizer);\n}\n\n/**\n * recursively copy\n *\n * @param {*} value target value\n * @param {*} clone clone of value\n * @param {WeakMap} references visited references of clone\n * @param {WeakSet} visited visited references of value\n * @param {Function} customizer user customize function\n * @return {*}\n */\nfunction recursiveCopy(value, clone, references, visited, customizer) {\n  const type = detectType(value);\n  const copiedValue = copy(value, type);\n\n  // return if not a collection value\n  if (!isCollection(type)) {\n    return copiedValue;\n  }\n\n  let keys;\n\n  switch (type) {\n    case 'Arguments':\n    case 'Array':\n      keys = Object.keys(value);\n      break;\n    case 'Object':\n      keys = Object.keys(value);\n      keys.push(...Object.getOwnPropertySymbols(value));\n      break;\n    case 'Map':\n    case 'Set':\n      keys = value.keys();\n      break;\n    default:\n  }\n\n  // walk within collection with iterator\n  for (let collectionKey of keys) {\n    const collectionValue = get(value, collectionKey, type);\n\n    if (visited.has(collectionValue)) {\n      // for [Circular]\n      set(clone, collectionKey, references.get(collectionValue), type);\n    } else {\n      const collectionValueType = detectType(collectionValue);\n      const copiedCollectionValue = copy(collectionValue, collectionValueType);\n\n      // save reference if value is collection\n      if (isCollection(collectionValueType)) {\n        references.set(collectionValue, copiedCollectionValue);\n        visited.add(collectionValue);\n      }\n\n      set(\n        clone,\n        collectionKey,\n        recursiveCopy(\n          collectionValue,\n          copiedCollectionValue,\n          references,\n          visited,\n          customizer\n        ),\n        type\n      );\n    }\n  }\n\n  // TODO: isSealed/isFrozen/isExtensible\n\n  return clone;\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","export const tileColours: Record<string, string> = {\r\n  \" \": \"black\",\r\n  \"#\": \"silver\",\r\n  \"%\": \"charcoal\",\r\n  ß: \"silver blue\",\r\n  \"¡\": \"silver blue\",\r\n  \"§\": \"silver blue\",\r\n  \"¶\": \"silver blue\",\r\n  Þ: \"silver blue\",\r\n  J: \"charcoal\",\r\n  \"~\": \"charcoal\",\r\n  \".\": \"charcoal\",\r\n  \":\": \"charcoal\",\r\n  \"•\": \"charcoal\",\r\n  \";\": \"charcoal\",\r\n  $: \"white\",\r\n  \"°\": \"red\",\r\n  \"®\": \"red\",\r\n  Ø: \"red\",\r\n  \"¹\": \"silver green\",\r\n  \"²\": \"silver green\",\r\n  \"³\": \"silver green\",\r\n  \"@\": \"white\",\r\n};\r\n\r\nexport const tiledeco = [\"ß\", \"¡\", \"§\", \"¶\", \"Þ\"];\r\n\r\nexport const tilejunk = [\r\n  \" \",\r\n  \" \",\r\n  \" \",\r\n  \" \",\r\n  \":\",\r\n  \":\",\r\n  \":\",\r\n  \":\",\r\n  \":\",\r\n  \":\",\r\n  \"•\",\r\n  \"•\",\r\n  \";\",\r\n  \"¹\",\r\n  \"°\",\r\n  \"°\",\r\n];\r\n\r\nexport const walls = [\"%\", \"#\"];\r\n\r\nexport type PlanID = \"A\" | \"B\" | \"C\" | \"D\" | \"E\" | \"F\" | \"V\" | \"W\";\r\nexport const dimNames: PlanID[] = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"];\r\n\r\nexport type XY = [x: number, y: number];\r\nexport const dimSizes: Record<PlanID, XY> = {\r\n  A: [1, 1],\r\n  B: [2, 1],\r\n  C: [1, 2],\r\n  D: [2, 2],\r\n  E: [3, 1],\r\n  F: [1, 3],\r\n  V: [0, 0],\r\n  W: [1, 1],\r\n};\r\n\r\nexport const areaWidth = 7;\r\nexport const areaHeight = 5;\r\n\r\nexport const areaBank = {\r\n  A: [\r\n    [\"###J###\", \"#  J  #\", \"JJ   JJ\", \"#  J  #\", \"###J###\"],\r\n    [\"##.J.##\", \"#..J..#\", \"JJ   JJ\", \"#..J...\", \"###J.##\"],\r\n    [\"JJJJ##J\", \"J##  #J\", \"J#   #J\", \"J## ##J\", \"JJJJJJJ\"],\r\n    [\"###J###\", \"#     #\", \"J  ~  J\", \"#     #\", \"###J###\"],\r\n    [\"J#.JJ##\", \"J #.  #\", \"J ... J\", \"J #.  #\", \"J#.JJ##\"],\r\n    [\"JJ#J#JJ\", \"### ###\", \"J     J\", \"###~###\", \"JJ###JJ\"],\r\n    [\"JJJJJJJ\", \"J  ###J\", \"J### #J\", \"J#   #J\", \"JJJJJJJ\"],\r\n    [\"###JJJJ\", \"#     J\", \"### ###\", \"J     #\", \"JJJJ###\"],\r\n    [\"##JJJJJ\", \"# #   J\", \"J ####J\", \"#     #\", \"###J###\"],\r\n    [\"J##J##J\", \"#Ø    #\", \"J ::: J\", \"#    ²#\", \"J##J##J\"],\r\n    [\"JJJJJJJ\", \"J##°##J\", \"J##°##J\", \"J##°°°J\", \"JJJJJJJ\"],\r\n    [\"J#JJJJJ\", \"J######\", \"J#    J\", \"J#### J\", \"JJJJ#JJ\"],\r\n    [\"J##J##J\", \"J#~ ~#J\", \"J     J\", \"J#~  #J\", \"J##J##J\"],\r\n    [\"##%J###\", \"#%  #.#\", \"J     J\", \"#     %\", \"###J#%#\"],\r\n    [\"###J%%%\", \"#   % #\", \"J  %  J\", \"%%%   #\", \"%##J###\"],\r\n  ],\r\n  C: [\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"# # # J\",\r\n      \"J # # J\",\r\n      \"J # # J\",\r\n      \"J # # J\",\r\n      \"J # # J\",\r\n      \"J # # J\",\r\n      \"J ### J\",\r\n      \"#     J\",\r\n      \"###JJJJ\",\r\n    ],\r\n    [\r\n      \"###JJJJ\",\r\n      \"###   J\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"# #   #\",\r\n      \"# #####\",\r\n      \"# #####\",\r\n      \"J     J\",\r\n      \"# #   J\",\r\n      \"###JJJJ\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#  %%%#\",\r\n      \"#  ®~%#\",\r\n      \"#   ®%#\",\r\n      \"#  % %#\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J ### J\",\r\n      \"# #~# #\",\r\n      \"#     #\",\r\n      \"#   ® #\",\r\n      \"##   ##\",\r\n      \"J     J\",\r\n      \"#~# #~#\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"##### #\",\r\n      \"J   # #\",\r\n      \"J   # #\",\r\n      \"##### #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"# # # #\",\r\n      \"J     J\",\r\n      \"J     J\",\r\n      \"# # # #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"##JJJ##\",\r\n      \"# # # #\",\r\n      \"J # # J\",\r\n      \"# # # J\",\r\n      \"# . #¹#\",\r\n      \"# #####\",\r\n      \"# #   #\",\r\n      \"J #~  J\",\r\n      \"# #   #\",\r\n      \"#######\",\r\n    ],\r\n    [\r\n      \"JJJJ###\",\r\n      \"J    ##\",\r\n      \"J    #J\",\r\n      \"#....##\",\r\n      \"#     #\",\r\n      \"#~#   #\",\r\n      \"###   #\",\r\n      \"J#    J\",\r\n      \"##    J\",\r\n      \"###JJJJ\",\r\n    ],\r\n    [\r\n      \"JJ#J#JJ\",\r\n      \"### ###\",\r\n      \"J     J\",\r\n      \"##  ~##\",\r\n      \"J#   #J\",\r\n      \"J#   #J\",\r\n      \"##°  ##\",\r\n      \"J     J\",\r\n      \"### ###\",\r\n      \"JJ#J#JJ\",\r\n    ],\r\n  ],\r\n  B: [\r\n    [\r\n      \"###J######J###\",\r\n      \"#            #\",\r\n      \"J            J\",\r\n      \"#            #\",\r\n      \"###J######J###\",\r\n    ],\r\n    [\r\n      \"........##J###\",\r\n      \"#......#     #\",\r\n      \"JJ....#      J\",\r\n      \"#....#       #\",\r\n      \"....######J###\",\r\n    ],\r\n    [\r\n      \"###J#JJJJ#J###\",\r\n      \"# ~ #    # ..#\",\r\n      \"J   #    #.. J\",\r\n      \"# ~ #    #.. #\",\r\n      \"###J#JJJJ#J###\",\r\n    ],\r\n    [\r\n      \"###J######J###\",\r\n      \"#°°°#        #\",\r\n      \"J°°#         J\",\r\n      \"###        ###\",\r\n      \"###J######J#JJ\",\r\n    ],\r\n    [\r\n      \"JJJJ######JJJJ\",\r\n      \"J            J\",\r\n      \"J            J\",\r\n      \"### ####¹#   J\",\r\n      \"###J######JJJJ\",\r\n    ],\r\n    [\r\n      \"###J######J###\",\r\n      \"#      #~# #~#\",\r\n      \"J            J\",\r\n      \"#            #\",\r\n      \"###J######J###\",\r\n    ],\r\n    [\r\n      \"###J######J###\",\r\n      \"#            #\",\r\n      \"#  ~   ~     J\",\r\n      \"#            #\",\r\n      \"##########J###\",\r\n    ],\r\n    [\r\n      \"JJJJ##########\",\r\n      \"J   #  #  #  #\",\r\n      \"J   #  #  #  #\",\r\n      \"J  ##  #  #  #\",\r\n      \"JJJJJJJ#JJ#JJJ\",\r\n    ],\r\n    [\r\n      \"###J######J#JJ\",\r\n      \"#          # J\",\r\n      \"J         #  J\",\r\n      \"#        #   J\",\r\n      \"###J#####JJJJJ\",\r\n    ],\r\n    [\r\n      \"JJJJJJJJJJJJJJ\",\r\n      \"#        ... #\",\r\n      \"#      ......#\",\r\n      \"# ############\",\r\n      \"JJJJJJJJJJJJJJ\",\r\n    ],\r\n    [\r\n      \"####JJ####J###\",\r\n      \"J  #  #      #\",\r\n      \"J###  #      J\",\r\n      \"#     #      #\",\r\n      \"JJJJJJ####J###\",\r\n    ],\r\n    [\r\n      \"###J......J###\",\r\n      \"#            #\",\r\n      \"J ° ° °° ° ° J\",\r\n      \"#            #\",\r\n      \"###J......J###\",\r\n    ],\r\n  ],\r\n  D: [\r\n    [\r\n      \"###J######J###\",\r\n      \"#            #\",\r\n      \"J            J\",\r\n      \"#            #\",\r\n      \"#            #\",\r\n      \"#            #\",\r\n      \"#            #\",\r\n      \"J            J\",\r\n      \"#            #\",\r\n      \"###J######J###\",\r\n    ],\r\n    [\r\n      \"###JJJJJJJJ###\",\r\n      \"#            #\",\r\n      \"J       #    J\",\r\n      \"J   ....#.   J\",\r\n      \"J ###########J\",\r\n      \"J  # ...#... J\",\r\n      \"J  # ...#.   J\",\r\n      \"J  #   .#    J\",\r\n      \"#       #    #\",\r\n      \"###JJJJJJJJ###\",\r\n    ],\r\n    [\r\n      \"###J######J###\",\r\n      \"#      #     #\",\r\n      \"J      #     J\",\r\n      \"#     ##     #\",\r\n      \"#            #\",\r\n      \"#         ####\",\r\n      \"# ###     #  #\",\r\n      \"J   #        J\",\r\n      \"#            #\",\r\n      \"###J######J###\",\r\n    ],\r\n    [\r\n      \"JJJJ######JJJJ\",\r\n      \"J            J\",\r\n      \"J #####....  J\",\r\n      \"# #   #####  J\",\r\n      \"# ##      ####\",\r\n      \"#  #         #\",\r\n      \"#  #       ###\",\r\n      \"J  #   ##### J\",\r\n      \"J  #.###     J\",\r\n      \"JJJJJJJJJJJJJJ\",\r\n    ],\r\n    [\r\n      \"##########JJJJ\",\r\n      \"#     ..  #  J\",\r\n      \"# .   ...  # J\",\r\n      \"# .         #J\",\r\n      \"# ## Ø ...   #\",\r\n      \"# #~    ..   #\",\r\n      \"# ##~#       #\",\r\n      \"#  ###  .    J\",\r\n      \"#     ...    #\",\r\n      \"##########J###\",\r\n    ],\r\n    [\r\n      \"JJJJJJJJJJJJJJ\",\r\n      \"J  ##        J\",\r\n      \"J  ##        J\",\r\n      \"J## #        J\",\r\n      \"J###.##      J\",\r\n      \"J  #...##    J\",\r\n      \"J   #....#   J\",\r\n      \"J  #.#....#  J\",\r\n      \"J  ## #### ##J\",\r\n      \"JJJJJJJJJJJJJJ\",\r\n    ],\r\n    [\r\n      \"###J######J###\",\r\n      \"#%%J%%%%%%J%##\",\r\n      \"JJJ#®®®®®®#JJJ\",\r\n      \"#%%®®%%®®®®%%#\",\r\n      \"#%®®®  %®®®®%#\",\r\n      \"#%®®® ³%®®®®%#\",\r\n      \"#%%®®%%®®®®% #\",\r\n      \"JJ %®®®®®®% JJ\",\r\n      \"#  J%%%%%%J  #\",\r\n      \"###J######J###\",\r\n    ],\r\n  ],\r\n  E: [\r\n    [\r\n      \"%J%J######JJJJJJJJ%%%\",\r\n      \"%J%      #       %  %\",\r\n      \"##%%%%%  #       %  J\",\r\n      \"#                %  %\",\r\n      \"###J######JJJJJJJJ%%%\",\r\n    ],\r\n    [\r\n      \"###J######J######J###\",\r\n      \"#                   #\",\r\n      \"J                   J\",\r\n      \"#                   #\",\r\n      \"###J######J######J###\",\r\n    ],\r\n    [\r\n      \"###J##.........##J###\",\r\n      \"#      .......      #\",\r\n      \"J     ..  ....      J\",\r\n      \"#   ....   .....  ..#\",\r\n      \"###J######J######J###\",\r\n    ],\r\n    [\r\n      \"###JJJJJJJJ######J###\",\r\n      \"#              ~#   #\",\r\n      \"J          ######   J\",\r\n      \"#                   #\",\r\n      \"###J######J######J###\",\r\n    ],\r\n    [\r\n      \"JJ#JJJJJ##JJJJ###JJ#J\",\r\n      \"J #   # #     # #   J\",\r\n      \"J #####         ####J\",\r\n      \"J   #   #     #     J\",\r\n      \"JJJJ#JJJ##JJJJ###JJ##\",\r\n    ],\r\n    [\r\n      \"###J######J######J###\",\r\n      \"#      #   #    ###°#\",\r\n      \"J  °  #~   #        J\",\r\n      \"# ###  #²  # °      #\",\r\n      \"###J######J######J###\",\r\n    ],\r\n    [\r\n      \"###J#JJJJJJJJJJJ#J###\",\r\n      \"#    #         #    #\",\r\n      \"J     #       # #   J\",\r\n      \"#      #     #   #  #\",\r\n      \"###JJJJJ##J##JJJJJ###\",\r\n    ],\r\n    [\r\n      \"###J%%%%%%J%%%%%%J###\",\r\n      \"#   %®®®®% #®®®®%   #\",\r\n      \"J   % ®®®% % ²®®%   J\",\r\n      \"#   # ²®®% %®®®®%   #\",\r\n      \"###J%%%%%%J%%%%%%J###\",\r\n    ],\r\n    [\r\n      \"###J######J######J###\",\r\n      \"#       ~#J#~  °.J..#\",\r\n      \"J             °°°..JJ\",\r\n      \"#               #J#.#\",\r\n      \"###J######J######J###\",\r\n    ],\r\n  ],\r\n  F: [\r\n    [\r\n      \"###J###\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"#     #\",\r\n      \"J     J\",\r\n      \"#     #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"JJJJJJJ\",\r\n      \"J     J\",\r\n      \"J     J\",\r\n      \"J.    J\",\r\n      \"J..   J\",\r\n      \"J ..  J\",\r\n      \"J  .. J\",\r\n      \"J   ..J\",\r\n      \"J    .#\",\r\n      \"J    ##\",\r\n      \"J   # #\",\r\n      \"J  #  #\",\r\n      \"J #   J\",\r\n      \"J~    #\",\r\n      \"###J###\",\r\n    ],\r\n    [\r\n      \"#JJJJJ#\",\r\n      \"#.....#\",\r\n      \"J     J\",\r\n      \"#.....#\",\r\n      \"#     #\",\r\n      \"#.....#\",\r\n      \"#     #\",\r\n      \"#     J\",\r\n      \"#     #\",\r\n      \"#.....#\",\r\n      \"#     #\",\r\n      \"#.....#\",\r\n      \"J     #\",\r\n      \"#     #\",\r\n      \"#######\",\r\n    ],\r\n    [\r\n      \"###J###\",\r\n      \"#~    #\",\r\n      \"J     J\",\r\n      \"#  # .#\",\r\n      \"#  # .#\",\r\n      \"#    .#\",\r\n      \"#    .#\",\r\n      \"J    .J\",\r\n      \"# # #.#\",\r\n      \"#    .#\",\r\n      \"# ###.J\",\r\n      \"J   #.J\",\r\n      \"J   #.J\",\r\n      \"J   #.J\",\r\n      \"JJJJ##J\",\r\n    ],\r\n    [\r\n      \"JJJJJJJ\",\r\n      \"J#### J\",\r\n      \"J#°°# J\",\r\n      \"J#°   J\",\r\n      \"J#### J\",\r\n      \"J     J\",\r\n      \"J ####J\",\r\n      \"J #°  J\",\r\n      \"J #°°#J\",\r\n      \"J ####J\",\r\n      \"J     J\",\r\n      \"J# ## J\",\r\n      \"J# °# J\",\r\n      \"J#°°# J\",\r\n      \"J####JJ\",\r\n    ],\r\n    [\r\n      \"###JJJJ\",\r\n      \"#     J\",\r\n      \"##    J\",\r\n      \"J#### #\",\r\n      \"J##   #\",\r\n      \"J#    #\",\r\n      \"##    #\",\r\n      \"J     J\",\r\n      \"#  ####\",\r\n      \"# ###JJ\",\r\n      \"#   #JJ\",\r\n      \"#   ###\",\r\n      \"J     J\",\r\n      \"J     #\",\r\n      \"JJJJ###\",\r\n    ],\r\n    [\r\n      \"JJJJ###\",\r\n      \"J  #  #\",\r\n      \"J #   J\",\r\n      \"# ### #\",\r\n      \"#...# #\",\r\n      \"#..#  #\",\r\n      \"###  ##\",\r\n      \"J   # J\",\r\n      \"#   # #\",\r\n      \"J#  # #\",\r\n      \"J # # #\",\r\n      \"### # #\",\r\n      \"J   # J\",\r\n      \"J    ##\",\r\n      \"JJJJJJJ\",\r\n    ],\r\n    [\r\n      \"%%%#%%%\",\r\n      \"%° ° °%\",\r\n      \"# ° ° #\",\r\n      \"%° ° °%\",\r\n      \"% ° ° %\",\r\n      \"%° ° °%\",\r\n      \"% ° ° %\",\r\n      \"#° ° °#\",\r\n      \"% ° ° %\",\r\n      \"%° ° °%\",\r\n      \"% ° ° %\",\r\n      \"%° ° °%\",\r\n      \"# ° ° #\",\r\n      \"%° ° °%\",\r\n      \"%%%#%%%\",\r\n    ],\r\n  ],\r\n  V: [[\"JJJJJJJ\", \"J     J\", \"J     J\", \"J     J\", \"JJJJJJJ\"]],\r\n  W: [\r\n    [\"JJJJJJJ\", \"J  ## J\", \"J  #. J\", \"J  .  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J.    J\", \"J...  J\", \"J.    J\", \"J.JJJJJ\"],\r\n    [\"JJ.JJJJ\", \"J   ..J\", \"J #   J\", \"J   #~#\", \"JJJJ###\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"J#JJJJJ\", \"J #   J\", \"J  ~  J\", \"J   # J\", \"JJJJJ#J\"],\r\n    [\"JJJJJJJ\", \"J# .  J\", \"J Ø   J\", \"J# #  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J%%%%%J\", \"J%®®®#J\", \"J%%%%#J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"####  J\", \"#     J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J ... J\", \"J. ² .J\", \"J.....J\", \"JJJJJJJ\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"J~~~~~J\", \"J   ~ J\", \"J  ~  J\", \"J ~   J\", \"J~~~~~J\"],\r\n    [\"#J#J#JJ\", \"#J°J  J\", \"J     J\", \"J  J°J#\", \"JJ#J#J#\"],\r\n    [\".......\", \". ..  .\", \". .   .\", \".     .\", \".......\"],\r\n    [\"JJJJJJJ\", \"J%.   J\", \"J..   J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"JJJJJJJ\", \"J   ° J\", \"J   ® J\", \"J °   J\", \"JJJJJJJ\"],\r\n    [\"JJJ¹JJJ\", \"¹     ¹\", \"J     J\", \"J     J\", \"J¹JJJ¹J\"],\r\n    [\".#JJJ#.\", \"##   ##\", \"J     J\", \"J     J\", \".JJJJJJ\"],\r\n    [\"JJJJJJJ\", \"###   J\", \"JJ    J\", \"#  ####\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J  ## J\", \"J  #. J\", \"J  .  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J.    J\", \"J...  J\", \"J.    J\", \"J.JJJJJ\"],\r\n    [\"JJ.JJJJ\", \"J   ..J\", \"J #   J\", \"J   #~#\", \"JJJJ###\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"####  J\", \"#     J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\".......\", \". ..  .\", \". .   .\", \".     .\", \".......\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\".#JJJ#.\", \"##   ##\", \"J     J\", \"J     J\", \".JJJJJJ\"],\r\n    [\"JJJJJJJ\", \"###   J\", \"JJ    J\", \"#  ####\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J  ## J\", \"J  #. J\", \"J  .  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J.    J\", \"J...  J\", \"J.    J\", \"J.JJJJJ\"],\r\n    [\"JJ.JJJJ\", \"J   ..J\", \"J #   J\", \"J   #~#\", \"JJJJ###\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"J#JJJJJ\", \"J #   J\", \"J  ~  J\", \"J   # J\", \"JJJJJ#J\"],\r\n    [\"JJJJJJJ\", \"J# .  J\", \"J Ø   J\", \"J# #  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J%%%%%J\", \"J%®®®#J\", \"J%%%%#J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"####  J\", \"#     J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J ... J\", \"J. ² .J\", \"J.....J\", \"JJJJJJJ\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"J~~~~~J\", \"J   ~ J\", \"J  ~  J\", \"J ~   J\", \"J~~~~~J\"],\r\n    [\"#J#J#JJ\", \"#J°J  J\", \"J     J\", \"J  J°J#\", \"JJ#J#J#\"],\r\n    [\".......\", \". ..  .\", \". .   .\", \".     .\", \".......\"],\r\n    [\"JJJJJJJ\", \"J%.   J\", \"J..   J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"JJJJJJJ\", \"J   ° J\", \"J   ® J\", \"J °   J\", \"JJJJJJJ\"],\r\n    [\"JJJ¹JJJ\", \"¹     ¹\", \"J     J\", \"J     J\", \"J¹JJJ¹J\"],\r\n    [\".#JJJ#.\", \"##   ##\", \"J     J\", \"J     J\", \".JJJJJJ\"],\r\n    [\"JJJJJJJ\", \"###   J\", \"JJ    J\", \"#  ####\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J  ## J\", \"J  #. J\", \"J  .  J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"J.    J\", \"J...  J\", \"J.    J\", \"J.JJJJJ\"],\r\n    [\"JJ.JJJJ\", \"J   ..J\", \"J #   J\", \"J   #~#\", \"JJJJ###\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"JJ####J\", \"J #   J\", \"J##   J\", \"J .   J\", \"JJ#JJJJ\"],\r\n    [\"JJJJJJJ\", \"J  .  J\", \"J  .. J\", \"J.. ..J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \".  ###J\", \".     J\", \".. J  J\", \"...J.JJ\"],\r\n    [\"JJ#JJJJ\", \"J #   J\", \"J # # J\", \"J.#.###\", \"JJJJJJJ\"],\r\n    [\"JJJJJ#.\", \"J#...##\", \"J.   .J\", \"J.   #J\", \"J#JJJJJ\"],\r\n    [\"J#JJJJJ\", \"J#    J\", \"J#    J\", \"J#.....\", \"JJJJJJJ\"],\r\n    [\"JJJJJ.J\", \"J     J\", \"J.    J\", \"..   #J\", \"J.JJJ.J\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"...JJJJ\", \"....  J\", \"..... J\", \"......J\", \".......\"],\r\n    [\"JJ..JJJ\", \"J#..# J\", \"J .# .J\", \"J   ..J\", \"JJJ####\"],\r\n    [\"##JJJJ#\", \"J ..  J\", \"J ..  J\", \"#    ##\", \"#JJJJ##\"],\r\n    [\"JJ#JJJJ\", \"J.... J\", \"J   . J\", \"J#    J\", \"JJJJJJJ\"],\r\n    [\"JJJJJJJ\", \"####  J\", \"#     J\", \"J     J\", \"JJJJJJJ\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\"#J#J#JJ\", \"#J J  J\", \"J    .J\", \"J  . ..\", \"JJ.....\"],\r\n    [\"J.....J\", \"J   . J\", \"J  .  J\", \"J .   J\", \"J.....J\"],\r\n    [\".......\", \". ..  .\", \". .   .\", \".     .\", \".......\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\"###JJJJ\", \"J ....J\", \"J .   J\", \"J .   #\", \"JJ.JJJ#\"],\r\n    [\"JJ...JJ\", \"... ...\", \"J ... J\", \"J  .  J\", \"J.....J\"],\r\n    [\".#JJJ#.\", \"##   ##\", \"J     J\", \"J     J\", \".JJJJJJ\"],\r\n    [\"JJJJJJJ\", \"###   J\", \"JJ    J\", \"#  ####\", \"JJJJJJJ\"],\r\n  ],\r\n};\r\n","import type { IStats } from \"./components\";\r\n\r\nexport function sqrt(n: number) {\r\n  return Math.floor(Math.sqrt(n));\r\n}\r\n\r\nexport function getMaxHP(stats: IStats) {\r\n  return 40 + stats.body * sqrt(stats.level);\r\n}\r\n\r\nexport function getHPRegenChance(stats: IStats) {\r\n  // roll 256 below this number\r\n  return sqrt(stats.body + stats.level);\r\n}\r\n\r\nexport function getHPRegenAmount(stats: IStats) {\r\n  return Math.max(1, sqrt(stats.body));\r\n}\r\n\r\nexport function getMaxStamina(stats: IStats) {\r\n  return stats.body;\r\n}\r\n\r\nexport const getStaminaRegenChance = getHPRegenChance;\r\n\r\nexport function getStaminaRegenAmount(stats: IStats) {\r\n  return Math.max(1, sqrt(getMaxStamina(stats)));\r\n}\r\n\r\nexport function getMaxMana(stats: IStats) {\r\n  return stats.mind;\r\n}\r\n\r\nexport function getManaRegenChance(stats: IStats) {\r\n  // roll 256 below this number\r\n  return sqrt(stats.mind + stats.level);\r\n}\r\n\r\nexport function getManaRegenAmount(stats: IStats) {\r\n  return Math.max(1, sqrt(getMaxMana(stats)));\r\n}\r\n\r\nexport function getHitChance(attacker: IStats, target: IStats) {\r\n  /*\r\n  rng 256 < 224 + attack's acc modifier + attacker's eq/status acc mods\r\n              - opponent's eq/status def mods\r\n              - opponent's spirit\r\n  */\r\n\r\n  // TODO\r\n  const accuracy = 0;\r\n  const defence = 0;\r\n\r\n  return 224 + accuracy - defence - target.spirit;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport function getHitDamage(attacker: IStats, target: IStats) {\r\n  /*\r\n  weapon's base damage +\r\n  rng attack's damage + square root of body + attacker's eq/status dam mods\r\n                      - opponent's eq/status dam reduction mods\r\n  */\r\n\r\n  // TODO\r\n  const weapon = 0;\r\n  const damage = 0;\r\n  const reduction = 0;\r\n\r\n  return weapon + damage + sqrt(attacker.body) - reduction;\r\n}\r\n\r\nexport function getAllTheStats(me: IStats, them: IStats) {\r\n  return {\r\n    MaxHP: getMaxHP(me),\r\n    HPRegenChance: getHPRegenChance(me),\r\n    HPRegenAmount: getHPRegenAmount(me),\r\n    MaxStamina: getMaxStamina(me),\r\n    StaminaRegenChance: getStaminaRegenChance(me),\r\n    StaminaRegenAmount: getStaminaRegenAmount(me),\r\n    MaxMana: getMaxMana(me),\r\n    ManaRegenChance: getManaRegenChance(me),\r\n    ManaRegenAmount: getManaRegenAmount(me),\r\n    HitChance: getHitChance(me, them),\r\n    HitDamage: getHitDamage(me, them),\r\n  };\r\n}\r\n","import Grid from \"./Grid\";\r\nimport type Tile from \"./Tile\";\r\n\r\nexport default class GameMap extends Grid<Tile> {\r\n  isBlocked(x: number, y: number) {\r\n    if (!this.contains(x, y)) return true;\r\n    return this.get(x, y).blocks;\r\n  }\r\n}\r\n","export default class Grid<T> {\r\n  private cells: T[][];\r\n\r\n  constructor(\r\n    public width: number,\r\n    public height: number,\r\n    fn: (x: number, y: number) => T,\r\n  ) {\r\n    const rows: T[][] = [];\r\n\r\n    for (let y = 0; y < height; y++) {\r\n      const row: T[] = [];\r\n\r\n      for (let x = 0; x < width; x++) row.push(fn(x, y));\r\n      rows.push(row);\r\n    }\r\n\r\n    this.cells = rows;\r\n  }\r\n\r\n  contains(x: number, y: number) {\r\n    return x >= 0 && x < this.width && y >= 0 && y < this.height;\r\n  }\r\n\r\n  get(x: number, y: number) {\r\n    return this.cells[y][x];\r\n  }\r\n\r\n  set(x: number, y: number, cell: T) {\r\n    this.cells[y][x] = cell;\r\n  }\r\n\r\n  paste(sx: number, sy: number, grid: Grid<T>) {\r\n    for (let x = 0; x < grid.width; x++) {\r\n      for (let y = 0; y < grid.height; y++) {\r\n        this.set(sx + x, sy + y, grid.get(x, y));\r\n      }\r\n    }\r\n  }\r\n\r\n  setHLine(x1: number, x2: number, y: number, fn: (x: number, y: number) => T) {\r\n    for (let x = x1; x <= x2; x++) this.cells[y][x] = fn(x, y);\r\n  }\r\n\r\n  setVLine(x: number, y1: number, y2: number, fn: (x: number, y: number) => T) {\r\n    for (let y = y1; y <= y2; y++) this.cells[y][x] = fn(x, y);\r\n  }\r\n\r\n  carve(x: number, y: number, w: number, h: number, border: T, inside: T) {\r\n    for (let i = 0; i < w; i++) {\r\n      const iBorder = i === 0 || i === w - 1;\r\n\r\n      for (let j = 0; j < h; j++) {\r\n        const jBorder = j === 0 || j === h - 1;\r\n\r\n        this.set(x + i, y + j, iBorder || jBorder ? border : inside);\r\n      }\r\n    }\r\n  }\r\n\r\n  expand(x: number, y: number, fn: (x: number, y: number) => T) {\r\n    return new Grid<T>(this.width + x, this.height + y, fn);\r\n  }\r\n\r\n  flipH() {\r\n    const w = this.width - 1;\r\n    return new Grid<T>(this.width, this.height, (x, y) => this.get(w - x, y));\r\n  }\r\n\r\n  flipV() {\r\n    const h = this.height - 1;\r\n    return new Grid<T>(this.width, this.height, (x, y) => this.get(x, h - y));\r\n  }\r\n\r\n  toString(fn: (cell: T, x: number, y: number) => string) {\r\n    let grid = \"\";\r\n    for (let y = 0; y < this.height; y++) {\r\n      for (let x = 0; x < this.width; x++) {\r\n        grid += fn(this.get(x, y), x, y);\r\n      }\r\n      grid += \"\\n\";\r\n    }\r\n\r\n    return grid;\r\n  }\r\n\r\n  forEach(fn: (cell: T, x: number, y: number) => void) {\r\n    for (let y = 0; y < this.height; y++) {\r\n      for (let x = 0; x < this.width; x++) {\r\n        fn(this.get(x, y), x, y);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import ecs from \"./ecs\";\r\n\r\nexport interface IAI {\r\n  aggressiveness: number;\r\n}\r\n\r\nexport interface IAppearance {\r\n  colour: number;\r\n  glyph: number;\r\n}\r\n\r\nexport interface IPosition {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface IStats {\r\n  level: number;\r\n  body: number;\r\n  mind: number;\r\n  spirit: number;\r\n  talent: number;\r\n  hp: number;\r\n  mana: number;\r\n  stamina: number;\r\n}\r\n\r\nexport const AI = ecs.register<IAI>(\"AI\");\r\nexport const Appearance = ecs.register<IAppearance>(\"Appearance\");\r\nexport const Position = ecs.register<IPosition>(\"Position\");\r\nexport const Stats = ecs.register<IStats>(\"Stats\");\r\n\r\nexport const PlayerTag = ecs.register<never>(\"PlayerTag\");\r\n","import { diff } from \"deep-object-diff\";\r\nimport merge from \"lodash.merge\";\r\nimport { nanoid } from \"nanoid/non-secure\";\r\n\r\nexport class Component<T> {\r\n  private data: Record<string, T>;\r\n\r\n  constructor(public name: string) {\r\n    this.data = {};\r\n  }\r\n\r\n  add(en: BaseEntity, data: T) {\r\n    this.data[en.id] = data;\r\n  }\r\n\r\n  remove(en: BaseEntity) {\r\n    delete this.data[en.id];\r\n  }\r\n\r\n  get(en: BaseEntity) {\r\n    return this.data[en.id];\r\n  }\r\n}\r\n\r\nabstract class BaseEntity {\r\n  protected components: Set<Component<unknown>>;\r\n  protected prefabs: string[];\r\n\r\n  constructor(\r\n    protected ecs: Manager,\r\n    public id: string,\r\n    ...prefabs: readonly Prefab[]\r\n  ) {\r\n    this.components = new Set<Component<unknown>>();\r\n\r\n    this.prefabs = [];\r\n    for (const pf of prefabs) {\r\n      const pfd = pf.data();\r\n      for (const name in pfd) {\r\n        this.add(ecs.getComponent(name), pfd[name]);\r\n      }\r\n\r\n      this.prefabs.push(pf.id);\r\n    }\r\n  }\r\n\r\n  add<T>(component: Component<T>, data: T) {\r\n    this.components.add(component);\r\n    component.add(this, merge({}, data));\r\n\r\n    // TODO: debugging only\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (this as any)[component.name] = component.get(this);\r\n\r\n    return this;\r\n  }\r\n\r\n  get<T>(component: Component<T>): T {\r\n    return component.get(this);\r\n  }\r\n\r\n  has<T>(component: Component<T>) {\r\n    return this.components.has(component);\r\n  }\r\n\r\n  remove<T>(component: Component<T>) {\r\n    this.components.delete(component);\r\n    component.remove(this);\r\n\r\n    // TODO: debugging only\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    delete (this as any)[component.name];\r\n  }\r\n\r\n  data() {\r\n    const data: Record<string, unknown> = {};\r\n    for (const co of this.components) data[co.name] = co.get(this);\r\n\r\n    return data;\r\n  }\r\n\r\n  diffData() {\r\n    return diff(this.prefabData(), this.data());\r\n  }\r\n\r\n  prefabNames() {\r\n    return this.prefabs;\r\n  }\r\n\r\n  prefabData() {\r\n    return merge(\r\n      {},\r\n      ...this.prefabs.map((name) => this.ecs.getPrefab(name).data()),\r\n    );\r\n  }\r\n}\r\n\r\nexport class Entity extends BaseEntity {\r\n  private destroyed: boolean;\r\n\r\n  constructor(ecs: Manager, id: string, ...prefabs: readonly Prefab[]) {\r\n    super(ecs, id, ...prefabs);\r\n    this.destroyed = false;\r\n  }\r\n\r\n  add<T>(component: Component<T>, data: T) {\r\n    super.add(component, data);\r\n    this.ecs.update(this);\r\n\r\n    return this;\r\n  }\r\n\r\n  remove<T>(component: Component<T>) {\r\n    super.remove(component);\r\n    this.ecs.update(this);\r\n  }\r\n\r\n  destroy() {\r\n    if (!this.destroyed) {\r\n      for (const co of this.components) co.remove(this);\r\n\r\n      this.ecs.remove(this);\r\n      this.destroyed = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Prefab extends BaseEntity {}\r\n\r\nexport class Manager {\r\n  private components: Record<string, Component<unknown>>;\r\n  private entities: Map<string, Entity>;\r\n  private idGenerator: () => string;\r\n  private prefabs: Record<string, Prefab>;\r\n  private queries: Query[];\r\n\r\n  constructor() {\r\n    this.components = {};\r\n    this.entities = new Map<string, Entity>();\r\n    this.idGenerator = () => nanoid();\r\n    this.prefabs = {};\r\n    this.queries = [];\r\n  }\r\n\r\n  clear() {\r\n    const remove = this.remove.bind(this);\r\n    this.entities.forEach(remove);\r\n  }\r\n\r\n  register<T>(name: string): Component<T> {\r\n    const comp = new Component<T>(name);\r\n    this.components[name] = comp;\r\n\r\n    return comp;\r\n  }\r\n\r\n  getEntity(id: string) {\r\n    return this.entities.get(id);\r\n  }\r\n\r\n  getComponent<T>(name: string): Component<T> {\r\n    const co = this.components[name];\r\n    if (!co) throw `Unknown component: ${name}`;\r\n\r\n    return co as Component<T>;\r\n  }\r\n\r\n  nextId() {\r\n    return this.idGenerator();\r\n  }\r\n\r\n  entity(...prefabs: readonly string[]): Entity {\r\n    const id = this.nextId();\r\n    const en = new Entity(\r\n      this,\r\n      id,\r\n      ...prefabs.map((name) => this.getPrefab(name)),\r\n    );\r\n    return this.attach(en);\r\n  }\r\n\r\n  prefab(name: string, ...prefabs: readonly Prefab[]): Prefab {\r\n    const pf = new Prefab(this, name, ...prefabs);\r\n    this.prefabs[name] = pf;\r\n    return pf;\r\n  }\r\n\r\n  getPrefab(name: string): Prefab {\r\n    const pf = this.prefabs[name];\r\n    if (!pf) throw `Unknown prefab: ${name}`;\r\n\r\n    return pf;\r\n  }\r\n\r\n  attach(en: Entity): Entity {\r\n    this.entities.set(en.id, en);\r\n    for (const q of this.queries) q.add(en);\r\n    return en;\r\n  }\r\n\r\n  update(en: Entity) {\r\n    for (const q of this.queries) q.add(en);\r\n  }\r\n\r\n  remove(en: Entity) {\r\n    for (const q of this.queries) q.remove(en);\r\n    this.entities.delete(en.id);\r\n  }\r\n\r\n  query(\r\n    {\r\n      all,\r\n      any,\r\n      none,\r\n    }: {\r\n      all?: readonly Component<unknown>[];\r\n      any?: readonly Component<unknown>[];\r\n      none?: readonly Component<unknown>[];\r\n    } = {},\r\n    save = true,\r\n  ) {\r\n    const matchAll = all\r\n      ? (en: Entity) => all.every((comp) => en.has(comp))\r\n      : () => true;\r\n\r\n    const matchAny = any\r\n      ? (en: Entity) => any.some((comp) => en.has(comp))\r\n      : () => true;\r\n\r\n    const matchNone = none\r\n      ? (en: Entity) => !none.some((comp) => en.has(comp))\r\n      : () => true;\r\n\r\n    const query = new Query(\r\n      Array.from(this.entities.values()),\r\n      (en) => matchAny(en) && matchAll(en) && matchNone(en),\r\n    );\r\n\r\n    if (save) this.queries.push(query);\r\n    return query;\r\n  }\r\n\r\n  find(\r\n    options: {\r\n      all?: readonly Component<unknown>[];\r\n      any?: readonly Component<unknown>[];\r\n      none?: readonly Component<unknown>[];\r\n    } = {},\r\n  ) {\r\n    return this.query(options, false).get();\r\n  }\r\n}\r\n\r\nexport class Query {\r\n  private entities: Set<Entity>;\r\n\r\n  constructor(\r\n    initial: readonly Entity[],\r\n    public match: (en: Entity) => boolean,\r\n  ) {\r\n    this.entities = new Set(initial.filter(match));\r\n  }\r\n\r\n  add(en: Entity) {\r\n    if (this.match(en)) this.entities.add(en);\r\n    else this.entities.delete(en);\r\n  }\r\n\r\n  remove(en: Entity) {\r\n    this.entities.delete(en);\r\n  }\r\n\r\n  get() {\r\n    return Array.from(this.entities);\r\n  }\r\n}\r\n\r\nconst ecs = new Manager();\r\nexport default ecs;\r\n\r\n// TODO: debugging only\r\nwindow.ecs = ecs;\r\n","import diff from './diff.js';\nimport addedDiff from './added.js';\nimport deletedDiff from './deleted.js';\nimport updatedDiff from './updated.js';\nimport detailedDiff from './detailed.js';\n\nexport {\n  addedDiff,\n  diff,\n  deletedDiff,\n  updatedDiff,\n  detailedDiff\n};\n","import { isDate, isEmptyObject, isObject, hasOwnProperty, makeObjectWithoutPrototype } from './utils.js';\n\nconst diff = (lhs, rhs) => {\n  if (lhs === rhs) return {}; // equal return no diff\n\n  if (!isObject(lhs) || !isObject(rhs)) return rhs; // return updated rhs\n\n  const deletedValues = Object.keys(lhs).reduce((acc, key) => {\n    if (!hasOwnProperty(rhs, key)) {\n      acc[key] = undefined;\n      \n    }\n\n    return acc;\n  }, makeObjectWithoutPrototype());\n\n  if (isDate(lhs) || isDate(rhs)) {\n    if (lhs.valueOf() == rhs.valueOf()) return {};\n    return rhs;\n  }\n\n  return Object.keys(rhs).reduce((acc, key) => {\n    if (!hasOwnProperty(lhs, key)){\n      acc[key] = rhs[key]; // return added r key\n      return acc;\n    } \n\n    const difference = diff(lhs[key], rhs[key]);\n\n    // If the difference is empty, and the lhs is an empty object or the rhs is not an empty object\n    if (isEmptyObject(difference) && !isDate(difference) && (isEmptyObject(lhs[key]) || !isEmptyObject(rhs[key])))\n      return acc; // return no diff\n\n    acc[key] = difference // return updated key\n    return acc; // return updated key\n  }, deletedValues);\n};\n\nexport default diff;\n","export const isDate = d => d instanceof Date;\nexport const isEmpty = o => Object.keys(o).length === 0;\nexport const isObject = o => o != null && typeof o === 'object';\nexport const hasOwnProperty = (o, ...args) => Object.prototype.hasOwnProperty.call(o, ...args)\nexport const isEmptyObject = (o) => isObject(o) && isEmpty(o);\nexport const makeObjectWithoutPrototype = () => Object.create(null);\n","import { isEmpty, isObject, hasOwnProperty, makeObjectWithoutPrototype } from './utils.js';\n\nconst addedDiff = (lhs, rhs) => {\n\n  if (lhs === rhs || !isObject(lhs) || !isObject(rhs)) return {};\n\n\n  return Object.keys(rhs).reduce((acc, key) => {\n    if (hasOwnProperty(lhs, key)) {\n      const difference = addedDiff(lhs[key], rhs[key]);\n\n      if (isObject(difference) && isEmpty(difference)) return acc;\n\n      acc[key] = difference;\n      return acc;\n    }\n\n    acc[key] = rhs[key];\n    return acc;\n  }, makeObjectWithoutPrototype());\n};\n\nexport default addedDiff;\n","import { isEmpty, isObject, hasOwnProperty, makeObjectWithoutPrototype } from './utils.js';\n\nconst deletedDiff = (lhs, rhs) => {\n  if (lhs === rhs || !isObject(lhs) || !isObject(rhs)) return {};\n\n  return Object.keys(lhs).reduce((acc, key) => {\n    if (hasOwnProperty(rhs, key)) {\n      const difference = deletedDiff(lhs[key], rhs[key]);\n\n      if (isObject(difference) && isEmpty(difference)) return acc;\n\n      acc[key] = difference;\n      return acc;\n    }\n\n    acc[key] = undefined;\n    return acc;\n  }, makeObjectWithoutPrototype());\n};\n\nexport default deletedDiff;\n","import { isDate, isEmptyObject, isObject, hasOwnProperty, makeObjectWithoutPrototype } from './utils.js';\n\nconst updatedDiff = (lhs, rhs) => {\n  if (lhs === rhs) return {};\n\n  if (!isObject(lhs) || !isObject(rhs)) return rhs;\n\n  if (isDate(lhs) || isDate(rhs)) {\n    if (lhs.valueOf() == rhs.valueOf()) return {};\n    return rhs;\n  }\n\n  return Object.keys(rhs).reduce((acc, key) => {\n    if (hasOwnProperty(lhs, key)) {\n      const difference = updatedDiff(lhs[key], rhs[key]);\n\n      // If the difference is empty, and the lhs is an empty object or the rhs is not an empty object\n      if (isEmptyObject(difference) && !isDate(difference) && (isEmptyObject(lhs[key]) || !isEmptyObject(rhs[key])))\n        return acc; // return no diff\n\n      acc[key] = difference;\n      return acc;\n    }\n\n    return acc;\n  }, makeObjectWithoutPrototype());\n};\n\nexport default updatedDiff;\n","import addedDiff from './added.js';\nimport deletedDiff from './deleted.js';\nimport updatedDiff from './updated.js';\n\nconst detailedDiff = (lhs, rhs) => ({\n  added: addedDiff(lhs, rhs),\n  deleted: deletedDiff(lhs, rhs),\n  updated: updatedDiff(lhs, rhs),\n});\n\nexport default detailedDiff;\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n","import { DocumentParser } from \"@lagdotcom/boring-parser\";\r\nimport * as categoryFiles from \"bundle-text:../res/*.category\";\r\nimport * as monsterFiles from \"bundle-text:../res/*.monster\";\r\nimport paletteData from \"bundle-text:../res/colours.palette\";\r\n\r\nimport MonsterCategoryParser from \"./parsers/MonsterCategoryParser\";\r\nimport MonsterParser from \"./parsers/MonsterParser\";\r\nimport PaletteParser from \"./parsers/PaletteParser\";\r\nimport ResourceError from \"./ResourceError\";\r\n\r\nfunction loadAll<T>(\r\n  parser: DocumentParser<T>,\r\n  files: Record<string, string>,\r\n  ext = \"\",\r\n): T[] {\r\n  const objects: T[] = [];\r\n  for (const name in files) {\r\n    const text = files[name];\r\n    try {\r\n      objects.push(...parser.parse(text));\r\n    } catch (e) {\r\n      throw new ResourceError(name + ext, e);\r\n    }\r\n  }\r\n\r\n  return objects;\r\n}\r\n\r\nexport function loadAllCategories() {\r\n  return loadAll(new MonsterCategoryParser(), categoryFiles, \".category\");\r\n}\r\n\r\nexport function loadAllMonsters() {\r\n  return loadAll(new MonsterParser(), monsterFiles, \".monster\");\r\n}\r\n\r\nexport function loadPalette() {\r\n  const p = new PaletteParser();\r\n  return p.apply(paletteData, {});\r\n}\r\n","const _temp0 = require(\"bundle-text:../res/awf.monster\");\nmodule.exports = {\n  \"awf\": _temp0\n}","module.exports = \"31ec4bb265fa97d8\";","module.exports = \"3556740a3dd62eef\";","module.exports = \"07642f11c5999b5b\";","import {\r\n  DocumentParser,\r\n  StringParser,\r\n  TagParser,\r\n} from \"@lagdotcom/boring-parser\";\r\n\r\nimport type { MonsterCategory } from \"../types\";\r\nimport AttackParser from \"./AttackParser\";\r\nimport DropParser from \"./DropParser\";\r\nimport StatusParser from \"./StatusParser\";\r\n\r\nexport default class MonsterCategoryParser extends DocumentParser<MonsterCategory> {\r\n  constructor() {\r\n    super({\r\n      logo: new StringParser(),\r\n      name: new StringParser(),\r\n      desc: new StringParser(),\r\n      die: new StringParser(),\r\n      drop: new DropParser(),\r\n      tags: new TagParser(),\r\n      status: new StatusParser(),\r\n      attack: new AttackParser(),\r\n    });\r\n  }\r\n\r\n  blank(): MonsterCategory {\r\n    return {\r\n      logo: \"?\",\r\n      name: \"\",\r\n      desc: \"\",\r\n      die: \"\",\r\n      drop: {},\r\n      tags: [],\r\n      status: [],\r\n      attack: [],\r\n    };\r\n  }\r\n}\r\n","import DocumentParser from \"./src/DocumentParser\";\nimport IntParser from \"./src/IntParser\";\nimport NumberParser from \"./src/NumberParser\";\nimport ParseError from \"./src/ParseError\";\nimport Parser from \"./src/Parser\";\nimport StringParser from \"./src/StringParser\";\nimport TagParser from \"./src/TagParser\";\n\nexport * from \"./src/utils\";\n\nexport {\n  DocumentParser,\n  IntParser,\n  NumberParser,\n  ParseError,\n  Parser,\n  StringParser,\n  TagParser,\n};\n","import ParseError from \"./ParseError\";\nimport Parser from \"./Parser\";\n\ntype ParserRecord<T> = { [K in keyof T]: Parser<T[K]> };\n\nexport default abstract class DocumentParser<T> {\n  constructor(protected parsers: ParserRecord<T>) {}\n\n  abstract blank(): T;\n\n  parse(source: string): T[] {\n    const documents: T[] = [];\n\n    let current: T | undefined = undefined;\n    let index = 0;\n    for (const raw of source.trim().replace(/\\r/g, \"\").split(\"\\n\")) {\n      index++;\n      const line = raw.trim();\n      if (!line) {\n        if (current) documents.push(current);\n        current = undefined;\n        continue;\n      }\n\n      const i = line.indexOf(\":\");\n      if (i < 0) throw new ParseError(\"missing colon\", index);\n      const field = line.substring(0, i).toLowerCase() as keyof T;\n      const value = line.substring(i + 1);\n\n      if (!current) current = this.blank();\n      if (!this.parsers[field])\n        throw new ParseError(`invalid field: ${field}`, index);\n\n      const p = this.parsers[field];\n      if (!p.check(value))\n        throw new ParseError(`invalid value for ${field}: ${value}`, index);\n\n      try {\n        current[field] = p.apply(value, current[field]);\n      } catch (e: unknown) {\n        throw new ParseError((e as Error).message, index);\n      }\n    }\n\n    if (current) documents.push(current);\n    return documents;\n  }\n}\n","export default class ParseError extends Error {\n  constructor(message: string, public line: number) {\n    super(`(line ${line}) ${message}`);\n  }\n}\n","import Parser from \"./Parser\";\nimport { int, isString } from \"./utils\";\n\nconst pattern = /^(0|[1-9][0-9]*)$/;\n\nexport default class IntParser implements Parser<number> {\n  check(input: string) {\n    return isString(input) && pattern.test(input.trim());\n  }\n\n  apply(input: string) {\n    return int(input.trim());\n  }\n}\n","export function split(input: string, sep = \",\"): string[] {\n  return input.split(sep).map((x) => x.trim());\n}\n\nexport function isString(input?: unknown): input is string {\n  return typeof input === \"string\" && input.length > 0;\n}\n\nexport function int(input: string): number {\n  return parseInt(input, 10);\n}\n","import Parser from \"./Parser\";\nimport { isString } from \"./utils\";\n\nconst pattern = /^(0|[1-9][0-9]*)(\\.[0-9]+)?$/;\n\nexport default class NumberParser implements Parser<number> {\n  check(input: string) {\n    return isString(input) && pattern.test(input.trim());\n  }\n\n  apply(input: string) {\n    return parseFloat(input.trim());\n  }\n}\n","export default interface Parser<T> {\n  check(input: string): boolean;\n  apply(input: string, previous: T): T;\n}\n","import Parser from \"./Parser\";\n\nexport default class StringParser implements Parser<string> {\n  check() {\n    return true;\n  }\n\n  apply(input: string) {\n    return input.trim();\n  }\n}\n","import Parser from \"./Parser\";\nimport { split } from \"./utils\";\n\nexport default class TagParser implements Parser<string[]> {\n  check(input: string) {\n    return input.trim().length > 0;\n  }\n\n  apply(input: string, previous: string[]) {\n    const tags = split(input.trim());\n    let list = previous;\n    tags.forEach((tag) => {\n      if (!list.includes(tag)) list = list.concat(tag);\n    });\n\n    return tags;\n  }\n}\n","import { int, isString, type Parser, split } from \"@lagdotcom/boring-parser\";\r\n\r\nimport type { Attack, AttackEffect } from \"../types\";\r\nimport { isNumber } from \"./tools\";\r\n\r\ninterface AttackEffectParser extends Parser<AttackEffect[]> {\r\n  length: number;\r\n}\r\n\r\nclass AddParser implements AttackEffectParser {\r\n  constructor(public length = 4) {}\r\n\r\n  check(input: string): boolean {\r\n    const [effect, power, save, difficulty] = split(input);\r\n    return (\r\n      isString(effect) &&\r\n      effect.startsWith(\"ADD:\") &&\r\n      isNumber(power) &&\r\n      isString(save) &&\r\n      isNumber(difficulty)\r\n    );\r\n  }\r\n\r\n  apply(input: string, previous: AttackEffect[]): AttackEffect[] {\r\n    const [effect, power, save, difficulty] = split(input);\r\n    return previous.concat({\r\n      type: \"ADD\",\r\n      name: effect.substring(4),\r\n      power: int(power),\r\n      save,\r\n      difficulty: int(difficulty),\r\n    });\r\n  }\r\n}\r\n\r\nclass DamageParser implements AttackEffectParser {\r\n  constructor(public length = 1) {}\r\n\r\n  check(input: string): boolean {\r\n    const [tag, amount] = split(input, \":\");\r\n    return tag === \"DAMAGE\" && isNumber(amount);\r\n  }\r\n\r\n  apply(input: string, previous: AttackEffect[]): AttackEffect[] {\r\n    const [, amount] = split(input, \":\");\r\n    return previous.concat({ type: \"DAMAGE\", amount: int(amount) });\r\n  }\r\n}\r\n\r\nclass DoubleDamageParser implements AttackEffectParser {\r\n  constructor(public length = 1) {}\r\n\r\n  check(input: string): boolean {\r\n    const [tag, criterion] = split(input, \":\");\r\n    return tag === \"DOUBLE_DAMAGE\" && isString(criterion);\r\n  }\r\n\r\n  apply(input: string, previous: AttackEffect[]): AttackEffect[] {\r\n    const [, criterion] = split(input, \":\");\r\n    return previous.concat({ type: \"DOUBLE_DAMAGE\", criterion });\r\n  }\r\n}\r\n\r\nclass KnockbackParser implements AttackEffectParser {\r\n  constructor(public length = 1) {}\r\n\r\n  check(input: string): boolean {\r\n    return input === \"KNOCKBACK\";\r\n  }\r\n\r\n  apply(input: string, previous: AttackEffect[]): AttackEffect[] {\r\n    return previous.concat({ type: \"KNOCKBACK\" });\r\n  }\r\n}\r\n\r\nconst effectParsers: AttackEffectParser[] = [\r\n  new AddParser(),\r\n  new DamageParser(),\r\n  new DoubleDamageParser(),\r\n  new KnockbackParser(),\r\n];\r\n\r\nexport default class AttackParser implements Parser<Attack[]> {\r\n  check(input: string): boolean {\r\n    const [name, hp, sp, mp] = split(input);\r\n    return isString(name) && isNumber(hp) && isNumber(sp) && isNumber(mp);\r\n  }\r\n\r\n  apply(input: string, previous: Attack[]): Attack[] {\r\n    const [name, hp, sp, mp, ...effects] = split(input);\r\n    const attack: Attack = {\r\n      name,\r\n      hp: int(hp),\r\n      sp: int(sp),\r\n      mp: int(mp),\r\n      effects: [],\r\n    };\r\n\r\n    let rest = effects.slice();\r\n    while (rest.length > 0) {\r\n      const ep = effectParsers.find((ep) => {\r\n        if (ep.length > rest.length) return false;\r\n        const sub = rest.slice(0, rest.length).join(\",\");\r\n        return ep.check(sub);\r\n      });\r\n\r\n      if (!ep) throw new Error(`unknown attack effect: ${rest[0]}`);\r\n\r\n      const sub = rest.slice(0, ep.length).join(\",\");\r\n      attack.effects = ep.apply(sub, attack.effects);\r\n\r\n      rest = rest.slice(ep.length);\r\n    }\r\n\r\n    return previous.concat(attack);\r\n  }\r\n}\r\n","export function isNumber(s: string) {\r\n  return !isNaN(parseInt(s, 10));\r\n}\r\n","import { int, type Parser, split } from \"@lagdotcom/boring-parser\";\r\n\r\nimport { isNumber } from \"./tools\";\r\n\r\ntype Drops = Record<string, number>;\r\n\r\nexport default class DropParser implements Parser<Drops> {\r\n  check(input: string): boolean {\r\n    const parts = split(input);\r\n    if (parts.length % 2) return false;\r\n\r\n    for (let i = 0; i < parts.length; i += 2) {\r\n      // const tag = parts[i];\r\n      const chance = parts[i + 1];\r\n\r\n      if (!isNumber(chance)) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  apply(input: string, previous: Drops): Drops {\r\n    const drops: Drops = {};\r\n    const parts = split(input);\r\n    for (let i = 0; i < parts.length; i += 2) {\r\n      const tag = parts[i];\r\n      const chance = parts[i + 1];\r\n\r\n      drops[tag] = int(chance);\r\n    }\r\n\r\n    return { ...previous, ...drops };\r\n  }\r\n}\r\n","import { int, isString, type Parser, split } from \"@lagdotcom/boring-parser\";\r\n\r\nimport type { Status } from \"../types\";\r\nimport { isNumber } from \"./tools\";\r\n\r\nexport default class StatusParser implements Parser<Status[]> {\r\n  check(input: string): boolean {\r\n    const [name, power] = split(input);\r\n    return isString(name) && isNumber(power);\r\n  }\r\n\r\n  apply(input: string, previous: Status[]): Status[] {\r\n    const [name, power] = split(input);\r\n    return previous.concat({ name, power: int(power) });\r\n  }\r\n}\r\n","import {\r\n  DocumentParser,\r\n  IntParser,\r\n  StringParser,\r\n  TagParser,\r\n} from \"@lagdotcom/boring-parser\";\r\n\r\nimport type { Monster } from \"../types\";\r\nimport AttackParser from \"./AttackParser\";\r\nimport AttsParser from \"./AttsParser\";\r\nimport StatusParser from \"./StatusParser\";\r\n\r\nexport default class MonsterParser extends DocumentParser<Monster> {\r\n  constructor() {\r\n    super({\r\n      id: new StringParser(),\r\n      cat: new StringParser(),\r\n      col: new StringParser(),\r\n      name: new StringParser(),\r\n      hname: new StringParser(),\r\n      desc: new StringParser(),\r\n      die: new StringParser(),\r\n      level: new IntParser(),\r\n      atts: new AttsParser(),\r\n      wake: new IntParser(),\r\n      idealrange: new IntParser(),\r\n      tags: new TagParser(),\r\n      status: new StatusParser(),\r\n      attack: new AttackParser(),\r\n      weapon: new StringParser(),\r\n    });\r\n  }\r\n\r\n  blank(): Monster {\r\n    return {\r\n      cat: \"?\",\r\n      col: \"\",\r\n      name: \"\",\r\n      desc: \"\",\r\n      level: 0,\r\n      atts: [0, 0, 0],\r\n      tags: [],\r\n      status: [],\r\n      attack: [],\r\n    };\r\n  }\r\n}\r\n","import { int, type Parser, split } from \"@lagdotcom/boring-parser\";\r\n\r\nimport type { Atts } from \"../types\";\r\nimport { isNumber } from \"./tools\";\r\n\r\nexport default class AttsParser implements Parser<Atts> {\r\n  check(input: string): boolean {\r\n    const [hp, sp, mp] = split(input);\r\n    return isNumber(hp) && isNumber(sp) && isNumber(mp);\r\n  }\r\n\r\n  apply(input: string): Atts {\r\n    const [hp, sp, mp] = split(input);\r\n    return [int(hp), int(sp), int(mp)];\r\n  }\r\n}\r\n","import { int, type Parser } from \"@lagdotcom/boring-parser\";\r\nimport { fromRgb } from \"wglt\";\r\n\r\nimport type { Palette } from \"../types\";\r\n\r\nconst pattern = /^([A-Za-z ]+):\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*$/gm;\r\n\r\nexport default class PaletteParser implements Parser<Palette> {\r\n  check(input: string): boolean {\r\n    return pattern.test(input);\r\n  }\r\n  apply(input: string, previous: Palette): Palette {\r\n    return {\r\n      ...previous,\r\n      ...Object.fromEntries(\r\n        Array.from(input.matchAll(pattern)).map(([, name, r, g, b]) => [\r\n          name,\r\n          fromRgb(int(r), int(g), int(b)),\r\n        ]),\r\n      ),\r\n    };\r\n  }\r\n}\r\n","import { ParseError } from \"@lagdotcom/boring-parser\";\r\n\r\nexport default class ResourceError extends Error {\r\n  constructor(\r\n    public filename: string,\r\n    child: unknown,\r\n  ) {\r\n    super(`[${filename}]`);\r\n\r\n    if (child instanceof ParseError) {\r\n      this.message += ` ${child.message}`;\r\n    }\r\n  }\r\n}\r\n","import { fromRgb } from \"wglt\";\r\n\r\nimport { Appearance, Position } from \"../components\";\r\nimport type { Query } from \"../ecs\";\r\nimport type Game from \"../Game\";\r\n\r\nconst darken = (c: number, mul = 0.25) => {\r\n  const b = (c >> 8) & 255;\r\n  const g = (c >> 16) & 255;\r\n  const r = (c >> 24) & 255;\r\n\r\n  return fromRgb(Math.floor(r * mul), Math.floor(g * mul), Math.floor(b * mul));\r\n};\r\n\r\nexport default class DrawScreen {\r\n  dirty: boolean;\r\n  drawable: Query;\r\n\r\n  constructor(public g: Game) {\r\n    this.dirty = true;\r\n    this.drawable = g.ecs.query({ all: [Appearance, Position] });\r\n\r\n    const redraw = () => (this.dirty = true);\r\n    g.on(\"move\", redraw);\r\n    g.on(\"scroll\", redraw);\r\n  }\r\n\r\n  process() {\r\n    if (!this.dirty) return;\r\n\r\n    const { map, scrollX, scrollY, term } = this.g;\r\n\r\n    term.clear();\r\n    for (let yo = 0; yo < term.height; yo++) {\r\n      const y = yo + scrollY;\r\n      for (let xo = 0; xo < term.width; xo++) {\r\n        const x = xo + scrollX;\r\n\r\n        const c = term.getCell(xo, yo);\r\n        if (c?.explored && map.contains(x, y)) {\r\n          const tile = map.get(x, y);\r\n          let colour = tile.colour;\r\n          if (!term.isVisible(xo, yo)) colour = darken(colour);\r\n          term.drawChar(xo, yo, tile.glyph, colour);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.drawable.get().map((e) => {\r\n      const app = e.get(Appearance);\r\n      const pos = e.get(Position);\r\n\r\n      const x = pos.x - scrollX;\r\n      const y = pos.y - scrollY;\r\n      if (term.isVisible(x, y)) term.drawChar(x, y, app.glyph, app.colour);\r\n    });\r\n\r\n    this.dirty = false;\r\n  }\r\n}\r\n","import type { Cell } from \"wglt\";\r\n\r\nimport { PlayerTag, Position } from \"../components\";\r\nimport type Game from \"../Game\";\r\nimport { outOfBounds } from \"../Tile\";\r\n\r\nexport default class PlayerFOV {\r\n  dirty: boolean;\r\n  scrolled: boolean;\r\n\r\n  constructor(public g: Game) {\r\n    this.dirty = true;\r\n    this.scrolled = true;\r\n\r\n    g.on(\"move\", (who) => {\r\n      if (who.has(PlayerTag)) this.dirty = true;\r\n    });\r\n\r\n    g.on(\"scroll\", ([x, y]) => {\r\n      this.preserveExplored();\r\n\r\n      this.g.scrollX = x;\r\n      this.g.scrollY = y;\r\n\r\n      this.dirty = true;\r\n      this.scrolled = true;\r\n    });\r\n  }\r\n\r\n  process() {\r\n    if (!this.dirty) return;\r\n\r\n    const { player, scrollX, scrollY, term } = this.g;\r\n    if (this.scrolled) this.scroll(scrollX, scrollY);\r\n\r\n    const pos = player.get(Position);\r\n    const x = pos.x - scrollX;\r\n    const y = pos.y - scrollY;\r\n    if (term.getCell(x, y)) {\r\n      term.computeFov(x, y, 5);\r\n      term.updateExplored();\r\n    }\r\n\r\n    this.dirty = false;\r\n  }\r\n\r\n  preserveExplored() {\r\n    const { map, scrollX, scrollY, term } = this.g;\r\n\r\n    for (let yo = 0; yo < term.height; yo++) {\r\n      const y = yo + scrollY;\r\n\r\n      for (let xo = 0; xo < term.width; xo++) {\r\n        const x = xo + scrollX;\r\n\r\n        if (map.contains(x, y)) {\r\n          const tile = map.get(x, y);\r\n          tile.explored ||= term.getCell(xo, yo)?.explored;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  scroll(sx: number, sy: number) {\r\n    const { map, term } = this.g;\r\n\r\n    for (let yo = 0; yo < term.height; yo++) {\r\n      const y = yo + sy;\r\n\r\n      for (let xo = 0; xo < term.width; xo++) {\r\n        const x = xo + sx;\r\n\r\n        const tile = map.contains(x, y) ? map.get(x, y) : outOfBounds;\r\n        const cell = term.getCell(xo, yo) as Cell;\r\n\r\n        cell.blocked = tile.blocks;\r\n        cell.blockedSight = tile.opaque;\r\n        cell.explored = tile.explored || false;\r\n      }\r\n    }\r\n\r\n    this.scrolled = false;\r\n  }\r\n}\r\n","export default interface Tile {\r\n  glyph: string;\r\n  colour: number;\r\n  blocks: boolean;\r\n  opaque: boolean;\r\n  explored?: boolean;\r\n}\r\n\r\nexport const outOfBounds: Tile = {\r\n  glyph: \" \",\r\n  colour: 0,\r\n  blocks: true,\r\n  opaque: true,\r\n};\r\n","import { type KeyCode, Keys, Point, type Terminal } from \"wglt\";\r\n\r\nimport { Position } from \"../components\";\r\nimport type Game from \"../Game\";\r\n\r\nconst movementKeys = new Map<KeyCode, Point>([\r\n  // numpad\r\n  [Keys.VK_NUMPAD7, new Point(-1, -1)],\r\n  [Keys.VK_NUMPAD8, new Point(0, -1)],\r\n  [Keys.VK_NUMPAD9, new Point(1, -1)],\r\n  [Keys.VK_NUMPAD4, new Point(-1, 0)],\r\n  [Keys.VK_NUMPAD5, new Point(0, 0)],\r\n  [Keys.VK_NUMPAD6, new Point(1, 0)],\r\n  [Keys.VK_NUMPAD1, new Point(-1, 1)],\r\n  [Keys.VK_NUMPAD2, new Point(0, 1)],\r\n  [Keys.VK_NUMPAD3, new Point(1, 1)],\r\n\r\n  // numpad (with numlock off)\r\n  [Keys.VK_HOME, new Point(-1, -1)],\r\n  [Keys.VK_UP, new Point(0, -1)],\r\n  [Keys.VK_PAGE_UP, new Point(1, -1)],\r\n  [Keys.VK_LEFT, new Point(-1, 0)],\r\n  [\"Clear\" as KeyCode, new Point(0, 0)],\r\n  [Keys.VK_RIGHT, new Point(1, 0)],\r\n  [Keys.VK_END, new Point(-1, 1)],\r\n  [Keys.VK_DOWN, new Point(0, 1)],\r\n  [Keys.VK_PAGE_DOWN, new Point(1, 1)],\r\n\r\n  // vi keys\r\n  [Keys.VK_Y, new Point(-1, -1)],\r\n  [Keys.VK_K, new Point(0, -1)],\r\n  [Keys.VK_U, new Point(1, -1)],\r\n  [Keys.VK_H, new Point(-1, 0)],\r\n  [Keys.VK_PERIOD, new Point(0, 0)],\r\n  [Keys.VK_L, new Point(1, 0)],\r\n  [Keys.VK_B, new Point(-1, 1)],\r\n  [Keys.VK_J, new Point(0, 1)],\r\n  [Keys.VK_N, new Point(1, 1)],\r\n]);\r\n\r\nfunction getMovementKey(term: Terminal) {\r\n  for (const [key, move] of movementKeys.entries()) {\r\n    if (term.isKeyPressed(key)) return move;\r\n  }\r\n}\r\n\r\nexport default class PlayerMove {\r\n  constructor(public g: Game) {}\r\n\r\n  process() {\r\n    const { player, term } = this.g;\r\n\r\n    const move = getMovementKey(term);\r\n    if (!move) return;\r\n\r\n    // TODO: wait\r\n    if (move.x === 0 && move.y === 0) return;\r\n\r\n    if (term.isKeyDown(Keys.VK_CONTROL_LEFT)) {\r\n      const newX = this.g.scrollX + move.x * 10;\r\n      const newY = this.g.scrollY + move.y * 10;\r\n\r\n      this.g.emit(\"scroll\", [newX, newY]);\r\n      return;\r\n    }\r\n\r\n    const pos = player.get(Position);\r\n    const { x, y } = pos;\r\n\r\n    if (!this.g.canMove(x, y, move.x, move.y)) return;\r\n\r\n    pos.x += move.x;\r\n    pos.y += move.y;\r\n    this.g.emit(\"move\", player, [x, y]);\r\n  }\r\n}\r\n"],"names":["$034686670a8a195b$export$d622b2ad8d90c771","$034686670a8a195b$export$6100ba28696e12de","$454af19f7384844b$export$aafa59e2e03f2942","$454af19f7384844b$export$68d8715fc104d294","$parcel$global","globalThis","self","window","global","$parcel$interopDefault","a","__esModule","default","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","warned","$4TNnu","formatArgs","args","useColors","namespace","humanize","diff","c","color","splice","index","lastC","replace","match","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","undefined","process","type","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","localstorage","localStorage","destroy","warn","colors","log","debug","formatters","j","v","JSON","stringify","message","$391299e0893a3dfa$var$cachedSetTimeout","$391299e0893a3dfa$var$cachedClearTimeout","$391299e0893a3dfa$var$currentQueue","$391299e0893a3dfa$var$process","$391299e0893a3dfa$var$defaultSetTimout","$391299e0893a3dfa$var$defaultClearTimeout","$391299e0893a3dfa$var$runTimeout","fun","setTimeout","e","clearTimeout","$391299e0893a3dfa$var$queue","$391299e0893a3dfa$var$draining","$391299e0893a3dfa$var$queueIndex","$391299e0893a3dfa$var$cleanUpNextTick","length","concat","$391299e0893a3dfa$var$drainQueue","timeout","len","run","$391299e0893a3dfa$var$runClearTimeout","marker","$391299e0893a3dfa$var$Item","array","$391299e0893a3dfa$var$noop","nextTick","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","Number","Date","ms","prev","coerce","unshift","format","formatter","val","logFn","selectColor","extend","Object","defineProperty","enumerable","configurable","get","set","delimiter","newDebug","toNamespace","regexp","toString","substring","stack","disable","names","map","skips","join","enable","split","slice","test","keys","forEach","key","hash","charCodeAt","Math","abs","$d4f8ce75742e0993$var$plural","msAbs","n","round","isPlural","options","$d4f8ce75742e0993$var$parse","str","String","exec","parseFloat","$d4f8ce75742e0993$var$d","$d4f8ce75742e0993$var$h","$d4f8ce75742e0993$var$m","$d4f8ce75742e0993$var$s","isFinite","long","func","count","lastCalled","start","transform","uid","assigner","HASH_UNDEFINED","argsTag","funcTag","objectTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","require","nodeIsTypedArray","isTypedArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","hasOwnProperty","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","arg","objectCreate","create","propertyIsEnumerable","symToStringTag","toStringTag","getNative","nativeIsBuffer","isBuffer","nativeMax","max","nativeNow","now","Map","nativeCreate","baseCreate","object","proto","isObject","result","Hash","entries","clear","entry","ListCache","MapCache","Stack","data","__data__","size","assignMergeValue","value","eq","baseAssignValue","assocIndexOf","has","pop","getMapData","pairs","LARGE_ARRAY_SIZE","baseFor","iteratee","keysFunc","iterable","props","baseGetTag","getRawTag","isOwn","tag","unmasked","baseIsArguments","isObjectLike","isKeyable","baseIsNative","pattern","isFunction","toSource","isIndex","isPrototype","Ctor","constructor","safeGet","setToString","string","identity","stamp","remaining","HOT_SPAN","other","isArguments","isArray","isArrayLike","isLength","keysIn","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseTimes","baseKeysIn","nativeKeysIn","isProto","merge","source","srcIndex","baseMerge","customizer","srcValue","baseMergeDeep","mergeFunc","objValue","stacked","newValue","isCommon","arrayBuffer","buffer","isTyped","copyArray","cloneBuffer","isDeep","copy","typedArray","byteLength","byteOffset","isPlainObject","copyObject","isNew","assignValue","sources","guard","isIterateeCall","otherArgs","thisArg","$cR93q","$4a9976ca6ebf6735$exports","$4a9976ca6ebf6735$var$has","$4a9976ca6ebf6735$var$prefix","$4a9976ca6ebf6735$var$Events","$4a9976ca6ebf6735$var$EE","fn","context","$4a9976ca6ebf6735$var$addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","$4a9976ca6ebf6735$var$clearEvent","$4a9976ca6ebf6735$var$EventEmitter","__proto__","eventNames","events","getOwnPropertySymbols","handlers","l","ee","listenerCount","a1","a2","a3","a4","a5","prefixed","EventEmitter","$bf1e9ebc0cfb87e0$var$PRNG","seed","_seed","cast","number","bits","BigInt","asUintN","checkNum","reset","_int","bool","float","coin","pTrue","int","bigInt","float53","b","randRange","min","range","t","randBelow","choice","shuffle","inPlace","toSort","from","temp","initArray","mapFn","boolArray","coinArray","intArray","bigIntArray","randRangeArray","floatArray","float53Array","$bf1e9ebc0cfb87e0$export$2e2bcd8739ae039","$006f3baa2011aebb$export$2e2bcd8739ae039","$11e2e995f355532d$export$2e2bcd8739ae039","x","$73e8f9d399204016$export$4385e60b38654f68","$87432b44d227b409$var$Ae","$87432b44d227b409$var$Ee","getOwnPropertyDescriptor","$87432b44d227b409$var$R","o","$87432b44d227b409$export$dd69e37c8d0f725a","$87432b44d227b409$export$c537fa0d021d010b","BLACK","WHITE","LIGHT_GRAY","DARK_GRAY","YELLOW","BROWN","LIGHT_RED","DARK_RED","LIGHT_GREEN","DARK_GREEN","LIGHT_CYAN","DARK_CYAN","LIGHT_BLUE","DARK_BLUE","LIGHT_MAGENTA","DARK_MAGENTA","ORANGE","$87432b44d227b409$var$Y","$87432b44d227b409$export$c1faf8344a396331","$87432b44d227b409$export$f6f0c3fe4ec306ea","y","charCode","fg","bg","dirty","blocked","blockedSight","explored","visible","pathId","g","h","setCharCode","setForeground","setBackground","setValue","drawCell","blendColors","s","u","d","clamp","$87432b44d227b409$export$97d194f5fd3fc7c4","BOX_SINGLE_VERTICAL","BOX_DOUBLE_VERTICAL","BOX_DOUBLE_DOWN_AND_DOUBLE_LEFT","BOX_DOUBLE_UP_AND_DOUBLE_LEFT","BOX_SINGLE_DOWN_AND_SINGLE_LEFT","BOX_SINGLE_UP_AND_SINGLE_RIGHT","BOX_SINGLE_HORIZONTAL","BOX_DOUBLE_UP_AND_DOUBLE_RIGHT","BOX_DOUBLE_DOWN_AND_DOUBLE_RIGHT","BOX_DOUBLE_HORIZONTAL","BOX_SINGLE_UP_AND_SINGLE_LEFT","BOX_SINGLE_DOWN_AND_SINGLE_RIGHT","BLOCK_RIGHT_HALF","BLOCK_TOP_HALF","$87432b44d227b409$export$71ac550529085c78","CENTER","RIGHT","$87432b44d227b409$export$f69c19e57285b83a","text","children","align","getWidth","getHeight","$87432b44d227b409$export$8d5400d15923e166","width","height","grid","originX","originY","minX","maxX","minY","maxY","radius","drawChar","getCell","getCharCode","clip","contains","drawString","drawStringLine","drawCenteredString","floor","drawMessage","trim","drawHLine","drawVLine","drawRect","drawBox","p","E","drawSingleBox","drawDoubleBox","fillRect","drawConsole","setBlocked","setBlockedSight","isVisible","isBlocked","isBlockedSight","computeOctantY","C","A","_","computeOctantX","computeFov","updateExplored","$87432b44d227b409$export$7d7a232b6d2cc80c","url","charWidth","charHeight","$87432b44d227b409$export$baf26146a414f24a","$87432b44d227b409$export$c79fc6492f3af13d","left","top","x2","y2","getCenter","intersects","$87432b44d227b409$export$7eb25b1263d43612","dialog","rect","contentsOffset","open","$87432b44d227b409$export$21b6c8a35893e29c","getState","contentsRect","draw","drawContents","$87432b44d227b409$export$983832d820c96993","terminal","renderer","dialogs","add","handleInput","$87432b44d227b409$export$3ddf2d174ce01153","$87432b44d227b409$export$f5b8910cec6cf069","down","downTime","repeat","repeatTime","downCount","upCount","setDown","performance","update","isPressed","isClicked","$87432b44d227b409$export$7c78ffdf4777b950","inputs","updateAll","$87432b44d227b409$export$16e4d70cc375e707","addEventListener","setKey","getKey","$87432b44d227b409$export$4b0075e5ea5e1f26","VK_F11","stopPropagation","preventDefault","updateKeys","VK_CONTROL_LEFT","VK_ESCAPE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_B","VK_H","VK_J","VK_K","VK_L","VK_N","VK_U","VK_Y","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_PERIOD","$87432b44d227b409$export$5e8a3ee5eb0ce78c","isKeyPressed","$87432b44d227b409$export$7caecd373b84cec3","buttons","el","canvas","prevX","prevY","dx","dy","wheelDeltaX","wheelDeltaY","handleEvent","handleTouchEvent","handleWheelEvent","touches","updatePosition","clientX","clientY","button","focus","deltaX","deltaY","getBoundingClientRect","$87432b44d227b409$export$7492a095b4ff4e68","m","state","nextInt","nextFloat","nextRange","isNaN","chooseIndex","reduce","chooseKey","$87432b44d227b409$var$ce","$87432b44d227b409$var$de","$87432b44d227b409$var$me","$87432b44d227b409$var$fe","$87432b44d227b409$var$K","$87432b44d227b409$var$_e","$87432b44d227b409$var$Be","font","movementKeys","$87432b44d227b409$export$8dd80f06eb58bfe1","crt","maxFps","pixelWidth","pixelHeight","pixelScale","scale","imageRendering","outline","tabIndex","handleResize","mouse","getContext","antialias","createProgram","gl","program","attachShader","buildShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","useProgram","crtProgram","crtBlurLocation","getUniformLocation","crtCurvatureLocation","crtChromaLocation","crtScanlineWidthLocation","crtScanlineIntensityLocation","crtVignetteLocation","crtPositionLocation","getAttribLocation","crtPositionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","crtTexCoordLocation","crtTexCoordBuffer","positionAttribLocation","textureAttribLocation","fgColorAttribLocation","bgColorAttribLocation","positionsArray","indexArray","Uint16Array","textureArray","foregroundUint8Array","foregroundDataView","DataView","backgroundUint8Array","backgroundDataView","frameBufferTexture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","frameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","positionBuffer","indexBuffer","textureBuffer","foregroundBuffer","backgroundBuffer","ELEMENT_ARRAY_BUFFER","texture","loadTexture","lastRenderTime","renderDelta","fps","averageFps","requestAnimationFrame","setInterval","renderLoop","parentElement","offsetWidth","offsetHeight","flush","setUint32","isKeyDown","getKeyDownCount","getMovementKey","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","Image","onload","src","render","clearColor","clearDepth","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","viewport","DYNAMIC_DRAW","activeTexture","TEXTURE0","UNSIGNED_SHORT","drawElements","TRIANGLES","renderCrt","uniform1f","blur","curvature","chroma","vignette","scanlineWidth","scanlineIntensity","drawArrays","$17e375e7636c3192$exports","b64","tmp","lens","$034686670a8a195b$var$getLens","validLen","indexOf","placeHoldersLen","arr","$034686670a8a195b$var$Arr","curByte","$034686670a8a195b$var$revLookup","uint8","extraBytes","parts","len2","$034686670a8a195b$var$encodeChunk","end","output","$034686670a8a195b$var$lookup","num","$034686670a8a195b$var$code","$034686670a8a195b$var$i","$034686670a8a195b$var$len","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","pow","rt","Infinity","LN2","$d4ecdbf520e63dca$var$customInspectSymbol","$d4ecdbf520e63dca$var$createBuffer","RangeError","buf","setPrototypeOf","$d4ecdbf520e63dca$var$Buffer","encodingOrOffset","$d4ecdbf520e63dca$var$allocUnsafe","$d4ecdbf520e63dca$var$from","$d4ecdbf520e63dca$var$fromString","encoding","isEncoding","$d4ecdbf520e63dca$var$byteLength","actual","write","ArrayBuffer","isView","$d4ecdbf520e63dca$var$fromArrayView","arrayView","$d4ecdbf520e63dca$var$isInstance","$d4ecdbf520e63dca$var$fromArrayBuffer","$d4ecdbf520e63dca$var$fromArrayLike","SharedArrayBuffer","valueOf","$d4ecdbf520e63dca$var$fromObject","obj","$d4ecdbf520e63dca$var$checked","toPrimitive","$d4ecdbf520e63dca$var$assertSize","mustMatch","loweredCase","$d4ecdbf520e63dca$var$utf8ToBytes","$d4ecdbf520e63dca$var$base64ToBytes","$d4ecdbf520e63dca$var$slowToString","$d4ecdbf520e63dca$var$hexSlice","out","$d4ecdbf520e63dca$var$hexSliceLookupTable","$d4ecdbf520e63dca$var$utf8Slice","$d4ecdbf520e63dca$var$asciiSlice","ret","fromCharCode","$d4ecdbf520e63dca$var$latin1Slice","$d4ecdbf520e63dca$var$utf16leSlice","bytes","res","$d4ecdbf520e63dca$var$swap","$d4ecdbf520e63dca$var$bidirectionalIndexOf","$d4ecdbf520e63dca$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","$d4ecdbf520e63dca$var$decodeCodePointsArray","codePoints","$d4ecdbf520e63dca$var$checkOffset","ext","$d4ecdbf520e63dca$var$checkInt","$d4ecdbf520e63dca$var$wrtBigUInt64LE","$d4ecdbf520e63dca$var$checkIntBI","lo","hi","$d4ecdbf520e63dca$var$wrtBigUInt64BE","$d4ecdbf520e63dca$var$checkIEEE754","$d4ecdbf520e63dca$var$writeFloat","littleEndian","noAssert","$d4ecdbf520e63dca$var$writeDouble","TYPED_ARRAY_SUPPORT","$d4ecdbf520e63dca$var$typedArraySupport","foo","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","target","thisStart","thisEnd","thisCopy","targetCopy","includes","$d4ecdbf520e63dca$var$hexWrite","strLen","parsed","substr","$d4ecdbf520e63dca$var$blitBuffer","$d4ecdbf520e63dca$var$asciiToBytes","byteArray","$d4ecdbf520e63dca$var$utf16leToBytes","units","toJSON","_arr","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$d4ecdbf520e63dca$var$defineBigIntMethod","$d4ecdbf520e63dca$var$validateNumber","first","last","$d4ecdbf520e63dca$var$boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","maxBytes","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$d4ecdbf520e63dca$var$errors","$d4ecdbf520e63dca$var$E","sym","getMessage","Base","writable","$d4ecdbf520e63dca$var$addNumericalSeparator","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","$d4ecdbf520e63dca$var$INVALID_BASE64_RE","leadSurrogate","$d4ecdbf520e63dca$var$base64clean","dst","alphabet","i16","$d4ecdbf520e63dca$var$BufferBigIntNotDefined","factory","module1","commonjsGlobal","typeDetect","promiseExists","Promise","globalObject","symbolExists","mapExists","setExists","Set","weakMapExists","WeakMap","weakSetExists","WeakSet","dataViewExists","symbolIteratorExists","iterator","symbolToStringTagExists","setEntriesExists","mapEntriesExists","setIteratorPrototype","mapIteratorPrototype","arrayIteratorExists","arrayIteratorPrototype","stringIteratorExists","stringIteratorPrototype","typeofObj","location","mimeTypes","plugins","HTMLElement","tagName","stringTag","objPrototype","isBufferFromExists","$17e375e7636c3192$require$Buffer","detectType","collectionTypeSet","collection","freeGlobalThis","copyTypedArray","shallowCopy","getEmptyArray","copyMap","Boolean","getTime","flags","noop","copy$1","valueType","copyFunction","recursiveCopy","clone","references","visited","copiedValue","collectionKey","collectionValue","collectionValueType","copiedCollectionValue","$e957c9091d1131ca$export$1711a14a912bd240","ß","Þ","J","$","Ø","$e957c9091d1131ca$export$74a9a1cf7cd43eee","$e957c9091d1131ca$export$de708a07d1cd94be","$e957c9091d1131ca$export$fbbd7dfed5e83db7","$e957c9091d1131ca$export$75d31e339e0d6666","$e957c9091d1131ca$export$9a3108174d848595","B","D","F","V","W","$e957c9091d1131ca$export$38bb1a704f957833","$dbf2edd1943e9287$export$eba8049fb5020b81","sqrt","$dbf2edd1943e9287$export$e94af740078997a7","stats","body","level","$dbf2edd1943e9287$export$eb8e4ecb41ff2293","$903a88231ea21886$export$2e2bcd8739ae039","rows","row","cells","cell","paste","sx","sy","setHLine","x1","setVLine","y1","carve","w","border","inside","iBorder","jBorder","expand","flipH","flipV","$0f2cf24652229b87$export$2e2bcd8739ae039","blocks","$4e138ddd45f48441$var$times","results","$4e138ddd45f48441$export$2e2bcd8739ae039","floorlv","decor","choose","floorplan","tries","rng","xtend_x","xtend_y","xtarg","ytarg","roomcode","xdim","ydim","empty_check","expand_plan","wasteland","simpleplan","areaBank","pickrooms","tiles","glyph","opaque","colour","palette","xt","yt","xw","yw","rc","points","char","expandUp","expandDown","expandLeft","expandRight","scan_around","fp","ifim","lookfor","offx","offy","xn","yn","ch","xtw","ytw","plan","pasteroom","joins","nx","ny","empty","spawns","player","spawnRandomMonster","prints","blueprint","room","$f934942670b9ca5e$export$871608497c498473","$f934942670b9ca5e$export$dd1bc94b04021eeb","$f934942670b9ca5e$export$a6cdc56e425d0d0a","$f934942670b9ca5e$export$5a15a386532a5ea4","$f934942670b9ca5e$export$83b788b1a3698c03","$f934942670b9ca5e$export$d6d64087a1bd2d","$a7b584cfd8f40a9f$var$diff","lhs","rhs","deletedValues","acc","difference","$3DA3D","$80f01919ebf1d788$export$ac4959f4f1338dfc","$80f01919ebf1d788$var$urlAlphabet","random","$b24aef5a95625750$export$16fa2f45be04daa8","en","remove","$b24aef5a95625750$var$BaseEntity","ecs","prefabs","pf","components","pfd","getComponent","component","delete","co","diffData","prefabData","prefabNames","getPrefab","$b24aef5a95625750$export$bc644a473284d944","destroyed","$b24aef5a95625750$export$d96e1262c95b9fb2","$b24aef5a95625750$export$62297b13309008b2","initial","entities","filter","$b24aef5a95625750$var$ecs","idGenerator","queries","bind","comp","getEntity","nextId","entity","attach","prefab","q","query","all","any","none","matchAll","every","matchAny","some","matchNone","values","find","$cb46f08df5be025b$export$40bdb27f2137fcf","$cb46f08df5be025b$export$13807d9ee5a34a42","$cb46f08df5be025b$export$3cdec2bba15e3523","$cb46f08df5be025b$export$b6db1b6608d1baac","$3f84b3ddb41b68a8$exports","$89b310d2e676ee4e$exports","$b3b0986cd383e385$exports","$370bb0c5ae83d4cd$export$2e2bcd8739ae039","line","$cc9209d84b4c32bc$export$2e2bcd8739ae039","parsers","parse","current","documents","raw","field","blank","check","$b1af36c93f627b35$export$65980d18b75784e2","sep","$b1af36c93f627b35$export$844ec244b1367d54","$b1af36c93f627b35$export$7d260a2a5f8bc19e","$7acf9f80d753902b$var$pattern","$7acf9f80d753902b$export$2e2bcd8739ae039","$57d5a56836ac632e$export$2e2bcd8739ae039","$3f3cd2a1b5e5b406$export$2e2bcd8739ae039","previous","tags","$1c1738ec77e1ee4c$export$7e4aa119212bc614","$4dd64571f965241c$var$effectParsers","effect","power","difficulty","startsWith","amount","criterion","$4dd64571f965241c$export$2e2bcd8739ae039","hp","sp","mp","effects","attack","rest","ep","$1146f8d19fcf0f61$export$2e2bcd8739ae039","drops","chance","$a6acd60e745da565$export$2e2bcd8739ae039","$965283511a15a355$export$2e2bcd8739ae039","logo","desc","die","drop","status","$6ae71d60da5cbff8$export$2e2bcd8739ae039","$179d670c9c8767b6$export$2e2bcd8739ae039","cat","col","hname","atts","wake","idealrange","weapon","$bf5194d01929fa5e$var$pattern","$bf5194d01929fa5e$export$2e2bcd8739ae039","fromEntries","$488a4e484377ee54$export$2e2bcd8739ae039","filename","child","$9353818b584203a0$var$loadAll","parser","files","objects","$a4d63295d0185aea$var$darken","$a4d63295d0185aea$export$2e2bcd8739ae039","drawable","redraw","scrollX","scrollY","term","yo","xo","tile","app","$906ad6c09f6ed039$export$b8b447bac4a0c539","$8ac09d6c2c2334b3$export$2e2bcd8739ae039","scrolled","who","preserveExplored","scroll","$98feb6eec2fd8c9c$var$movementKeys","$98feb6eec2fd8c9c$export$2e2bcd8739ae039","move","$98feb6eec2fd8c9c$var$getMovementKey","newX","newY","canMove","$2ebe2f625290c2e3$export$2e2bcd8739ae039","blockers","getPlayerStats","gui","installCheats","fatal","systems","sys","categories","monsters","aa","glob","me","them","monster","getMonsterStats","MaxHP","HPRegenChance","HPRegenAmount","MaxStamina","StaminaRegenChance","$dbf2edd1943e9287$export$496b6b7903fe761a","StaminaRegenAmount","MaxMana","mind","ManaRegenChance","ManaRegenAmount","HitChance","spirit","HitDamage","attacker","dlg","items","spawnMonster","category","white","talent","mana","stamina","getElementById","BOX_CHAR_DETAILS","isBoxCell","con","getBoxCount","getBoxCell","up","right","fixBoxCells","fromRgb","fromHsv","f","Colors","classDefinitions","serializable","serialize","instances","instancesMap","replaceArray","replaceObject","$ref","replaceObjectProperties","deserialize","instance","classDefinition","isRef","convertCharCode","Cell","otherCell","blendMode","alpha","c1","c2","w1","w2","r1","g1","b1","r2","g2","b2","__decorateClass","Chars","MessageAlign","Message","wordWrap","maxLength","regex","capitalize","Console","blockedFunc","lines","maxWidth","xi","yi","topChar","rightChar","bottomChar","leftChar","topLeftChar","topRightChar","bottomRightChar","bottomLeftChar","dstX","dstY","srcConsole","srcX","srcY","srcWidth","srcHeight","startSlopes","endSlopes","iteration","totalObstacles","obstaclesInLastLine","minSlope","halfSlope","processedCell","extended","centreSlope","startSlope","endSlope","previousEndSlope","idx","opt_noClear","opt_octants","Font","FONT_IMAGE","DEFAULT_FONT","FovOctants","FovQuadrants","getFovQuadrant","Point","Rect","point","DialogState","DefaultDialogRenderer","dialogState","GUI","activeIndex","activeState","Dialog","INPUT_REPEAT_RATE","Input","time","InputSet","Keyboard","Keys","MessageDialog","ScrollableMessageDialog","scrollbarY","moveKey","SelectDialog","callback","startCharCode","PATTERNS","loadImage","img","getImageData","loadImage2x","draw2x2","ctx","i1","i2","i3","r3","g3","b3","i4","r4","g4","b4","minError","bestCharCode","bestBg","bestFg","patternColors","computeColors","arrayToColor","sum","avg","cellError","delta","rgb","Mouse","touch","terminalAspectRatio","rectAspectRatio","actualWidth","excess","actualHeight","Commodore64Palette","ColodorePalette","Pico8Palette","dxs","dys","costs","computePath","dest","maxDist","sourceCell","SortedSet","buildPath","alt","initialValues","low","high","mid","midCell","RNG","rangeSize","randomUnder1","chances","total","roll","runningTotal","chancesMap","VERTEX_SHADER_SOURCE","FRAGMENT_SHADER_SOURCE","CRT_VERTEX_SHADER_SOURCE","CRT_FRAGMENT_SHADER_SOURCE","interpolate","DEFAULT_MOVEMENT_KEYS","DEFAULT_OPTIONS","Terminal","cellCount","k","parent","widthFactor","heightFactor","factor","textureArrayIndex","colorArrayIndex","textureX","textureY","sh","internalFormat","srcFormat","srcType","pixel","image","normalize","stride","vertexCount","this"],"version":3,"file":"index.f10887b5.js.map"}